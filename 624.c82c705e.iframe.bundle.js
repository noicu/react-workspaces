"use strict";(self.webpackChunk_projectstorm_react_workspaces_demos=self.webpackChunk_projectstorm_react_workspaces_demos||[]).push([[624],{"./dist/stories/helpers/tools.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{EK:()=>Buttons,d4:()=>CompInternal,CN:()=>SharedArgs,Ee:()=>genVerticalNode,EP:()=>useEngine,vR:()=>useRootModel});var react=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),lodash=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js"),emotion_styled_browser_esm=__webpack_require__("../node_modules/.pnpm/@emotion+styled@11.11.0_@emotion+react@11.11.1_@types+react@18.2.14_react@18.2.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),dist=(__webpack_require__("../node_modules/.pnpm/typeface-open-sans@1.1.13/node_modules/typeface-open-sans/index.css"),__webpack_require__("../packages/core/dist/index.jsx")),defaults_dist=__webpack_require__("../packages/defaults/dist/index.jsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const DefaultDropZoneAlignmentTheme={thickness:30,thicknessIdle:13,lengthIdle:60,background:"#0096ff",backgroundEntered:"orange"},DropZoneAlignmentButtonWidget=props=>{const[entered,setEntered]=(0,react.useState)(!1),ref=(0,react.useRef)(),theme=lodash.merge({},DefaultDropZoneAlignmentTheme,props.theme||{});(0,dist.G2)({forwardRef:ref,mouseEnter:()=>{setEntered(!0)},mouseExit:()=>{setEntered(!1)}}),(0,dist.uy)({forwardRef:ref,engine:props.engine,onDrop:props.handleDrop});const vertical=props.alignment===dist.v2.LEFT||props.alignment===dist.v2.RIGHT;let width=theme.thicknessIdle,height=theme.lengthIdle;return vertical||(width=theme.lengthIdle,height=theme.thicknessIdle),(0,jsx_runtime.jsx)(S.SplitContainer,{thickness:theme.thickness,ref,vertical,alignment:props.alignment,hover:entered,children:(0,jsx_runtime.jsx)(S.SplitContainerIcon,{theme,hover:entered,width,height})})};var S;DropZoneAlignmentButtonWidget.displayName="DropZoneAlignmentButtonWidget",function(S){S.SplitContainer=emotion_styled_browser_esm.Z.div`
    ${p=>p.alignment}: 0;
    position: absolute;
    width: ${p=>p.vertical?`${p.thickness}px`:"100%"};
    height: ${p=>p.vertical?"100%":`${p.thickness}px`};
    pointer-events: all;
    display: flex;
    align-items: center;
    justify-content: center;
  `,S.SplitContainerIcon=emotion_styled_browser_esm.Z.div`
    border-radius: 2px;
    background: ${p=>p.hover?p.theme.backgroundEntered:p.theme.background};
    transition:
      background 0.3s,
      width ease-out 0.3s,
      height ease-out 0.3s;
    transition-delay: 0.1s;
    pointer-events: none;

    width: ${p=>p.hover?"100%":`${p.width}px`};
    height: ${p=>p.hover?"100%":`${p.height}px`};
  `}(S||(S={})),DropZoneAlignmentButtonWidget.__docgenInfo={description:"",methods:[],displayName:"DropZoneAlignmentButtonWidget"};const DropZoneTransformWidget=props=>{const[entered,setEntered]=(0,react.useState)(!1),ref=(0,react.useRef)();return(0,dist.G2)({forwardRef:ref,mouseEnter:()=>{setEntered(!0)},mouseExit:()=>{setEntered(!1)}}),(0,dist.uy)({forwardRef:ref,engine:props.engine,onDrop:model=>{props.zone.transform({model,zoneModel:props.model,engine:props.engine})}}),(0,jsx_runtime.jsx)(DropZoneTransformWidget_S.Container,{ref,children:props.zone.render({entered,theme:props.theme})})};var DropZoneTransformWidget_S;DropZoneTransformWidget.displayName="DropZoneTransformWidget",function(S){S.Container=emotion_styled_browser_esm.Z.div``}(DropZoneTransformWidget_S||(DropZoneTransformWidget_S={})),DropZoneTransformWidget.__docgenInfo={description:"",methods:[],displayName:"DropZoneTransformWidget"};const DefaultDropZoneLayerPanelTheme={border:2,blur:0,borderColor:"transparent",borderColorEntered:"#0096ff",background:"transparent",borderRadius:10,backgroundEntered:"rgba(0, 0, 0, 0.4)"},DropZoneLayerPanelWidget=props=>{const ref=(0,react.useRef)(),[show,setShow]=(0,react.useState)(!1),theme=lodash.merge({},DefaultDropZoneLayerPanelTheme,props.theme||{});return(0,jsx_runtime.jsx)(dist.CH,{forwardRef:ref,mouseEnter:()=>{setShow(!0)},mouseExit:()=>{setShow(!1)},children:(0,jsx_runtime.jsx)(DropZoneLayerPanelWidget_S.DimensionTracking,{theme,entered:show,dimension:props.model.r_dimensions,children:(0,jsx_runtime.jsxs)(DropZoneLayerPanelWidget_S.Inside,{ref,children:[(0,jsx_runtime.jsx)(DropZoneLayerPanelWidget_S.Layer,{visible:show,children:props.directive.splitZones.map((d=>(0,jsx_runtime.jsx)(DropZoneAlignmentButtonWidget,{model:props.model,engine:props.engine,alignment:d.alignment,handleDrop:model=>{d.handleDrop(model,props.engine)},theme:theme.splitButtonTheme},d.alignment)))}),(0,jsx_runtime.jsxs)(DropZoneLayerPanelWidget_S.Layer2,{visible:show,children:[(0,jsx_runtime.jsx)(DropZoneLayerPanelWidget_S.ButtonBar,{children:props.directive.transformZones.map((zone=>(0,jsx_runtime.jsx)(DropZoneTransformWidget,{theme:theme.transformButtonTheme,model:props.model,zone,engine:props.engine},zone.key)))}),props.debug?(0,jsx_runtime.jsx)(DropZoneLayerPanelWidget_S.Debug,{children:props.model.id.substring(0,7)}):null]})]})})})};var DropZoneLayerPanelWidget_S;DropZoneLayerPanelWidget.displayName="DropZoneLayerPanelWidget",function(S){S.DimensionTracking=(0,emotion_styled_browser_esm.Z)(dist.tv)`
    border-radius: ${p=>p.theme.borderRadius}px;
    box-sizing: border-box;
    background: ${p=>p.entered?p.theme.backgroundEntered:p.theme.background};
    border: solid ${p=>p.theme.border}px ${p=>p.entered?p.theme.borderColorEntered:p.theme.borderColor};
    transition:
      border 0.5s,
      background 0.5s;
    pointer-events: all;
    ${p=>p.theme.blur?` backdrop-filter: blur(${p.theme.blur}px)`:""};
  `,S.Debug=emotion_styled_browser_esm.Z.span`
    font-size: 10px;
    color: white;
  `,S.ButtonBar=emotion_styled_browser_esm.Z.div`
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
  `,S.Layer=emotion_styled_browser_esm.Z.div`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    opacity: ${p=>p.visible?1:0};
    transition: opacity 0.3s;
  `,S.Layer2=emotion_styled_browser_esm.Z.div`
    position: absolute;
    box-sizing: border-box;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
    padding: 20px;
    pointer-events: none;
    opacity: ${p=>p.visible?1:0};
    transition: opacity 0.3s;
  `,S.Inside=emotion_styled_browser_esm.Z.div`
    box-sizing: border-box;
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  `}(DropZoneLayerPanelWidget_S||(DropZoneLayerPanelWidget_S={})),DropZoneLayerPanelWidget.__docgenInfo={description:"",methods:[],displayName:"DropZoneLayerPanelWidget"};class DropZoneLayer extends dist.mh{constructor(options2){super({mouseEvents:!1}),this.options2=options2}renderLayer(event){return(0,jsx_runtime.jsx)(DropZoneLayerWidget,{debugModels:this.options2.debugModels,engine:event.engine,draggingModel:this.options2.modelID,getDropZoneForModel:this.options2.getDropZoneForModel,theme:this.options2.theme})}}const DropZoneLayerWidget=props=>{var _a;const draggingModelFlattened=(null===(_a=props.engine.rootModel.flatten().find((m=>m.id===props.draggingModel)))||void 0===_a?void 0:_a.flatten())||[];return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:props.engine.rootModel.flatten().filter((m=>m.r_visible)).filter((m=>!draggingModelFlattened.find((child=>child.id===m.id)))).map((m=>{const directive=props.getDropZoneForModel(m);return directive?(0,jsx_runtime.jsx)(DropZoneLayerPanelWidget,{debug:props.debugModels,directive,engine:props.engine,model:m,theme:props.theme},m.id):null}))})};DropZoneLayerWidget.__docgenInfo={description:"",methods:[],displayName:"DropZoneLayerWidget"};var index_es=__webpack_require__("../node_modules/.pnpm/@fortawesome+react-fontawesome@0.2.0_@fortawesome+fontawesome-svg-core@6.4.0_react@18.2.0/node_modules/@fortawesome/react-fontawesome/index.es.js");const DefaultDropZoneLayerButtonTheme={background:"transparent",backgroundEntered:"rgba(255, 165, 0, 0.56)",borderColor:"#0096ff",borderColorEntered:"orange",borderSize:2,borderRadius:5,icon:{color:"white",size:22},text:{color:"white",size:11}},DropZoneLayerButtonWidget=props=>{const theme=lodash.merge({},DefaultDropZoneLayerButtonTheme,props.theme||{});return(0,jsx_runtime.jsxs)(DropZoneLayerButtonWidget_S.Container,{theme,entered:props.entered,children:[(0,jsx_runtime.jsx)(DropZoneLayerButtonWidget_S.Icon,{theme,icon:props.icon}),(0,jsx_runtime.jsx)(DropZoneLayerButtonWidget_S.Text,{theme,children:props.text})]})};var DropZoneLayerButtonWidget_S;DropZoneLayerButtonWidget.displayName="DropZoneLayerButtonWidget",function(S){S.Icon=(0,emotion_styled_browser_esm.Z)(index_es.G)`
    font-size: ${p=>p.theme.icon.size}px;
    color: ${p=>p.theme.icon.color};
    pointer-events: none;
  `,S.Text=emotion_styled_browser_esm.Z.div`
    font-size: ${p=>p.theme.text.size}px;
    color: ${p=>p.theme.text.color};
    padding-top: 5px;
    pointer-events: none;
  `,S.Container=emotion_styled_browser_esm.Z.div`
    border: solid 2px ${p=>p.entered?p.theme.borderColorEntered:p.theme.borderColor};
    box-sizing: border-box;
    background: ${p=>p.entered?p.theme.backgroundEntered:p.theme.background};
    transition:
      border 0.3s,
      background 0.3s;
    pointer-events: all;
    width: 60px;
    height: 60px;
    margin: 2px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: 5px;
  `}(DropZoneLayerButtonWidget_S||(DropZoneLayerButtonWidget_S={})),DropZoneLayerButtonWidget.__docgenInfo={description:"",methods:[],displayName:"DropZoneLayerButtonWidget"};var fontawesome_svg_core=__webpack_require__("../node_modules/.pnpm/@fortawesome+fontawesome-svg-core@6.4.0/node_modules/@fortawesome/fontawesome-svg-core/index.mjs"),free_solid_svg_icons=__webpack_require__("../node_modules/.pnpm/@fortawesome+free-solid-svg-icons@6.4.0/node_modules/@fortawesome/free-solid-svg-icons/index.mjs");fontawesome_svg_core.vI.add(free_solid_svg_icons.kZ_);const ReplaceZone={key:"REPLACE",render:({entered,theme})=>(0,jsx_runtime.jsx)(DropZoneLayerButtonWidget,{theme,entered,text:"Replace",icon:"copy"}),transform:({model,zoneModel,engine})=>{zoneModel.parent.replaceModel(zoneModel,model),engine.normalize()}},DropzoneDividerWidget=props=>{var _a,_b,_c,_d;const[entered,setEntered]=(0,react.useState)(!1),ref=(0,react.useRef)();(0,dist.G2)({forwardRef:ref,mouseEnter:()=>{setEntered(!0)},mouseExit:()=>{setEntered(!1)}}),(0,dist.uy)({forwardRef:ref,engine:props.engine,onDrop:props.handleDrop});const PULL_INSET=(null===(_a=props.theme)||void 0===_a?void 0:_a.pullInsetLength)||30,PULL_OUTER=(null===(_b=props.theme)||void 0===_b?void 0:_b.pullInsetWidth)||6;let insetsVertical=-1*PULL_OUTER,insetsHorizontal=PULL_INSET;return props.dimension.isPortrait()&&(insetsVertical=PULL_INSET,insetsHorizontal=-1*PULL_OUTER),entered&&(insetsVertical-=5,insetsHorizontal-=5),(0,jsx_runtime.jsx)(DropzoneDividerWidget_S.DimensionTracker,{dimension:props.dimension,children:(0,jsx_runtime.jsx)(DropzoneDividerWidget_S.Container,{colorEnter:(null===(_c=props.theme)||void 0===_c?void 0:_c.colorEnter)||"orange",color:(null===(_d=props.theme)||void 0===_d?void 0:_d.color)||"#0096ff",ref,enter:entered,insetsVertical,insetsHorizontal})})};var DropzoneDividerWidget_S;DropzoneDividerWidget.displayName="DropzoneDividerWidget",function(S){S.DimensionTracker=(0,emotion_styled_browser_esm.Z)(dist.tv)``,S.Container=emotion_styled_browser_esm.Z.div`
    pointer-events: all;
    position: absolute;
    background: ${p=>p.enter?p.colorEnter:p.color};
    border-radius: 5px;
    transition:
      background 0.3s,
      opacity 0.3s,
      left 0.3s,
      top 0.3s,
      bottom 0.3s,
      right 0.3s;
    transition-delay: 0.1s;
    opacity: ${p=>p.enter?1:.1};
    top: ${p=>p.insetsVertical}px;
    left: ${p=>p.insetsHorizontal}px;
    bottom: ${p=>p.insetsVertical}px;
    right: ${p=>p.insetsHorizontal}px;
    user-select: none;
  `}(DropzoneDividerWidget_S||(DropzoneDividerWidget_S={})),DropzoneDividerWidget.__docgenInfo={description:"",methods:[],displayName:"DropzoneDividerWidget"};class DropzoneDividersLayer extends dist.mh{constructor(options2){super({mouseEvents:!1}),this.options2=options2}renderLayer(event){return(0,jsx_runtime.jsx)(DropzoneDividersLayerWidget,{engine:event.engine,theme:this.options2.theme})}}const DropzoneDividersLayerWidget=props=>{const forceUpdate=(0,dist.NW)(!0);return(0,react.useEffect)((()=>props.engine.registerListener({layoutInvalidated:()=>{forceUpdate()}})),[]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:props.engine.rootModel.flatten().filter((p=>p instanceof dist.Tb)).flatMap((m=>m.r_divisions.map(((division,index)=>{var _a;return(0,jsx_runtime.jsx)(DropzoneDividerWidget,{theme:null===(_a=props.theme)||void 0===_a?void 0:_a.call(props),engine:props.engine,dimension:division,handleDrop:model=>{m.addModel(model,index),props.engine.normalize()}},division.id)}))))})};DropzoneDividersLayerWidget.__docgenInfo={description:"",methods:[],displayName:"DropzoneDividersLayerWidget"};var model_tabs_dist=__webpack_require__("../packages/model-tabs/dist/index.jsx");const isAligned=(divider,aligned,parent)=>{let beforeDirective=parent.getPanelDirective(divider.before);const afterDirective=parent.getPanelDirective(divider.after);if(beforeDirective.expand!==afterDirective.expand)return!1;let before=divider.before;do{if(before=before.getSibling(aligned),!before)return!0;if(parent.getPanelDirective(before).expand)return!1}while(before);return!1},getAvailableElement=(model,aligned)=>{let width=-1!==[dist.v2.LEFT,dist.v2.RIGHT].indexOf(aligned);const sibling=model.getSibling(aligned);return sibling&&(width&&[model.size.width,model.minimumSize.width,model.maximumSize.width].every(((v,index,arr)=>v===arr[0]))||!width&&[model.size.height,model.minimumSize.height,model.maximumSize.height].every(((v,index,arr)=>v===arr[0])))?getAvailableElement(sibling,aligned):model},ResizeDividerWidget=props=>{const container=props.dividerContainer.dimensions,vertical=props.dividerContainer.vertical,ref=(0,react.useRef)(),[strategy]=(0,react.useState)((()=>((divider,parent)=>{let sizeSnapshot=new Map;const isExpand=model=>parent.getPanelDirective(model).expand,setSize=(model,val)=>{divider.vertical?model.setWidth(val):model.setHeight(val)};return{startMove:()=>{sizeSnapshot=new Map(parent.children.map((c=>parent.vertical?[c,c.size.height]:[c,c.size.width])))},moved:({distanceX,distanceY})=>{const distance=divider.vertical?distanceX:distanceY,alignment=divider.vertical?dist.v2.LEFT:dist.v2.TOP;let{before,after}=divider;(!isExpand(before)&&isExpand(after)||isAligned(divider,alignment,parent))&&(before=getAvailableElement(before,alignment),setSize(before,sizeSnapshot.get(before)+distance)),isExpand(before)&&!isExpand(after)||!isAligned(divider,alignment,parent)?(after=getAvailableElement(after,(0,dist.v4)(alignment)),setSize(after,sizeSnapshot.get(after)-distance)):setSize(before,sizeSnapshot.get(before)+distance)}}})(props.dividerContainer,props.parent)));return(0,react.useEffect)((()=>props.engine.registerListener({layoutInvalidated:()=>{props.dividerContainer.dimensions.invalidate()}})),[]),(0,dist.SF)(Object.assign({forwardRef:ref},strategy)),(0,jsx_runtime.jsx)(ResizeDividerWidget_S.DimensionTracker,{dimension:container,children:(0,jsx_runtime.jsx)(ResizeDividerWidget_S.Container,{onMouseEnter:()=>{container.setHover(!0)},onMouseLeave:()=>{container.setHover(!1)},onMouseDown:()=>{let l;l=()=>{container.setActive(!1),window.removeEventListener("mouseup",l)},window.addEventListener("mouseup",l),container.setActive(!0)},ref,vertical})})};var ResizeDividerWidget_S;ResizeDividerWidget.displayName="ResizeDividerWidget",function(S){S.DimensionTracker=(0,emotion_styled_browser_esm.Z)(dist.tv)``;S.Container=emotion_styled_browser_esm.Z.div`
    pointer-events: all;
    cursor: ${p=>p.vertical?"col-resize":"row-resize"};
    position: absolute;
    top: -${2}px;
    left: -${2}px;
    bottom: -${2}px;
    right: -${2}px;
    user-select: none;
  `}(ResizeDividerWidget_S||(ResizeDividerWidget_S={})),ResizeDividerWidget.__docgenInfo={description:"",methods:[],displayName:"ResizeDividerWidget"};class ResizeDividersLayer extends dist.mh{constructor(){super({mouseEvents:!1})}renderLayer(event){return(0,jsx_runtime.jsx)(ResizeDividersLayerWidget,{engine:event.engine})}}const ResizeDividersLayerWidget=props=>{const forceUpdate=(0,dist.NW)(!0);return(0,react.useEffect)((()=>props.engine.registerListener({layoutInvalidated:()=>{forceUpdate()}})),[]),(0,react.useEffect)((()=>{const listeners=props.engine.rootModel.flatten().map((m=>m.registerListener({visibilityChanged:()=>{forceUpdate()}})));return()=>{listeners.forEach((l=>l()))}}),[]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:props.engine.rootModel.flatten().filter((p=>p instanceof dist.Tb)).flatMap((m=>m.getResizeDivisions())).map((m=>(0,jsx_runtime.jsx)(ResizeDividerWidget,{parent:m.before.parent,engine:props.engine,dividerContainer:m},m.dimensions.id)))})};ResizeDividersLayerWidget.__docgenInfo={description:"",methods:[],displayName:"ResizeDividersLayerWidget"};fontawesome_svg_core.vI.add(free_solid_svg_icons.r8p,free_solid_svg_icons.Krp);const AppendToTabGroupZone={key:"ADD_TAB",render:({entered,theme})=>(0,jsx_runtime.jsx)(DropZoneLayerButtonWidget,{theme,entered,text:"Add Tab",icon:"plus"}),transform:({model,zoneModel,engine})=>{zoneModel.parent.addModel(model),engine.normalize()}};var model_tray_dist=__webpack_require__("../packages/model-tray/dist/index.jsx");fontawesome_svg_core.vI.add(free_solid_svg_icons.r8p,free_solid_svg_icons.u7T);const AppendToTrayZone={key:"ADD_ITEM",render:({entered,theme})=>(0,jsx_runtime.jsx)(DropZoneLayerButtonWidget,{theme,entered,text:"Add item",icon:"plus"}),transform:({model,zoneModel,engine})=>{zoneModel.parent.addModel(model),engine.normalize()}},ConvertToTrayZone=trayFactory=>({key:"MAKE_TRAY",render:({entered,theme})=>(0,jsx_runtime.jsx)(DropZoneLayerButtonWidget,{theme,entered,text:"Tray",icon:"table-list"}),transform:({model,zoneModel,engine})=>{const trayModel=trayFactory.generateModel();zoneModel.parent.replaceModel(zoneModel,trayModel),trayModel.addModel(zoneModel),trayModel.addModel(model),engine.normalize()}});var theming_dist=__webpack_require__("../node_modules/.pnpm/@storybook+theming@7.0.26_react-dom@18.2.0_react@18.2.0/node_modules/@storybook/theming/dist/index.mjs");const genVerticalNode=()=>(new dist.Yb).setExpand(!1,!0).setVertical(!0).addModel(new defaults_dist.lO("Panel 1")).addModel(new defaults_dist.lO("Panel 2"));var DebugOptions;!function(DebugOptions){DebugOptions.DebugDividers="DebugDividers",DebugOptions.DebugPanels="DebugPanels",DebugOptions.DebugResizers="DebugResizers",DebugOptions.DebugWindows="DebugWindows"}(DebugOptions||(DebugOptions={}));const SharedArgs={[DebugOptions.DebugPanels]:!1,[DebugOptions.DebugDividers]:!1,[DebugOptions.DebugResizers]:!1,[DebugOptions.DebugWindows]:!1},useRootModel=(model,args)=>((0,react.useEffect)((()=>{model.setDebug(args[DebugOptions.DebugWindows])}),[args[DebugOptions.DebugWindows]]),model),useEngine=(args={})=>{const[debugLayer]=(0,react.useState)((()=>new dist.bf({dividers:args[DebugOptions.DebugDividers],resizeDividers:args[DebugOptions.DebugResizers],panels:args[DebugOptions.DebugPanels]}))),[engine]=(0,react.useState)((()=>{const e=new dist.DA,commonRenderer=new defaults_dist.n8,windowFactory=new defaults_dist.jO,tabFactory=new model_tabs_dist.GX,trayFactory=new defaults_dist.f8({windowFactory,installIconPositionListener:!0,installEngineLockListener:!0}),workspaceNodeFactory=new dist.g1;return e.registerFactory(new defaults_dist.Tm),tabFactory.addRenderer(commonRenderer),trayFactory.addRenderer(commonRenderer),workspaceNodeFactory.addRenderer(commonRenderer),windowFactory.addRenderer(commonRenderer),e.registerFactory(tabFactory),e.registerFactory(trayFactory),e.registerFactory(workspaceNodeFactory),e.registerFactory(windowFactory),(options=>{let layer=null;const{engine}=options;engine.registerListener({modelDragStart:()=>{var _a;layer||(layer=new DropZoneLayer({modelID:engine.draggingID,getDropZoneForModel:options.getDropZoneForModel,debugModels:options.debug,theme:null===(_a=options.getTheme)||void 0===_a?void 0:_a.call(options)}),engine.layerManager.addLayer(layer))},modelDragEnd:()=>{null==layer||layer.remove(),layer=null}})})({engine:e,getDropZoneForModel:model=>{return((node,transformZones=[])=>{if(!(node instanceof dist.xh)&&node.parent instanceof model_tray_dist.AJ)return{transformZones:[ReplaceZone,AppendToTrayZone,...transformZones],splitZones:[]}})(model)||(options=>{const{node,transformZones,generateParentNode}=options;if(!(node instanceof dist.xh)&&node.parent instanceof dist.Tb)return{transformZones:[ReplaceZone,...transformZones||[]],splitZones:[{alignment:node.parent.vertical?dist.v2.LEFT:dist.v2.TOP,handleDrop:(model,engine)=>{const parent=node.parent,m=(null==generateParentNode?void 0:generateParentNode())||new dist.Tb;m.setVertical(!parent.vertical),m.setExpand(model.expandHorizontal,model.expandHorizontal),m.addModel(model),parent.replaceModel(node,m),m.addModel(node),engine.normalize()}},{alignment:node.parent.vertical?dist.v2.RIGHT:dist.v2.BOTTOM,handleDrop:(model,engine)=>{const parent=node.parent,m=(null==generateParentNode?void 0:generateParentNode())||new dist.Tb;m.setVertical(!parent.vertical),m.setExpand(model.expandHorizontal,model.expandHorizontal),m.addModel(model),parent.replaceModel(node,m),m.addModel(node,0),engine.normalize()}}]}})({node:model,transformZones:[(factory=tabFactory,{key:"MAKE_TABS",render:({entered,theme})=>(0,jsx_runtime.jsx)(DropZoneLayerButtonWidget,{theme,entered,text:"Tabs",icon:"layer-group"}),transform:({model,zoneModel,engine})=>{const tabs=factory.generateModel();zoneModel.parent.replaceModel(zoneModel,tabs),tabs.addModel(zoneModel),tabs.addModel(model),engine.normalize()}}),ConvertToTrayZone(trayFactory)],generateParentNode:()=>new dist.Yb})||((node,transformZones=[])=>{if(!(node instanceof dist.xh)&&node.parent instanceof model_tabs_dist.hH)return{transformZones:[ReplaceZone,AppendToTabGroupZone,...transformZones],splitZones:[]}})(model);var factory},debug:!1}),(options=>{let layer=null;const{engine,theme}=options;engine.registerListener({modelDragStart:()=>{layer||(layer=new DropzoneDividersLayer({theme}),engine.layerManager.addLayer(layer))},modelDragEnd:()=>{null==layer||layer.remove(),layer=null}})})({engine:e}),(engine=>{const layer=new ResizeDividersLayer,tryMountLayer=()=>{engine.rootModel&&!layer.isInserted()?engine.layerManager.addLayer(layer):!engine.rootModel&&layer.isInserted()&&layer.remove()};tryMountLayer(),engine.registerListener({modelUpdated:()=>{tryMountLayer()},modelDragStart:()=>{layer.remove()},modelDragEnd:()=>{engine.layerManager.addLayer(layer)}})})(e),e.layerManager.addLayer(debugLayer),e}));return(0,react.useEffect)((()=>{debugLayer.updateOptions({dividers:args.DebugDividers,resizeDividers:args.DebugResizers,panels:args.DebugPanels})}),[args.DebugDividers,args.DebugResizers,args.DebugPanels]),engine},CompInternal=props=>react.createElement(react.Fragment,null,react.createElement(theming_dist.xB,{styles:theming_dist.iv`
          html,
          body,
          #storybook-root {
            height: 100%;
          }
        `}),react.createElement(tools_S.Container,null,react.createElement(dist.Vc,{engine:props.engine,model:props.model}))),Buttons=props=>react.createElement(tools_S.Container2,null,react.createElement(tools_S.Buttons,null,lodash.map(props.btns,((btnCallback,btn)=>react.createElement(tools_S.Button,{onClick:btnCallback,key:btn},btn)))),props.children);var tools_S;!function(S){S.Container2=emotion_styled_browser_esm.Z.div`
    height: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
    background: rgb(30, 30, 30);
    box-sizing: border-box;
  `,S.Buttons=emotion_styled_browser_esm.Z.div`
    display: flex;
    flex-direction: row;
    align-items: center;
    padding: 5px;
    padding-left: 40px;
  `,S.Button=emotion_styled_browser_esm.Z.div`
    padding: 5px 10px;
    color: white;
    background: black;
    cursor: pointer;
    font-size: 12px;
    font-family: 'Open Sans';
    margin-right: 5px;
    user-select: none;

    &:hover {
      background: rgb(0, 192, 255);
    }
  `,S.Container=emotion_styled_browser_esm.Z.div`
    flex-grow: 1;
    padding: 40px;
    background: rgb(70, 70, 70);
    box-sizing: border-box;
    height: 100%;
    width: 100%;
    overflow: hidden;
    font-family: 'Open Sans';
  `}(tools_S||(tools_S={})),CompInternal.__docgenInfo={description:"",methods:[],displayName:"CompInternal"},Buttons.__docgenInfo={description:"",methods:[],displayName:"Buttons"}},"../packages/core/dist/index.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v2:()=>Alignment,Ns:()=>Corner,bf:()=>DebugLayer,lY:()=>DimensionContainer,tv:()=>DimensionTrackingWidget,up:()=>DraggableWidget_DraggableWidget,Yb:()=>ExpandNodeModel,mh:()=>Layer,Ly:()=>Position,Oy:()=>SmartOrderingWidget,Rr:()=>SubComponentModelFactory,CH:()=>UseMouseDragEventsRootWidget,xh:()=>WorkspaceCollectionModel,DA:()=>WorkspaceEngine,uU:()=>WorkspaceModel,Wg:()=>WorkspaceModelFactory,g1:()=>WorkspaceNodeFactory,Tb:()=>WorkspaceNodeModel,Vc:()=>WorkspaceWidget,v4:()=>getAlignmentInverted,uy:()=>useDroppableModel,NW:()=>useForceUpdate,KA:()=>useModelElement,SF:()=>useMouseDragDistance,G2:()=>useMouseDragEvents,yU:()=>useResizeObserver,P0:()=>useScrollObserver});var react=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js");const useMouseDragDistance=props=>{(0,react.useEffect)((()=>{const mouseDown=event=>{var _a;if(0!==event.button)return;null===(_a=props.startMove)||void 0===_a||_a.call(props);const mouseMove=event2=>{props.moved({event:event2,distanceX:event2.clientX-event.clientX,distanceY:event2.clientY-event.clientY})},mouseUp=()=>{var _a;null===(_a=props.endMove)||void 0===_a||_a.call(props),window.removeEventListener("mouseup",mouseUp),window.removeEventListener("mousemove",mouseMove)};window.addEventListener("mouseup",mouseUp),window.addEventListener("mousemove",mouseMove)};return props.forwardRef.current.addEventListener("mousedown",mouseDown),()=>{var _a;null===(_a=props.forwardRef.current)||void 0===_a||_a.removeEventListener("mousedown",mouseDown)}}),[])};var v4=__webpack_require__("../node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/v4.js");class BaseObserver{constructor(){this.listeners={}}registerListener(listener,meta){const id=(0,v4.Z)();return this.listeners[id]={l:listener,meta},()=>{delete this.listeners[id]}}iterateListeners(cb){for(let i in this.listeners)cb(this.listeners[i].l)}}class Size extends BaseObserver{constructor(){super(),this._width=0,this._height=0}get width(){return this._width}get height(){return this._height}set width(width){this.update({width})}valid(){return this.getVolume()>0}set height(height){this.update({height})}get value(){return{width:this._width,height:this._height}}isPortrait(){return this.height>this.width}getVolume(){return this.width*this.height}trackSize(size){return this.update(size.value),size.registerListener({updated:()=>{this.update(size.value)}})}update(size){let updated=!1,old={width:this._width,height:this._height};null!=size.width&&size.width!==this.width&&(this._width=size.width,updated=!0),null!=size.height&&size.height!==this.height&&(this._height=size.height,updated=!0),updated&&this.iterateListeners((cb=>{var _a;return null===(_a=cb.updated)||void 0===_a?void 0:_a.call(cb,{prev:old})}))}}class Position extends BaseObserver{constructor(){super(),this._top=0,this._left=0,this._bottom=0,this._right=0}get top(){return this._top}get left(){return this._left}get bottom(){return this._bottom}get right(){return this._right}getRelativeToPosition(rect){return{top:this._top-rect.top,left:this._left-rect.left,right:this._right-rect.right,bottom:this._bottom-rect.bottom}}getRelativeToMousePosition(position){return{clientX:this._left-position.clientX,clientY:this._top-position.clientY}}update(position){let updated=!1;null!=position[Alignment.TOP]&&position[Alignment.TOP]!==this._top&&(this._top=position[Alignment.TOP],updated=!0),null!=position[Alignment.LEFT]&&position[Alignment.LEFT]!==this._left&&(this._left=position[Alignment.LEFT],updated=!0),null!=position[Alignment.BOTTOM]&&position[Alignment.BOTTOM]!==this._bottom&&(this._bottom=position[Alignment.BOTTOM],updated=!0),null!=position[Alignment.RIGHT]&&position[Alignment.RIGHT]!==this._right&&(this._right=position[Alignment.RIGHT],updated=!0),updated&&this.iterateListeners((cb=>{var _a;return null===(_a=cb.updated)||void 0===_a?void 0:_a.call(cb)}))}}class DimensionContainer extends BaseObserver{constructor(options={}){super(),this.fireUpdated=()=>{this.iterateListeners((cb=>{var _a;return null===(_a=cb.updated)||void 0===_a?void 0:_a.call(cb)}))},this.id=(0,v4.Z)(),this.size=options.size||new Size,this.position=options.position||new Position,this.size.registerListener({updated:()=>{this.fireUpdated()}}),this.position.registerListener({updated:()=>{this.fireUpdated()}})}get dimensions(){return{top:this.position.top,left:this.position.left,bottom:this.position.bottom,right:this.position.right,width:this.size.width,height:this.size.height}}isPortrait(){return this.size.isPortrait()}getVolume(){return this.size.getVolume()}invalidate(immediate){this.iterateListeners((cb=>{var _a;return null===(_a=cb.invalidate)||void 0===_a?void 0:_a.call(cb,immediate)}))}update(dim){this.size.update(dim),this.position.update(dim)}getRelativeToPosition(rect){return this.position.getRelativeToPosition(rect)}getRelativeToMousePosition(position){return this.position.getRelativeToMousePosition(position)}isAligned(parent,alignment){const rel=this.getRelativeToPosition(parent.position)[alignment];return alignment===Alignment.LEFT?rel<=parent.dimensions.width/2:alignment===Alignment.RIGHT?rel>parent.dimensions.width/2:alignment===Alignment.TOP?rel<=parent.dimensions.height/2:alignment===Alignment.BOTTOM?rel>parent.dimensions.height/2:void 0}}var __awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};class WorkspaceModelSize extends Size{constructor(min,max){super(),this.min=min,this.max=max,this.min.registerListener({updated:()=>{this.update(this.value)}}),this.max.registerListener({updated:()=>{this.update(this.value)}})}update(size){null!=size.width&&(size.width<this.min.width?size.width=this.min.width:this.max.width>0&&size.width>this.max.width&&(size.width=this.max.width)),null!=size.height&&(size.height<this.min.height?size.height=this.min.height:this.max.height>0&&size.width>this.max.height&&(size.height=this.max.height)),super.update(size)}}class WorkspaceModel extends BaseObserver{constructor(type){super(),this.type=type,this.id=(0,v4.Z)(),this.parent=null,this._expandHorizontal=!0,this._expandVertical=!0,this.minimumSize=new Size,this.maximumSize=new Size,this.size=new WorkspaceModelSize(this.minimumSize,this.maximumSize),this.r_visible=!1,this.r_dimensions=new DimensionContainer,this.r_dimensions.registerListener({updated:()=>{0===this.size.width&&0===this.size.height&&this.setSize({width:this.r_dimensions.dimensions.width,height:this.r_dimensions.dimensions.height})}}),this.size.registerListener({updated:()=>{this.invalidateDimensions()}})}get expandHorizontal(){return this._expandHorizontal}set expandHorizontal(value){this._expandHorizontal=value}get expandVertical(){return this._expandVertical}set expandVertical(value){this._expandVertical=value}waitForInitialRenderedSize(){return __awaiter(this,void 0,void 0,(function*(){return new Promise((resolve=>{let l1,l2;l1=this.r_dimensions.registerListener({updated:()=>{this.r_dimensions.size.width>0&&(resolve(this.r_dimensions.dimensions),null==l1||l1(),null==l2||l2())}}),l2=this.registerListener({visibilityChanged:()=>{this.r_visible&&this.r_dimensions.invalidate(!0)}})}))}))}setWidth(width){this.setSize({width})}setHeight(height){this.setSize({height})}setSize(dims){this.size.update(dims)}getAllRenderDimensions(){return[this.r_dimensions]}invalidateDimensions(){this.iterateListeners((cb=>{var _a;return null===(_a=cb.dimensionsInvalidated)||void 0===_a?void 0:_a.call(cb)}))}invalidateLayout(){this.iterateListeners((cb=>{var _a;return null===(_a=cb.layoutInvalidated)||void 0===_a?void 0:_a.call(cb)}))}setVisible(visible){this.r_visible!==visible&&(this.r_visible=visible,this.iterateListeners((cb=>{var _a;return null===(_a=cb.visibilityChanged)||void 0===_a?void 0:_a.call(cb)})))}fireNodeRemoved(){this.iterateListeners((list=>{list.removed&&list.removed()}))}getSibling(alignment){return this.parent instanceof WorkspaceCollectionModel?this.parent.getChildSibling(this,alignment):null}delete(){this.fireNodeRemoved()}hasParentID(parentID){return this.id===parentID||!!this.parent&&this.parent.hasParentID(parentID)}setParent(parent){this.parent=parent}getRootModel(){return this.parent?this.parent.getRootModel():this}setExpand(horizontal=!0,vertical=!0){return this._expandHorizontal=horizontal,this._expandVertical=vertical,this}flatten(){return[this]}toArray(){return{id:this.id,type:this.type,expandHorizontal:this._expandHorizontal,expandVertical:this._expandVertical,width:this.size.width,height:this.size.height}}fromArray(payload,engine){this.id=payload.id,this._expandHorizontal=payload.expandHorizontal,this._expandVertical=payload.expandVertical,this.size.update({width:payload.width,height:payload.height})}}var lodash=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js");class WorkspaceCollectionModel extends WorkspaceModel{constructor(type){super(type),this.children=[]}fromArray(payload,engine){super.fromArray(payload,engine);for(let child of payload.children){let factory;try{factory=engine.getFactory(child.type)}catch(ex){continue}let model=factory.generateModel();model.fromArray(child,engine),this.addModel(model)}}toArray(){return Object.assign(Object.assign({},super.toArray()),{children:this.children.map((child=>child.toArray()))})}isFirstModel(model){return this.children[0].id===model.id}isLastModel(model){return this.children[this.children.length-1].id===model.id}flatten(){const children=lodash.flatMap(this.children.map((c=>c.flatten())));return super.flatten().concat(children)}getFlattened(){let children=[];for(let child of this.children)child instanceof WorkspaceCollectionModel?children=children.concat(child.getFlattened()):children.push(child);return children}replaceModel(oldModel,newModel){let index=this.children.indexOf(oldModel);return oldModel.delete(),this.addModel(newModel,index),this}getModelBefore(model){const index=this.children.indexOf(model);return index<=0?null:this.children[index-1]}getModelAfter(model){const index=this.children.indexOf(model);return index>=this.children.length-1?null:this.children[index+1]}normalize(){this.parent&&this.parent instanceof WorkspaceCollectionModel&&0===this.children.length&&this.parent.removeModel(this)}removeModel(model){let index=this.children.indexOf(model);return-1===index?(console.log("could not find model"),this):(this.children.splice(index,1),this.invalidateLayout(),this)}addModel(model,position=null){if(-1!==this.children.indexOf(model)){const pos=this.children.indexOf(model);this.children.splice(pos,1),pos>position?this.children.splice(position,0,model):this.children.splice(position-1,0,model)}else{model.parent&&model.delete(),model.setParent(this);const listener=model.registerListener({removed:()=>{listener(),this.removeModel(model),this.iterateListeners((list=>{var _a;null===(_a=list.childRemoved)||void 0===_a||_a.call(list,model)}))},layoutInvalidated:()=>{this.invalidateLayout()},dimensionsInvalidated:()=>{this.invalidateDimensions()}});null===position?this.children.push(model):this.children.splice(position,0,model)}return this.invalidateLayout(),this}addModelBefore(relativeModel,model){let index=this.children.indexOf(relativeModel);this.addModel(model,index)}addModelAfter(relativeModel,model){let index=this.children.indexOf(relativeModel);this.addModel(model,index+1)}getChildSibling(model,alignment){return null}}const regenerateIDs=model=>{model instanceof WorkspaceCollectionModel&&model.children.forEach((m=>regenerateIDs(m))),model.id=(0,v4.Z)()};var Alignment;!function(Alignment){Alignment.TOP="top",Alignment.LEFT="left",Alignment.BOTTOM="bottom",Alignment.RIGHT="right"}(Alignment||(Alignment={}));const getAlignmentInverted=alignment=>({[Alignment.TOP]:Alignment.BOTTOM,[Alignment.BOTTOM]:Alignment.TOP,[Alignment.LEFT]:Alignment.RIGHT,[Alignment.RIGHT]:Alignment.LEFT}[alignment]);var Corner;!function(Corner){Corner.TOP_LEFT="nw",Corner.TOP_RIGHT="ne",Corner.BOTTOM_RIGHT="se",Corner.BOTTOM_LEFT="sw"}(Corner||(Corner={}));const log=(...args)=>{console.debug("[SRW] ",...args)},useBaseResizeObserver=props=>{const updateLogic=(0,react.useCallback)((()=>{var _a;if(!props.forwardRef.current)return;let dims=props.forwardRef.current.getBoundingClientRect();const dimObject={width:dims.width,height:dims.height,[Alignment.TOP]:dims.top,[Alignment.LEFT]:dims.left,[Alignment.BOTTOM]:dims.bottom,[Alignment.RIGHT]:dims.right};props.dimension.update((null===(_a=props.transformer)||void 0===_a?void 0:_a.call(props,dimObject))||dimObject)}),[props.dimension]),updateDebounced=(0,react.useCallback)(lodash.debounce((()=>{updateLogic()}),500),[props.dimension]),update=(0,react.useCallback)((()=>{props.ignoreDebounce?updateLogic():updateDebounced()}),[props.dimension,props.ignoreDebounce]);(0,react.useEffect)((()=>props.dimension.registerListener({invalidate:immediate=>{immediate?updateLogic():update()}})),[props.dimension]),(props=>{(0,react.useEffect)((()=>{const listener=()=>{props.resized()};return window.addEventListener("resize",listener),()=>{window.removeEventListener("resize",listener)}}),[])})({resized:()=>{update()}}),(0,react.useEffect)((()=>{const intersectionObserver=new IntersectionObserver((()=>{update()}),{root:document.body});return intersectionObserver.observe(props.forwardRef.current),()=>{props.forwardRef.current&&intersectionObserver.unobserve(props.forwardRef.current),intersectionObserver.disconnect()}}),[props.dimension]),(0,react.useEffect)((()=>{update();const resizeObserver=new ResizeObserver((()=>{update()}));return resizeObserver.observe(props.forwardRef.current),()=>{props.forwardRef.current&&resizeObserver.unobserve(props.forwardRef.current),resizeObserver.disconnect()}}),[props.dimension])},useResizeObserver=props=>{useBaseResizeObserver(Object.assign(Object.assign({},props),{transformer:dims=>Object.assign(Object.assign({},dims),{[Alignment.TOP]:dims[Alignment.TOP]-props.engine.workspaceContainer.position.top,[Alignment.LEFT]:dims[Alignment.LEFT]-props.engine.workspaceContainer.position.left,[Alignment.BOTTOM]:dims[Alignment.BOTTOM]-props.engine.workspaceContainer.position.bottom,[Alignment.RIGHT]:dims[Alignment.RIGHT]-props.engine.workspaceContainer.position.right})})),(props=>{(0,react.useEffect)((()=>{let l2=null;const l1=props.engine.registerListener({layoutInvalidated:()=>{l2=props.engine.registerListener({layoutRepainted:()=>{null==l2||l2(),l2=null,props.dimension.invalidate()}})}});return()=>{l1(),null==l2||l2()}}),[props.dimension])})({engine:props.engine,dimension:props.dimension}),(0,react.useEffect)((()=>props.engine.workspaceContainer.registerListener({updated:()=>{props.dimension.invalidate()}})),[])},useModelElement=props=>{const ref=react.useRef();return useResizeObserver({forwardRef:ref,dimension:props.model.r_dimensions,engine:props.engine}),(0,react.useEffect)((()=>(props.model.setVisible(!0),()=>{props.model.setVisible(!1)})),[props.model]),ref};function useForceUpdate(debounce){const[value,setValue]=(0,react.useState)(0);return()=>{if(debounce)return lodash.debounce((()=>{setValue((value=>value+1))}));setValue((value=>value+1))}}const useScrollObserver=props=>{(0,react.useEffect)((()=>{const cb=()=>{props.dimension.invalidate()};return props.forwardRef.current.addEventListener("scroll",cb),()=>{var _a;null===(_a=props.forwardRef.current)||void 0===_a||_a.removeEventListener("scroll",cb)}}),[])};var jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const DropZoneDragContext=react.createContext(null),useMouseDragEvents=props=>{const c=(0,react.useContext)(DropZoneDragContext);(0,react.useEffect)((()=>{const dragEnter=event=>{var _a;c.increment(),null===(_a=props.mouseEnter)||void 0===_a||_a.call(props)},dragLeave=()=>{var _a;c.decrement(),null===(_a=props.mouseExit)||void 0===_a||_a.call(props)};return props.forwardRef.current.addEventListener("dragenter",dragEnter),props.forwardRef.current.addEventListener("dragleave",dragLeave),props.forwardRef.current.addEventListener("drop",dragLeave),()=>{var _a,_b,_c;null===(_a=props.forwardRef.current)||void 0===_a||_a.removeEventListener("dragenter",dragEnter),null===(_b=props.forwardRef.current)||void 0===_b||_b.removeEventListener("dragleave",dragLeave),null===(_c=props.forwardRef.current)||void 0===_c||_c.removeEventListener("drop",dragLeave)}}),[])},UseMouseDragEventsRootWidgetInner=props=>(useMouseDragEvents({forwardRef:props.forwardRef}),props.children),UseMouseDragEventsRootWidget=props=>{const dragCount=(0,react.useRef)(0);return(0,jsx_runtime.jsx)(DropZoneDragContext.Provider,{value:{increment:()=>{var _a;dragCount.current=dragCount.current+1,dragCount.current>0&&(null===(_a=props.mouseEnter)||void 0===_a||_a.call(props))},decrement:()=>{var _a;dragCount.current=dragCount.current-1,0===dragCount.current&&(null===(_a=props.mouseExit)||void 0===_a||_a.call(props))}},children:(0,jsx_runtime.jsx)(UseMouseDragEventsRootWidgetInner,{...props,children:props.children})})};UseMouseDragEventsRootWidget.displayName="UseMouseDragEventsRootWidget",UseMouseDragEventsRootWidget.__docgenInfo={description:"",methods:[],displayName:"UseMouseDragEventsRootWidget"};var useDroppable_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};var useDraggable_awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))};const useDraggable=props=>{(0,react.useEffect)((()=>{const dragStart=event=>{event.stopPropagation();const object=props.encode();if(object){event.dataTransfer.dropEffect="none",event.altKey?(log("dragging as a copy operation"),event.dataTransfer.effectAllowed="copy"):event.dataTransfer.effectAllowed="move";for(let key in object)log(`setting up mime: ${key}`),event.dataTransfer.setData(key,JSON.stringify(object[key]))}},dragEnd=event=>useDraggable_awaiter(void 0,void 0,void 0,(function*(){"none"!==event.dataTransfer.dropEffect?props.dragend({copy:"copy"===event.dataTransfer.dropEffect,success:!0}):props.dragend({copy:!1,success:!1})}));return props.forwardRef.current.addEventListener("dragstart",dragStart),props.forwardRef.current.addEventListener("dragend",dragEnd),()=>{var _a,_b;null===(_a=props.forwardRef.current)||void 0===_a||_a.removeEventListener("dragstart",dragStart),null===(_b=props.forwardRef.current)||void 0===_b||_b.removeEventListener("dragend",dragEnd)}}),[props.forwardRef])},useDragOverModel=props=>{(props=>{(0,react.useEffect)((()=>{const dragOver=event=>{var _a;let found=!1;for(let i=0;i<event.dataTransfer.types.length;++i)props.acceptedTypes.some((type=>event.dataTransfer.types[i].startsWith(type)))&&(found=!0);found&&(props.accept&&event.preventDefault(),null===(_a=props.dragOver)||void 0===_a||_a.call(props,event.dataTransfer.types))};return props.forwardRef.current.addEventListener("dragover",dragOver),()=>{var _a;null===(_a=props.forwardRef.current)||void 0===_a||_a.removeEventListener("dragover",dragOver)}}),[props.forwardRef])})({acceptedTypes:[WORKSPACE_MODEL_MIME],accept:props.accept,dragOver:types=>{var _a;const found=types.find((t=>t.startsWith(WORKSPACE_MODEL_ID_MIME)));if(!found)return;const id=found.substring(WORKSPACE_MODEL_ID_MIME.length);null===(_a=props.dragOver)||void 0===_a||_a.call(props,{modelID:id})},forwardRef:props.forwardRef})},WORKSPACE_MODEL_MIME="srw/model",WORKSPACE_MODEL_ID_MIME="srw/modelid/",useDroppableModel=props=>{useDragOverModel({dragOver:props.onDragover,forwardRef:props.forwardRef,accept:!0}),(props=>{(0,react.useEffect)((()=>{const drop=event=>useDroppable_awaiter(void 0,void 0,void 0,(function*(){let res={};for(let type of event.dataTransfer.types){let data=event.dataTransfer.getData(type);try{res[type]=JSON.parse(data)}catch(ex){console.warn("Failed to deserialize draggable object",ex)}}log("dropped data:",res),props.dropped(res,{position:event,isCopy:"copy"===event.dataTransfer.effectAllowed})}));return props.forwardRef.current.addEventListener("drop",drop),()=>{var _a;null===(_a=props.forwardRef.current)||void 0===_a||_a.removeEventListener("drop",drop)}}),[props.forwardRef])})({dropped:(model,opts)=>{let draggingNode=props.engine.getFactory(model[WORKSPACE_MODEL_MIME].type).generateModel();if(draggingNode.fromArray(model[WORKSPACE_MODEL_MIME],props.engine),opts.isCopy)log("was a copy operation, regenerating ids"),regenerateIDs(draggingNode);else{const found=props.engine.rootModel.flatten().find((m=>m.id===draggingNode.id));draggingNode=found||draggingNode}log("workspace model dropped",draggingNode),props.onDrop(draggingNode)},forwardRef:props.forwardRef})};var emotion_styled_browser_esm=__webpack_require__("../node_modules/.pnpm/@emotion+styled@11.11.0_@emotion+react@11.11.1_@types+react@18.2.14_react@18.2.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js");const DimensionTrackingWidget=props=>{const forceUpdate=useForceUpdate();return(0,react.useEffect)((()=>props.dimension.registerListener({updated:()=>{forceUpdate()}})),[props.dimension]),(0,jsx_runtime.jsx)(S.Container,{ref:props.forwardRef,className:props.className,d:props.dimension.dimensions,animate:props.animateDuration||0,children:props.children})};var S;DimensionTrackingWidget.displayName="DimensionTrackingWidget",function(S){S.Container=emotion_styled_browser_esm.Z.div`
    position: absolute;
    width: ${p=>p.d.width}px;
    height: ${p=>p.d.height}px;
    top: ${p=>p.d.top}px;
    left: ${p=>p.d.left}px;
    ${p=>p.animate>0?`transition: top ${p.animate}ms, left ${p.animate}ms`:""};
  `}(S||(S={})),DimensionTrackingWidget.__docgenInfo={description:"",methods:[],displayName:"DimensionTrackingWidget"};const DividerWidget=props=>{var _a;const ref=(0,react.useRef)(),forceUpdate=useForceUpdate();return(0,react.useEffect)((()=>props.dimensionContainer.registerListener({activeChanged:()=>{forceUpdate()},hoverChanged:()=>{forceUpdate()}})),[]),useResizeObserver({forwardRef:ref,dimension:props.dimensionContainer,engine:props.engine}),(0,jsx_runtime.jsx)(DividerWidget_S.Container,{hoverColor:props.hoverColor,activeColor:props.activeColor,hover:props.dimensionContainer.hover,active:props.dimensionContainer.active,thickness:null!==(_a=props.thickness)&&void 0!==_a?_a:4,ref})};var DividerWidget_S,DraggableWidget_S;DividerWidget.displayName="DividerWidget",function(S){S.Container=emotion_styled_browser_esm.Z.div`
    min-width: 4px;
    min-height: 4px;
    transition: background 0.2s;
    transition-delay: 50ms;
    ${p=>p.hover?`background: ${p.hoverColor}`:""};
    ${p=>p.active?`background: ${p.activeColor}`:""};
  `}(DividerWidget_S||(DividerWidget_S={})),DividerWidget.__docgenInfo={description:"",methods:[],displayName:"DividerWidget"},function(S){S.Draggable=emotion_styled_browser_esm.Z.div`
    cursor: ${p=>p.draggable?"move":"pointer"};
  `}(DraggableWidget_S||(DraggableWidget_S={}));const DraggableWidget_DraggableWidget=props=>{const ref=(0,react.useRef)(),forceUpdate=useForceUpdate();return(props=>{useDraggable({encode:()=>({[WORKSPACE_MODEL_MIME]:props.model.toArray(),[WORKSPACE_MODEL_ID_MIME+props.model.id]:props.model.id}),dragend:({copy,success})=>{success&&!copy&&(props.engine.draggingID||(props.model.delete(),props.engine.normalize())),props.engine.setDraggingNode(null)},forwardRef:props.forwardRef})})({forwardRef:props.forwardRef||ref,model:props.model,engine:props.engine}),(0,react.useEffect)((()=>props.engine.registerListener({lockUpdated:()=>{forceUpdate()}})),[]),(0,jsx_runtime.jsx)(DraggableWidget_S.Draggable,{ref:props.forwardRef||ref,draggable:!props.engine.locked,onDragStart:event=>{props.engine.locked||props.engine.iterateListeners((list=>{list.draggingElement&&list.draggingElement(props.model,!0)}))},onDragEnd:event=>{props.engine.locked||props.engine.iterateListeners((list=>{list.draggingElement&&list.draggingElement(props.model,!1)}))},...props,children:props.children})};var DropzoneLogicWidget_S;DraggableWidget_DraggableWidget.displayName="DraggableWidget",DraggableWidget_DraggableWidget.__docgenInfo={description:"",methods:[],displayName:"DraggableWidget"},function(S){S.Container=emotion_styled_browser_esm.Z.div``}(DropzoneLogicWidget_S||(DropzoneLogicWidget_S={}));const DropzoneLogicWidget=props=>{const[enter,setEnter]=(0,react.useState)(!1),ref=(0,react.useRef)();return useDroppableModel({onDrop:model=>{props.onDrop(model)},engine:props.engine,forwardRef:ref}),useMouseDragEvents({forwardRef:ref,mouseEnter:()=>{setEnter(!0)},mouseExit:()=>{setEnter(!1)}}),(0,react.useEffect)((()=>{props.onDragEnter(enter)}),[enter]),(0,jsx_runtime.jsx)(DropzoneLogicWidget_S.Container,{ref,className:props.className,children:props.children})};DropzoneLogicWidget.displayName="DropzoneLogicWidget",DropzoneLogicWidget.__docgenInfo={description:"",methods:[],displayName:"DropzoneLogicWidget"};class Layer extends BaseObserver{constructor(options){super(),this.options=options,this.id=(0,v4.Z)(),this.layerManager=null}setLayerManager(manager){this.layerManager=manager}isInserted(){return!!this.layerManager}remove(){this.iterateListeners((cb=>{var _a;return null===(_a=cb.removed)||void 0===_a?void 0:_a.call(cb)}))}moveToTop(){this.iterateListeners((cb=>{var _a;return null===(_a=cb.moveToTop)||void 0===_a?void 0:_a.call(cb)}))}repaint(){this.iterateListeners((cb=>{var _a;return null===(_a=cb.repaint)||void 0===_a?void 0:_a.call(cb)}))}}class LayerManager extends BaseObserver{constructor(){super(),this._layers=new Set,this.initialZIndex=1}setInitialZIndex(index){if(index<1)throw new Error("Index must be > 0");this.initialZIndex=index,this.fireUpdated()}get layers(){return Array.from(this._layers.values())}fireUpdated(){this.iterateListeners((cb=>{var _a;return null===(_a=cb.layersChanged)||void 0===_a?void 0:_a.call(cb)}))}addLayer(layer){layer.setLayerManager(this),this._layers.add(layer);const l=layer.registerListener({removed:()=>{this._layers.delete(layer),layer.setLayerManager(null),l(),this.fireUpdated()},moveToTop:()=>{this._layers.delete(layer),this._layers.add(layer),this.fireUpdated()}});this.iterateListeners((cb=>{var _a;return null===(_a=cb.layerAdded)||void 0===_a?void 0:_a.call(cb)})),this.fireUpdated()}}const OrderingLayerWidgetDivider=props=>{const ref=(0,react.useRef)();return useMouseDragEvents({forwardRef:ref,mouseEnter:()=>{props.layer.zoneEntered(props.index)},mouseExit:()=>{props.layer.zoneEntered(null)}}),useDroppableModel({engine:props.engine,forwardRef:ref,onDrop:model=>{props.layer.dropped(model,props.index)}}),(0,jsx_runtime.jsx)(DimensionTrackingWidget,{dimension:props.dimension,children:(0,jsx_runtime.jsx)(OrderingLayerWidget_S.Container,{ref})})};OrderingLayerWidgetDivider.displayName="OrderingLayerWidgetDivider";const OrderingLayerWidget=props=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:props.layer.trackers.map(((c,index)=>(0,jsx_runtime.jsx)(OrderingLayerWidgetDivider,{engine:props.engine,index,dimension:c,layer:props.layer},c.id)))});var OrderingLayerWidget_S;!function(S){S.Container=emotion_styled_browser_esm.Z.div`
    position: absolute;
    top: -5px;
    bottom: -5px;
    left: -5px;
    right: -5px;
    //background: mediumpurple;
    pointer-events: all;
  `}(OrderingLayerWidget_S||(OrderingLayerWidget_S={})),OrderingLayerWidgetDivider.__docgenInfo={description:"",methods:[],displayName:"OrderingLayerWidgetDivider"},OrderingLayerWidget.__docgenInfo={description:"",methods:[],displayName:"OrderingLayerWidget"};class OrderingLayer extends Layer{constructor(options2){super({mouseEvents:!1}),this.options2=options2}get trackers(){return this.options2.trackers}zoneEntered(number){this.iterateListeners((cb=>{var _a;return null===(_a=cb.enteredZone)||void 0===_a?void 0:_a.call(cb,number)}))}dropped(model,index){this.iterateListeners((cb=>{var _a;return null===(_a=cb.dropped)||void 0===_a?void 0:_a.call(cb,model,index)}))}renderLayer(event){return(0,jsx_runtime.jsx)(OrderingLayerWidget,{engine:event.engine,layer:this})}}const OrderingWidgetZone=props=>{const[expand,setExpand]=(0,react.useState)(!1),ref=(0,react.useRef)();return useResizeObserver({forwardRef:ref,dimension:props.container,ignoreDebounce:!0,engine:props.engine}),(0,react.useEffect)((()=>props.layer.registerListener({enteredZone:zone=>{props.container.invalidate(),expand||zone!==props.index?setExpand(!1):setExpand(!0)}})),[]),(0,react.useEffect)((()=>{const animationEnd=()=>{props.layer.trackers.forEach((t=>{t.invalidate()}))};return ref.current.addEventListener("transitionend",animationEnd),()=>{var _a;null===(_a=ref.current)||void 0===_a||_a.removeEventListener("transitionend",animationEnd)}}),[]),props.vertical?(0,jsx_runtime.jsx)(OrderingWidget_S.ExpandVertical,{ref,expand}):(0,jsx_runtime.jsx)(OrderingWidget_S.ExpandHorizontal,{ref,expand})};OrderingWidgetZone.displayName="OrderingWidgetZone";const OrderingWidget=props=>{const[containers]=(0,react.useState)((()=>props.children.map((c=>new DimensionContainer)).concat(new DimensionContainer))),[layer]=(0,react.useState)((()=>new OrderingLayer({trackers:containers})));return(0,react.useEffect)((()=>{const l1=layer.registerListener({dropped:(model,index)=>{props.dropped({index,model})}});return props.engine.layerManager.addLayer(layer),()=>{l1(),layer.remove()}}),[]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(OrderingWidgetZone,{engine:props.engine,container:containers[0],layer,vertical:props.vertical,index:0}),props.children.map(((c,index)=>{var _a;return(0,jsx_runtime.jsxs)(react.Fragment,{children:[c,containers[index+1]?(0,jsx_runtime.jsx)(OrderingWidgetZone,{engine:props.engine,container:containers[index+1],layer,vertical:props.vertical,index:index+1}):null]},(null===(_a=containers[index+1])||void 0===_a?void 0:_a.id)||`${index}`)}))]})},SmartOrderingWidget=props=>{const[dragging,setDragging]=(0,react.useState)(!1);return(0,react.useEffect)((()=>props.engine.registerListener({modelDragStart:()=>{setDragging(!0)},modelDragEnd:()=>{setDragging(!1)}})),[]),(0,jsx_runtime.jsx)(OrderingWidget_S.Container,{className:props.className,ref:props.forwardRef,children:dragging?(0,jsx_runtime.jsx)(OrderingWidget,{...props,dropped:event=>{var _a;null===(_a=props.dropped)||void 0===_a||_a.call(props,event)}}):props.children})};var OrderingWidget_S;SmartOrderingWidget.displayName="SmartOrderingWidget",function(S){S.Container=emotion_styled_browser_esm.Z.div``,S.ExpandHorizontal=emotion_styled_browser_esm.Z.div`
    width: ${p=>p.expand?40:0}px;
    height: 100%;
    transition: width 0.3s;
    flex-shrink: 0;
  `,S.ExpandVertical=emotion_styled_browser_esm.Z.div`
    height: ${p=>p.expand?40:0}px;
    width: 100%;
    transition: height 0.3s;
    flex-shrink: 0;
  `}(OrderingWidget_S||(OrderingWidget_S={})),OrderingWidgetZone.__docgenInfo={description:"",methods:[],displayName:"OrderingWidgetZone"},OrderingWidget.__docgenInfo={description:"",methods:[],displayName:"OrderingWidget"},SmartOrderingWidget.__docgenInfo={description:"",methods:[],displayName:"SmartOrderingWidget"};class ResizeDimensionContainer extends DimensionContainer{constructor(){super(),this.hover=!1,this.active=!1}setHover(hover){this.hover!==hover&&(this.hover=hover,this.iterateListeners((cb=>{var _a;return null===(_a=cb.hoverChanged)||void 0===_a?void 0:_a.call(cb)})))}setActive(active){this.active!==active&&(this.active=active,this.iterateListeners((cb=>{var _a;return null===(_a=cb.activeChanged)||void 0===_a?void 0:_a.call(cb)})))}}class WorkspaceNodeModel extends WorkspaceCollectionModel{constructor(type=WorkspaceNodeModel.NAME){super(type),this.vertical=!0,this.r_divisions=[],this.r_overConstrained=!1}normalize(){super.normalize(),this.parent&&this.parent instanceof WorkspaceCollectionModel&&1===this.children.length&&this.parent.replaceModel(this,this.children[0])}setOverConstrained(overConstrainedChanged){this.r_overConstrained!==overConstrainedChanged&&(this.r_overConstrained=overConstrainedChanged,this.iterateListeners((cb=>{var _a;return null===(_a=cb.overConstrainedChanged)||void 0===_a?void 0:_a.call(cb)})))}toArray(){return Object.assign(Object.assign({},super.toArray()),{vertical:this.vertical})}fromArray(payload,engine){super.fromArray(payload,engine),this.vertical=payload.vertical}getResizeDivisions(){let divs=[];for(let i=1;i<this.r_divisions.length-1;i++){if(this.vertical){if(this.children[i-1].expandVertical&&this.children[i].expandVertical)continue}else if(this.children[i-1].expandHorizontal&&this.children[i].expandHorizontal)continue;divs.push({before:this.children[i-1],after:this.children[i],dimensions:this.r_divisions[i],vertical:!this.vertical})}return divs}getPanelDirective(child){return{expand:this.vertical?child.expandVertical:child.expandHorizontal,size:this.vertical?child.size.height:child.size.width}}getAllRenderDimensions(){return super.getAllRenderDimensions().concat(Array.from(this.r_divisions.values()))}recomputeDivisions(){this.r_divisions=this.children.map((c=>new ResizeDimensionContainer)).concat(new ResizeDimensionContainer),this.iterateListeners((cb=>{var _a;return null===(_a=cb.divisionsRecomputed)||void 0===_a?void 0:_a.call(cb)}))}addModel(model,position=null){return super.addModel(model,position),this.recomputeDivisions(),this}removeModel(model){return super.removeModel(model),this.recomputeDivisions(),this}shouldExpand(){return this.vertical?this.expandHorizontal:this.expandVertical}setVertical(vertical=!0){return this.vertical=vertical,this}setHorizontal(horizontal=!0){return this.vertical=!horizontal,this}getChildSibling(model,alignment){return this.vertical&&alignment===Alignment.TOP?this.getModelBefore(model):this.vertical&&alignment===Alignment.BOTTOM?this.getModelAfter(model):this.vertical||alignment!==Alignment.LEFT?this.vertical||alignment!==Alignment.RIGHT?null:this.getModelAfter(model):this.getModelBefore(model)}}WorkspaceNodeModel.NAME="srw-node";class DebugLayer extends Layer{constructor(debugOptions={panels:!0}){super({mouseEvents:!1}),this.debugOptions=debugOptions;const l2=this.registerListener({removed:()=>{this.l1(),l2()}})}setLayerManager(manager){super.setLayerManager(manager),this.l1=this.layerManager.registerListener({layerAdded:()=>{lodash.defer((()=>{this.moveToTop()}))}})}updateOptions(options){this.debugOptions=Object.assign(Object.assign({},this.debugOptions),options),this.repaint()}renderLayer(event){return(0,jsx_runtime.jsx)(DebugLayerWidget,{options:this.debugOptions,engine:event.engine,model:event.model})}}const DebugPanel=props=>{const forceUpdate=useForceUpdate();return(0,react.useEffect)((()=>props.model.registerListener({visibilityChanged:()=>{forceUpdate()}})),[]),props.model.r_visible?(0,jsx_runtime.jsx)(DebugLayer_S.Outline2,{dimension:props.model.r_dimensions,children:(0,jsx_runtime.jsx)(DebugLayer_S.DebugID,{children:props.model.id.substring(0,7)})}):null};DebugPanel.displayName="DebugPanel";const DebugLayerWidget=props=>{var _a,_b,_c;const forceUpdate=useForceUpdate(!0);return(0,react.useEffect)((()=>{props.model.registerListener({layoutInvalidated:()=>{forceUpdate()},dimensionsInvalidated:()=>{forceUpdate()}})}),[]),(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(null===(_a=props.options)||void 0===_a?void 0:_a.panels)?props.model.flatten().filter((p=>!(p instanceof WorkspaceCollectionModel))).map((m=>(0,jsx_runtime.jsx)(DebugPanel,{model:m},m.id))):[],(null===(_b=props.options)||void 0===_b?void 0:_b.dividers)?props.model.flatten().filter((p=>p instanceof WorkspaceNodeModel)).flatMap((m=>m.r_divisions)).map((m=>(0,jsx_runtime.jsx)(DebugLayer_S.Outline,{dimension:m},m.id))):[],(null===(_c=props.options)||void 0===_c?void 0:_c.resizeDividers)?props.model.flatten().filter((p=>p instanceof WorkspaceNodeModel)).flatMap((m=>m.getResizeDivisions())).map((m=>(0,jsx_runtime.jsx)(DebugLayer_S.Outline,{dimension:m.dimensions},m.dimensions.id))):[]]})};var DebugLayer_S;!function(S){S.Outline=(0,emotion_styled_browser_esm.Z)(DimensionTrackingWidget)`
    box-sizing: border-box;
    border: dashed red 1px;
  `,S.Outline2=(0,emotion_styled_browser_esm.Z)(DimensionTrackingWidget)`
    box-sizing: border-box;
    border: solid cyan 1px;
  `,S.DebugID=emotion_styled_browser_esm.Z.div`
    background: cyan;
    color: black;
    font-size: 10px;
    padding: 2px;
    display: inline-block;
    top: 0;
    right: 0;
    position: absolute;
  `}(DebugLayer_S||(DebugLayer_S={})),DebugPanel.__docgenInfo={description:"",methods:[],displayName:"DebugPanel"},DebugLayerWidget.__docgenInfo={description:"",methods:[],displayName:"DebugLayerWidget"};const LayerWidget=props=>{const forceUpdate=useForceUpdate();return(0,react.useEffect)((()=>props.layer.registerListener({repaint:()=>{forceUpdate()}})),[]),(0,jsx_runtime.jsx)(LayerManagerWidget_S.Layer,{$pointerEvents:props.layer.options.mouseEvents,index:props.index,children:props.layer.renderLayer({engine:props.engine,model:props.model})})};LayerWidget.displayName="LayerWidget";const LayerManagerWidget=props=>{const forceUpdate=useForceUpdate();return(0,react.useEffect)((()=>props.layerManager.registerListener({layersChanged:()=>{forceUpdate()}})),[]),(0,jsx_runtime.jsx)(LayerManagerWidget_S.Container,{className:props.className,children:props.layerManager.layers.map(((l,index)=>(0,react.createElement)(LayerWidget,{...props,layer:l,index:index+props.layerManager.initialZIndex,key:l.id})))})};var LayerManagerWidget_S,DirectionalChildWidget_S;LayerManagerWidget.displayName="LayerManagerWidget",function(S){S.Container=emotion_styled_browser_esm.Z.div`
    position: absolute;
    pointer-events: none;
  `,S.Layer=emotion_styled_browser_esm.Z.div`
    z-index: ${p=>p.index};
    pointer-events: ${p=>p.$pointerEvents?"all":"none"};
    width: 100%;
    height: 100%;
    position: absolute;
  `}(LayerManagerWidget_S||(LayerManagerWidget_S={})),LayerWidget.__docgenInfo={description:"",methods:[],displayName:"LayerWidget"},LayerManagerWidget.__docgenInfo={description:"",methods:[],displayName:"LayerManagerWidget"},function(S){S.ChildContainer=emotion_styled_browser_esm.Z.div`
    ${p=>p.width?`min-width: ${p.width}px; width: ${p.width}px`:""};
    ${p=>p.height?`min-height: ${p.height}px; height: ${p.height}px`:""};
    flex-shrink: ${p=>p.expand?1:0};
    flex-grow: ${p=>p.expand?1:0};
  `}(DirectionalChildWidget_S||(DirectionalChildWidget_S={}));const DirectionChildWidget=props=>{let width=null,height=null,expand=props.directive.expand;!expand&&props.vertical?height=props.model.size.height:expand||(width=props.model.size.width);const forceUpdate=useForceUpdate();return(0,react.useEffect)((()=>{const l1=props.model.size.registerListener({updated:()=>{forceUpdate()}});return()=>{l1()}}),[]),(0,jsx_runtime.jsx)(DirectionalChildWidget_S.ChildContainer,{expand,width,height,children:props.generateElement(props.model)})};var DirectionalLayoutWidget_S;DirectionChildWidget.displayName="DirectionChildWidget",DirectionChildWidget.__docgenInfo={description:"",methods:[],displayName:"DirectionChildWidget"},function(S){S.Container=emotion_styled_browser_esm.Z.div`
    display: flex;
    flex-grow: 1;
    flex-direction: ${p=>p.vertical?"column":"row"};
    max-height: 100%;
  `}(DirectionalLayoutWidget_S||(DirectionalLayoutWidget_S={}));const DirectionalLayoutWidget=props=>{const firstDivider=props.dimensionContainerForDivider(0),generateDivider=(0,react.useCallback)((dimension=>props.generateDivider?props.generateDivider(dimension):(0,jsx_runtime.jsx)(DividerWidget,{activeColor:"transparent",hoverColor:"transparent",engine:props.engine,dimensionContainer:dimension})),[]);return(0,jsx_runtime.jsxs)(DirectionalLayoutWidget_S.Container,{ref:props.forwardRef,className:props.className,vertical:props.vertical,children:[(0,jsx_runtime.jsx)(react.Fragment,{children:generateDivider(firstDivider)},firstDivider.id),lodash.map(props.data,((model,index)=>{const dimension=props.dimensionContainerForDivider(index+1);return(0,jsx_runtime.jsxs)(react.Fragment,{children:[(0,jsx_runtime.jsx)(DirectionChildWidget,{...props,directive:props.getChildSizeDirective(model),model}),(0,jsx_runtime.jsx)(react.Fragment,{children:generateDivider(dimension)},dimension.id)]},model.id)}))]})};var WorkspaceWidget_S;DirectionalLayoutWidget.displayName="DirectionalLayoutWidget",DirectionalLayoutWidget.__docgenInfo={description:"",methods:[],displayName:"DirectionalLayoutWidget"},function(S){S.Container=emotion_styled_browser_esm.Z.div`
    display: flex;
    height: 100%;
    position: relative;
  `,S.LayerManager=(0,emotion_styled_browser_esm.Z)(LayerManagerWidget)`
    width: 100%;
    height: 100%;
  `}(WorkspaceWidget_S||(WorkspaceWidget_S={}));const WorkspaceWidget=props=>{const ref_container=(0,react.useRef)(),timerListener=(0,react.useRef)(null),forceUpdate=useForceUpdate();return(0,react.useEffect)((()=>{props.engine.fireRepainted()})),(0,react.useEffect)((()=>{props.engine.setRootModel(props.model)}),[props.model]),useBaseResizeObserver({forwardRef:ref_container,dimension:props.engine.workspaceContainer}),(0,react.useEffect)((()=>{props.engine.registerListener({layoutInvalidated:()=>{forceUpdate()},repaint:()=>{forceUpdate()}})}),[]),useDragOverModel({forwardRef:ref_container,accept:!1,dragOver:({modelID})=>{timerListener.current&&(clearTimeout(timerListener.current),timerListener.current=null),timerListener.current=setTimeout((()=>{props.engine.setDraggingNode(null)}),200),props.engine.draggingID||props.engine.setDraggingNode(modelID)}}),(0,jsx_runtime.jsx)(UseMouseDragEventsRootWidget,{forwardRef:ref_container,children:(0,jsx_runtime.jsxs)(WorkspaceWidget_S.Container,{ref:ref_container,children:[props.engine.getFactory(props.model.getRootModel()).generateContent({engine:props.engine,model:props.model.getRootModel()}),(0,jsx_runtime.jsx)(WorkspaceWidget_S.LayerManager,{engine:props.engine,layerManager:props.engine.layerManager,model:props.model.getRootModel()})]})})};WorkspaceWidget.displayName="WorkspaceWidget",WorkspaceWidget.__docgenInfo={description:"",methods:[],displayName:"WorkspaceWidget"};class WorkspaceModelFactory extends BaseObserver{constructor(type){super(),this.type=type}setEngine(engine){this.engine=engine}generateModel(){const model=this._generateModel();return this.iterateListeners((cb=>{var _a;return null===(_a=cb.modelGenerated)||void 0===_a?void 0:_a.call(cb,{model})})),model}}class WorkspaceEngineError extends Error{constructor(m){super(m),Object.setPrototypeOf(this,WorkspaceEngineError.prototype)}}class WorkspaceEngine extends BaseObserver{constructor(){super(),this.invalidateDimensionsDebounced=lodash.debounce((()=>{this.invalidateDimensions()}),200),this.locked=!1,this.factories={},this.listeners={},this.draggingID=null,this.layerManager=new LayerManager,this.workspaceContainer=new DimensionContainer,this.rootModel=null}setRootModel(model){var _a;null===(_a=this.rootModelListener)||void 0===_a||_a.call(this),this.rootModelListener=model.registerListener({layoutInvalidated:()=>{this.invalidateLayout()},dimensionsInvalidated:()=>{this.invalidateDimensionsDebounced()}}),this.rootModel=model,this.iterateListeners((cb=>{var _a;return null===(_a=cb.modelUpdated)||void 0===_a?void 0:_a.call(cb)})),this.iterateListeners((cb=>{var _a;return null===(_a=cb.layoutInvalidated)||void 0===_a?void 0:_a.call(cb)}))}fireRepainted(){this.iterateListeners((cb=>{var _a;return null===(_a=cb.layoutRepainted)||void 0===_a?void 0:_a.call(cb)}))}invalidateLayout(){this.iterateListeners((cb=>{var _a;return null===(_a=cb.layoutInvalidated)||void 0===_a?void 0:_a.call(cb)}))}invalidateDimensions(){this.rootModel.flatten().flatMap((m=>m.getAllRenderDimensions())).forEach((d=>{d.invalidate()})),this.iterateListeners((cb=>{var _a;return null===(_a=cb.dimensionsInvalidated)||void 0===_a?void 0:_a.call(cb)}))}setLocked(locked=!0){this.locked!==locked&&(this.locked=locked,this.iterateListeners((cb=>{var _a;return null===(_a=cb.lockUpdated)||void 0===_a?void 0:_a.call(cb)})))}static namespaceMime(data){return`srw/${data}`}fireRepaintListeners(){this.repainting=!0,this.iterateListeners((list=>{var _a;null===(_a=list.repaint)||void 0===_a||_a.call(list)}))}normalize(){this.rootModel.flatten().filter((m=>m instanceof WorkspaceCollectionModel)).forEach((m=>m.normalize()))}registerFactory(factory){this.factories[factory.type]=factory,factory.setEngine(this)}getFactory(model){if("string"!=typeof model&&(model=model.type),!this.factories[model])throw new WorkspaceEngineError("Cannot find Workspace factory for model with type: ["+model+"]");return this.factories[model]}setDraggingNode(id){this.draggingID!==id?(this.draggingID=id,this.iterateListeners((cb=>{var _a;return null===(_a=cb.modelDragStart)||void 0===_a?void 0:_a.call(cb)}))):null===id&&this.iterateListeners((cb=>{var _a;return null===(_a=cb.modelDragEnd)||void 0===_a?void 0:_a.call(cb)}))}}class ExpandNodeModel extends WorkspaceNodeModel{constructor(){super(),this.dimensions=new Map,this.rendered=new Set,this.queuedForInitialSizeCheck=new Set,this.allowSizeRecomputation=!0}recomputeInitialSizes(){this.rendered.clear(),this.children.forEach((model=>{if(this.queuedForInitialSizeCheck.has(model))return;this.queuedForInitialSizeCheck.add(model);const l1=model.r_dimensions.registerListener({updated:()=>{l1(),this.queuedForInitialSizeCheck.delete(model),this.rendered.add(model),0===this.queuedForInitialSizeCheck.size&&(this.recomputeSizes(),this.invalidateLayout())}})})),this.invalidateLayout()}fromArray(payload,engine){this.allowSizeRecomputation=!1,super.fromArray(payload,engine),this.allowSizeRecomputation=!0}addModel(model,position=null){if(super.addModel(model,position),this.vertical&&model.expandVertical||!this.vertical&&model.expandHorizontal){this.dimensions.set(model,{originalWidth:model.size.width,originalHeight:model.size.height});const l2=model.registerListener({removed:()=>{null==l2||l2(),model.setSize({width:this.dimensions.get(model).originalWidth,height:this.dimensions.get(model).originalHeight}),this.dimensions.delete(model)}})}else(this.vertical&&!model.expandVertical||!this.vertical&&!model.expandHorizontal)&&this.allowSizeRecomputation&&model.setSize({width:0,height:0});return this.recomputeInitialSizes(),this}recomputeSizes(){const dims=Array.from(this.dimensions.keys());for(let i=0;i<dims.length-1;i++)this.vertical?dims[i].setHeight(dims[i].r_dimensions.size.height):dims[i].setWidth(dims[i].r_dimensions.size.width)}getResizeDivisions(){let divs=[];for(let i=1;i<this.r_divisions.length-1;i++)divs.push({before:this.children[i-1],after:this.children[i],dimensions:this.r_divisions[i],vertical:!this.vertical});return divs}getPanelDirective(child){return 0===this.dimensions.size&&this.children.indexOf(child)===this.children.length-1?Object.assign(Object.assign({},super.getPanelDirective(child)),{expand:!0}):this.dimensions.size>1&&Array.from(this.dimensions.keys()).indexOf(child)<this.dimensions.size-1&&this.rendered.has(child)?Object.assign(Object.assign({},super.getPanelDirective(child)),{expand:!1}):super.getPanelDirective(child)}}class SubComponentModelFactory extends WorkspaceModelFactory{constructor(type){super(type),this.renderers=new Set}addRenderer(r){this.renderers.add(r)}getRendererForModel(model){for(let r of this.renderers.values())if(r.matchModel(model))return r}}const WorkspaceNodeWidget=props=>{const ref=useModelElement({engine:props.engine,model:props.model});return(0,react.useEffect)((()=>props.model.r_dimensions.registerListener({updated:()=>{props.model.vertical?props.model.setOverConstrained(ref.current.scrollHeight>props.model.r_dimensions.size.height):props.model.setOverConstrained(ref.current.scrollWidth>props.model.r_dimensions.size.width)}})),[]),(0,jsx_runtime.jsx)(WorkspaceNodeWidget_S.DirectionalLayout,{forwardRef:ref,dimensionContainerForDivider:index=>props.model.r_divisions[index],getChildSizeDirective:model=>props.model.getPanelDirective(model),className:props.className,data:props.model.children,generateDivider:props.generateDivider,generateElement:m=>(0,jsx_runtime.jsx)(WorkspaceNodePanelWidget,{model:m,renderer:props.factory.getRendererForModel(m),engine:props.engine}),vertical:props.model.vertical,engine:props.engine})};WorkspaceNodeWidget.displayName="WorkspaceNodeWidget";const WorkspaceNodePanelWidget=props=>{const factory=props.engine.getFactory(props.model),ref=useModelElement({model:props.model,engine:props.engine});return(0,jsx_runtime.jsxs)(WorkspaceNodeWidget_S.Container,{ref,children:[props.renderer?(0,jsx_runtime.jsx)(DraggableWidget_DraggableWidget,{model:props.model,engine:props.engine,children:props.renderer.renderTitleBar({engine:props.engine,model:props.model})}):null,(0,jsx_runtime.jsx)(WorkspaceNodeWidget_S.Content,{children:factory.generateContent({model:props.model,engine:props.engine})})]})};var WorkspaceNodeWidget_S;WorkspaceNodePanelWidget.displayName="WorkspaceNodePanelWidget",function(S){S.DirectionalLayout=(0,emotion_styled_browser_esm.Z)(DirectionalLayoutWidget)`
    height: 100%;
    width: 100%;
  `,S.Container=emotion_styled_browser_esm.Z.div`
    display: flex;
    flex-direction: column;
    position: relative;
    max-height: 100%;
    height: 100%;
    width: 100%;
    overflow: hidden;
  `,S.Content=emotion_styled_browser_esm.Z.div`
    flex-grow: 1;
    display: flex;
    max-height: 100%;
    overflow: hidden;
  `}(WorkspaceNodeWidget_S||(WorkspaceNodeWidget_S={})),WorkspaceNodeWidget.__docgenInfo={description:"",methods:[],displayName:"WorkspaceNodeWidget"},WorkspaceNodePanelWidget.__docgenInfo={description:"",methods:[],displayName:"WorkspaceNodePanelWidget"};class WorkspaceNodeFactory extends SubComponentModelFactory{constructor(type=WorkspaceNodeModel.NAME){super(type)}generateContent(event){return(0,jsx_runtime.jsx)(WorkspaceNodeWidget,{model:event.model,engine:event.engine,factory:this})}_generateModel(){return new WorkspaceNodeModel}}},"../packages/defaults/dist/index.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n8:()=>DefaultSubComponentRenderer,f8:()=>DefaultTrayFactory,eJ:()=>DefaultWindowModel,jO:()=>DefaultWindowModelFactory,Tm:()=>DefaultWorkspacePanelFactory,lO:()=>DefaultWorkspacePanelModel});var S,fontawesome_svg_core=__webpack_require__("../node_modules/.pnpm/@fortawesome+fontawesome-svg-core@6.4.0/node_modules/@fortawesome/fontawesome-svg-core/index.mjs"),free_solid_svg_icons=__webpack_require__("../node_modules/.pnpm/@fortawesome+free-solid-svg-icons@6.4.0/node_modules/@fortawesome/free-solid-svg-icons/index.mjs"),react=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),emotion_styled_browser_esm=__webpack_require__("../node_modules/.pnpm/@emotion+styled@11.11.0_@emotion+react@11.11.1_@types+react@18.2.14_react@18.2.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),dist=__webpack_require__("../packages/model-tray/dist/index.jsx"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");!function(S){S.Tray=emotion_styled_browser_esm.Z.div`
    height: 15px;
    background: mediumpurple;
  `}(S||(S={}));class DefaultTrayFactory extends dist.Fj{generateTrayHeader(event){return(0,jsx_runtime.jsx)(S.Tray,{onDoubleClick:()=>{event.model.setMode(event.model.mode===dist.Nv.NORMAL?dist.Nv.COLLAPSED:dist.Nv.NORMAL)}})}}var core_dist=__webpack_require__("../packages/core/dist/index.jsx");class DefaultWorkspacePanelModel extends core_dist.uU{constructor(displayName,icon="cube"){super("default"),this.displayName=displayName,this.icon=icon,this.setExpand(!1,!0)}toArray(){return Object.assign(Object.assign({},super.toArray()),{displayName:this.displayName,icon:this.icon})}fromArray(payload,engine){super.fromArray(payload,engine),this.displayName=payload.displayName,this.icon=payload.icon}}const Meta=props=>(0,jsx_runtime.jsxs)(DefaultPanelContentWidget_S.Meta,{children:[(0,jsx_runtime.jsx)(DefaultPanelContentWidget_S.MetaKey,{children:props.label}),(0,jsx_runtime.jsx)(DefaultPanelContentWidget_S.MetaValue,{children:props.value})]});Meta.displayName="Meta";const DefaultPanelContentWidget=props=>{const ref=(0,react.useRef)();return(0,react.useEffect)((()=>{ref.current.style.opacity="1";const res=setTimeout((()=>{ref.current.style.opacity="0"}),1e3);return()=>{clearTimeout(res)}})),(0,jsx_runtime.jsxs)(DefaultPanelContentWidget_S.Container,{children:[(0,jsx_runtime.jsx)(Meta,{label:"Title",value:props.model.displayName}),(0,jsx_runtime.jsx)(Meta,{label:"ID",value:props.model.id.substring(0,7)}),(0,jsx_runtime.jsx)(Meta,{label:"Expand horizontal",value:props.model.expandHorizontal?"true":"false"}),(0,jsx_runtime.jsx)(Meta,{label:"Expand vertical",value:props.model.expandVertical?"true":"false"}),(0,jsx_runtime.jsx)(DefaultPanelContentWidget_S.Rendering,{ref,children:"rendering"})]})};var DefaultPanelContentWidget_S;DefaultPanelContentWidget.displayName="DefaultPanelContentWidget",function(S){S.Container=emotion_styled_browser_esm.Z.div`
    background: rgba(0, 0, 0, 0.3);
    padding: 10px;
    color: rgba(255, 255, 255, 0.4);
    font-size: 13px;
    flex-grow: 1;
  `,S.Meta=emotion_styled_browser_esm.Z.div`
    display: flex;
    align-items: center;
    font-size: 11px;
  `,S.Rendering=emotion_styled_browser_esm.Z.div`
    background: rgb(72, 41, 41);
    color: white;
    border-radius: 5px;
    font-size: 11px;
    padding: 2px 5px;
    display: inline-block;
  `,S.MetaKey=emotion_styled_browser_esm.Z.div``,S.MetaValue=emotion_styled_browser_esm.Z.div`
    font-weight: bold;
    padding-left: 5px;
  `}(DefaultPanelContentWidget_S||(DefaultPanelContentWidget_S={})),Meta.__docgenInfo={description:"",methods:[],displayName:"Meta"},DefaultPanelContentWidget.__docgenInfo={description:"",methods:[],displayName:"DefaultPanelContentWidget"};class DefaultWorkspacePanelFactory extends core_dist.Wg{constructor(){super(DefaultWorkspacePanelFactory.TYPE)}generateContent(event){return(0,jsx_runtime.jsx)(DefaultPanelContentWidget,{model:event.model})}_generateModel(){return new DefaultWorkspacePanelModel("Test")}}DefaultWorkspacePanelFactory.TYPE="default";var model_floating_window_dist=__webpack_require__("../packages/model-floating-window/dist/index.jsx");const DefaultFloatingWindowWidget=props=>(0,jsx_runtime.jsxs)(DefaultFloatingWindowWidget_S.Container,{children:[props.titlebar,props.content]});var DefaultFloatingWindowWidget_S;DefaultFloatingWindowWidget.displayName="DefaultFloatingWindowWidget",function(S){S.Container=emotion_styled_browser_esm.Z.div`
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    pointer-events: all;
    border: solid 1px rgb(10, 10, 10);
    height: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
  `}(DefaultFloatingWindowWidget_S||(DefaultFloatingWindowWidget_S={})),DefaultFloatingWindowWidget.__docgenInfo={description:"",methods:[],displayName:"DefaultFloatingWindowWidget"};class DefaultWindowModel extends model_floating_window_dist.yL{constructor(child){super(DefaultWindowModelFactory.TYPE,child),this.setSize({width:200,height:200})}}class DefaultWindowModelFactory extends model_floating_window_dist.pC{constructor(){super(DefaultWindowModelFactory.TYPE)}generateContent(event){return(0,jsx_runtime.jsx)(DefaultFloatingWindowWidget,{...event})}_generateModel(){return new DefaultWindowModel}}DefaultWindowModelFactory.TYPE="floating-window";var DefaultPanelTitleWidget_S,DefaultPanelTabWidget_S,index_es=__webpack_require__("../node_modules/.pnpm/@fortawesome+react-fontawesome@0.2.0_@fortawesome+fontawesome-svg-core@6.4.0_react@18.2.0/node_modules/@fortawesome/react-fontawesome/index.es.js");!function(S){S.Container=emotion_styled_browser_esm.Z.div`
    user-select: none;
    background: rgba(0, 0, 0, 0.5);
    padding: 5px 10px;
    font-size: 13px;
    color: white;
    min-width: 100px;
    display: flex;
    align-items: center;

    &:hover {
      background: black;
    }
  `,S.Title=emotion_styled_browser_esm.Z.div`
    flex-grow: 1;
  `,S.Close=emotion_styled_browser_esm.Z.div`
    opacity: 0.5;
    flex-grow: 0;
    flex-shrink: 0;
    font-size: 14px;
  `}(DefaultPanelTitleWidget_S||(DefaultPanelTitleWidget_S={}));class DefaultPanelTitleWidget extends react.Component{render(){return(0,jsx_runtime.jsxs)(DefaultPanelTitleWidget_S.Container,{children:[(0,jsx_runtime.jsx)(DefaultPanelTitleWidget_S.Title,{children:this.props.title}),(0,jsx_runtime.jsx)(DefaultPanelTitleWidget_S.Close,{onClick:this.props.close,children:(0,jsx_runtime.jsx)(index_es.G,{icon:"times"})})]})}}DefaultPanelTitleWidget.displayName="DefaultPanelTitleWidget",DefaultPanelTitleWidget.__docgenInfo={description:"",methods:[],displayName:"DefaultPanelTitleWidget"},function(S){S.Container=emotion_styled_browser_esm.Z.div`
    user-select: none;
    padding: 5px 10px;
    font-size: 13px;
    color: white;
    min-width: 100px;
    margin-right: 2px;
    margin-top: 2px;
    transform: perspective(4px) rotateX(1deg);
    transform-origin: bottom left;
    background: ${p=>p.selected?"rgb(0,192,255) !important":"rgba(0,0,0, 0.5)"};

    &:hover {
      background: black;
    }
  `}(DefaultPanelTabWidget_S||(DefaultPanelTabWidget_S={}));class DefaultPanelTabWidget extends react.Component{render(){return(0,jsx_runtime.jsx)(DefaultPanelTabWidget_S.Container,{selected:this.props.selected,children:this.props.name})}}DefaultPanelTabWidget.displayName="DefaultPanelTabWidget",DefaultPanelTabWidget.__docgenInfo={description:"",methods:[],displayName:"DefaultPanelTabWidget"};var DefaultPanelMicroButtonWidget_S,emotion_react_browser_esm=__webpack_require__("../node_modules/.pnpm/@emotion+react@11.11.1_@types+react@18.2.14_react@18.2.0/node_modules/@emotion/react/dist/emotion-react.browser.esm.js");!function(S){S.Icon=(0,emotion_styled_browser_esm.Z)(index_es.G,{shouldForwardProp:p=>"$smaller"!==p})`
    font-size: ${p=>p.$smaller?14:20}px;
  `;const selected=emotion_react_browser_esm.iv`
    background-color: rgb(0, 192, 255) !important;
    background-image: linear-gradient(rgba(black, 0), rgba(black, 0.2)) !important;
  `;S.Container=emotion_styled_browser_esm.Z.div`
    min-height: ${p=>p.$smaller?30:45}px;
    ${p=>p.$smaller?"width: 30px":""};
    background-color: black;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    ${p=>p.selected&&selected};
    margin-bottom: 1px;
  `}(DefaultPanelMicroButtonWidget_S||(DefaultPanelMicroButtonWidget_S={}));class DefaultPanelMicroButtonWidget extends react.Component{render(){return(0,jsx_runtime.jsx)(DefaultPanelMicroButtonWidget_S.Container,{$smaller:this.props.smaller,selected:this.props.selected,children:(0,jsx_runtime.jsx)(DefaultPanelMicroButtonWidget_S.Icon,{$smaller:this.props.smaller,icon:this.props.icon})})}}DefaultPanelMicroButtonWidget.displayName="DefaultPanelMicroButtonWidget",DefaultPanelMicroButtonWidget.__docgenInfo={description:"",methods:[],displayName:"DefaultPanelMicroButtonWidget"};class DefaultSubComponentRenderer{renderIcon(event){return(0,jsx_runtime.jsx)(DefaultPanelMicroButtonWidget,{smaller:event.parent.mode===dist.Nv.NORMAL,selected:event.selected,icon:event.model.icon})}renderTitleBar(event){return(0,jsx_runtime.jsx)(DefaultPanelTitleWidget,{title:event.model.displayName,close:()=>{event.model.delete(),event.engine.normalize()}})}renderTab(event){return(0,jsx_runtime.jsx)(DefaultPanelTabWidget,{name:event.model.displayName,selected:event.selected})}matchModel(model){return model.type===DefaultWorkspacePanelFactory.TYPE}renderWindowTitle(event){return(0,jsx_runtime.jsx)(DefaultPanelTitleWidget,{title:event.model.displayName,close:()=>{event.model.parent.delete(),event.engine.normalize()}})}}fontawesome_svg_core.vI.add(free_solid_svg_icons.hGM,free_solid_svg_icons.NBC)},"../packages/model-floating-window/dist/index.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{pC:()=>FloatingWindowFactory,yL:()=>FloatingWindowModel,wN:()=>RootWorkspaceModel});var dist=__webpack_require__("../packages/core/dist/index.jsx"),react=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),emotion_styled_browser_esm=__webpack_require__("../node_modules/.pnpm/@emotion+styled@11.11.0_@emotion+react@11.11.1_@types+react@18.2.14_react@18.2.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const FloatingWindowLayerWidget=props=>{const factory=props.engine.getFactory(props.window.child),forceUpdate=(0,dist.NW)(),ref=(0,react.useRef)(),initialPos=(0,react.useRef)({left:props.window.position.left,top:props.window.position.top});(0,dist.SF)({forwardRef:ref,startMove:()=>{props.window.draggable&&(props.layer.setAnimate(!1),initialPos.current={top:props.window.position.top,left:props.window.position.left})},moved:({distanceX,distanceY})=>{props.window.draggable&&props.window.position.update({left:initialPos.current.left+distanceX,top:initialPos.current.top+distanceY})},endMove:()=>{props.window.draggable&&props.layer.setAnimate(!0)}}),(0,react.useEffect)((()=>props.window.registerListener({draggableUpdated:()=>{forceUpdate()},childUpdated:()=>{forceUpdate()}})),[props.window]),(0,react.useEffect)((()=>props.window.position.registerListener({updated:()=>{props.animate&&setTimeout((()=>{props.window.r_dimensions.invalidate()}),300)}})),[]);const modelRef=(0,dist.KA)({model:props.window,engine:props.engine}),windowFactory=props.engine.getFactory(props.window);return(0,jsx_runtime.jsx)(dist.tv,{forwardRef:modelRef,animateDuration:props.animate?300:0,dimension:props.window.dimension,children:windowFactory.generateContent({content:factory.generateContent({engine:props.engine,model:props.window.child}),titlebar:(0,jsx_runtime.jsx)(S.Title,{ref,children:windowFactory.getRendererForModel(props.window.child).renderWindowTitle({model:props.window.child,engine:props.engine})}),engine:props.engine,model:props.window})})};var S;FloatingWindowLayerWidget.displayName="FloatingWindowLayerWidget",function(S){S.Container=emotion_styled_browser_esm.Z.div`
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
    pointer-events: all;
    border: solid 1px rgb(10, 10, 10);
    height: 100%;
    width: 100%;
    display: flex;
    flex-direction: column;
  `,S.Title=emotion_styled_browser_esm.Z.div`
    cursor: move;
    user-select: none;
    flex-shrink: 0;
  `}(S||(S={})),FloatingWindowLayerWidget.__docgenInfo={description:"",methods:[],displayName:"FloatingWindowLayerWidget"};class FloatingWindowLayer extends dist.mh{constructor(model){super({mouseEvents:!1}),this.model=model,this.animate=!0}setAnimate(animate){this.animate=animate,this.repaint()}renderLayer(event){return(0,jsx_runtime.jsx)(FloatingWindowLayerWidget,{layer:this,animate:this.animate,window:this.model,engine:event.engine})}}const FloatingWindowResizeCornerWidget=props=>{const ref=(0,react.useRef)(),val1=(0,react.useRef)(0),val2=(0,react.useRef)(0),width=(0,react.useRef)(0),height=(0,react.useRef)(0);return(0,dist.SF)({forwardRef:ref,startMove:()=>{props.toggleAnimation(!1),width.current=props.window.size.width,height.current=props.window.size.height,props.corner===dist.Ns.TOP_LEFT?(val1.current=props.window.position.left,val2.current=props.window.position.top):props.corner===dist.Ns.BOTTOM_LEFT?val1.current=props.window.position.left:props.corner===dist.Ns.TOP_RIGHT&&(val2.current=props.window.position.top)},moved:({distanceX,distanceY})=>{props.corner===dist.Ns.TOP_LEFT?props.window.dimension.update({left:val1.current+distanceX,top:val2.current+distanceY,width:width.current+-1*distanceX,height:height.current+-1*distanceY}):props.corner===dist.Ns.BOTTOM_LEFT?props.window.dimension.update({left:val1.current+distanceX,width:width.current+-1*distanceX,height:height.current+distanceY}):props.corner===dist.Ns.BOTTOM_RIGHT?props.window.dimension.update({width:width.current+distanceX,height:height.current+distanceY}):props.window.dimension.update({top:val2.current+distanceY,width:width.current+distanceX,height:height.current+-1*distanceY})},endMove:()=>{props.toggleAnimation(!0)}}),(0,jsx_runtime.jsx)(FloatingWindowResizeCornerWidget_S.CornerResize,{debug:props.debug,ref,corner:props.corner})};var FloatingWindowResizeCornerWidget_S;FloatingWindowResizeCornerWidget.displayName="FloatingWindowResizeCornerWidget",function(S){const CORNER_CSS={[dist.Ns.TOP_LEFT]:["top","left"],[dist.Ns.TOP_RIGHT]:["top","right"],[dist.Ns.BOTTOM_RIGHT]:["bottom","right"],[dist.Ns.BOTTOM_LEFT]:["bottom","left"]};S.CornerResize=emotion_styled_browser_esm.Z.div`
    pointer-events: all;
    cursor: ${p=>p.corner}-resize;
    position: absolute;
    width: ${15}px;
    height: ${15}px;
    ${p=>CORNER_CSS[p.corner].map((c=>`${c}:-7.5px`)).join(";")};
    user-select: none;
    background: ${p=>p.debug?"red":"transparent"};
  `}(FloatingWindowResizeCornerWidget_S||(FloatingWindowResizeCornerWidget_S={})),FloatingWindowResizeCornerWidget.__docgenInfo={description:"",methods:[],displayName:"FloatingWindowResizeCornerWidget"};const FloatingWindowResizeEdgeWidget=props=>{const ref=(0,react.useRef)(),left=(0,react.useRef)(0),top=(0,react.useRef)(0),width=(0,react.useRef)(0),height=(0,react.useRef)(0);return(0,dist.SF)({forwardRef:ref,startMove:()=>{props.toggleAnimation(!1),width.current=props.window.size.width,height.current=props.window.size.height,left.current=props.window.position.left,top.current=props.window.position.top},moved:({distanceX,distanceY})=>{props.alignment===dist.v2.TOP?props.window.dimension.update({top:top.current+distanceY,height:height.current+-1*distanceY}):props.alignment===dist.v2.BOTTOM?props.window.dimension.update({height:height.current+distanceY}):props.alignment===dist.v2.LEFT?props.window.dimension.update({left:left.current+distanceX,width:width.current+-1*distanceX}):props.window.dimension.update({width:width.current+distanceX})},endMove:()=>{props.toggleAnimation(!0)}}),(0,jsx_runtime.jsx)(FloatingWindowResizeEdgeWidget_S.Container,{ref,debug:props.debug,alignment:props.alignment,vertical:props.alignment===dist.v2.LEFT||props.alignment===dist.v2.RIGHT})};var FloatingWindowResizeEdgeWidget_S;FloatingWindowResizeEdgeWidget.displayName="FloatingWindowResizeEdgeWidget",function(S){S.Container=emotion_styled_browser_esm.Z.div`
    pointer-events: all;
    cursor: ${p=>p.vertical?"col-resize":"row-resize"};
    position: absolute;
    ${p=>p.vertical?"height: 100%; width: 6px":"width: 100%; height: 6px"};
    ${p=>p.alignment}: -${2}px;
    user-select: none;
    background: ${p=>p.debug?"cyan":"transparent"};
  `}(FloatingWindowResizeEdgeWidget_S||(FloatingWindowResizeEdgeWidget_S={})),FloatingWindowResizeEdgeWidget.__docgenInfo={description:"",methods:[],displayName:"FloatingWindowResizeEdgeWidget"};const FloatingWindowResizeLayerWidget=props=>(0,jsx_runtime.jsx)(dist.tv,{dimension:props.window.dimension,children:(0,jsx_runtime.jsxs)(FloatingWindowResizeLayerWidget_S.Relative,{children:[(0,jsx_runtime.jsx)(FloatingWindowResizeEdgeWidget,{...props,alignment:dist.v2.LEFT}),(0,jsx_runtime.jsx)(FloatingWindowResizeEdgeWidget,{...props,alignment:dist.v2.TOP}),(0,jsx_runtime.jsx)(FloatingWindowResizeEdgeWidget,{...props,alignment:dist.v2.BOTTOM}),(0,jsx_runtime.jsx)(FloatingWindowResizeEdgeWidget,{...props,alignment:dist.v2.RIGHT}),(0,jsx_runtime.jsx)(FloatingWindowResizeCornerWidget,{...props,corner:dist.Ns.TOP_LEFT}),(0,jsx_runtime.jsx)(FloatingWindowResizeCornerWidget,{...props,corner:dist.Ns.TOP_RIGHT}),(0,jsx_runtime.jsx)(FloatingWindowResizeCornerWidget,{...props,corner:dist.Ns.BOTTOM_RIGHT}),(0,jsx_runtime.jsx)(FloatingWindowResizeCornerWidget,{...props,corner:dist.Ns.BOTTOM_LEFT})]})});var FloatingWindowResizeLayerWidget_S;FloatingWindowResizeLayerWidget.displayName="FloatingWindowResizeLayerWidget",function(S){S.Relative=emotion_styled_browser_esm.Z.div`
    position: relative;
    height: 100%;
    width: 100%;
  `}(FloatingWindowResizeLayerWidget_S||(FloatingWindowResizeLayerWidget_S={})),FloatingWindowResizeLayerWidget.__docgenInfo={description:"",methods:[],displayName:"FloatingWindowResizeLayerWidget"};class FloatingWindowResizeLayer extends dist.mh{constructor(options2){super({mouseEvents:!1}),this.options2=options2}renderLayer(event){return(0,jsx_runtime.jsx)(FloatingWindowResizeLayerWidget,{debug:this.options2.root.debug,window:this.options2.model,toggleAnimation:this.options2.toggleAnimation})}}class RootWorkspaceModel extends dist.Yb{constructor(engine,debug=!1){super(),this.engine=engine,this.debug=debug,this.floatingWindows=new Set,this.layerListener=this.engine.layerManager.registerListener({layerAdded:()=>{this.floatingWindows.forEach((w=>{this.engine.layerManager.layers.filter((l=>l instanceof FloatingWindowLayer)).forEach((l=>{l.moveToTop()}))})),this.floatingWindows.forEach((w=>{this.engine.layerManager.layers.filter((l=>l instanceof FloatingWindowResizeLayer)).forEach((l=>{l.moveToTop()}))}))}})}toArray(){return Object.assign(Object.assign({},super.toArray()),{floatingWindows:Array.from(this.floatingWindows.values()).filter((w=>w.serializeToRoot)).map((c=>c.toArray()))})}fromArray(payload,engine){var _a;super.fromArray(payload,engine),null===(_a=payload.floatingWindows)||void 0===_a||_a.forEach((window=>{const model=engine.getFactory(window.type).generateModel();model.fromArray(window,engine),this.addModel(model)}))}setDebug(debug){this.debug=debug,this.engine.fireRepaintListeners()}flatten(){return super.flatten().concat(Array.from(this.floatingWindows.values()).flatMap((v=>[v,v.child])))}dispose(){this.layerListener()}addFloatingWindow(window){if(this.floatingWindows.has(window))return;this.floatingWindows.add(window);const layer=new FloatingWindowLayer(window),resize=new FloatingWindowResizeLayer({model:window,toggleAnimation:animate=>{layer.setAnimate(animate)},root:this});this.engine.layerManager.addLayer(layer),this.engine.layerManager.addLayer(resize),window.setParent(this),window.registerListener({removed:()=>{layer.remove(),resize.remove(),this.floatingWindows.delete(window)}})}}class FloatingWindowModel extends dist.uU{constructor(type,child){super(type),child&&this.setChild(child),this.draggable=!0,this.serializeToRoot=!0,this.position=new dist.Ly,this.dimension=new dist.lY({position:this.position,size:this.size}),this.position.registerListener({updated:()=>{this.r_dimensions.invalidate(),this.normalizePosition()}})}setDraggable(dragEnable){this.draggable!==dragEnable&&(this.draggable=dragEnable,this.iterateListeners((cb=>{var _a;return null===(_a=cb.draggableUpdated)||void 0===_a?void 0:_a.call(cb)})))}fromArray(payload,engine){super.fromArray(payload,engine),this.dimension.update(payload.dimensions);const model=engine.getFactory(payload.model.type).generateModel();model.fromArray(payload.model,engine),this.setChild(model)}toArray(){return Object.assign(Object.assign({},super.toArray()),{dimensions:this.dimension.dimensions,model:this.child.toArray()})}setParent(parent){var _a;super.setParent(parent),parent?this.parentListener=parent.r_dimensions.registerListener({updated:()=>{this.normalizePosition()}}):null===(_a=this.parentListener)||void 0===_a||_a.call(this)}setChild(child){this.child=child,child.setParent(this),this.invalidateLayout(),this.iterateListeners((cb=>{var _a;return null===(_a=cb.childUpdated)||void 0===_a?void 0:_a.call(cb)}))}normalizePosition(){this.parent&&(this.size.height>this.parent.r_dimensions.size.height||this.size.width>this.parent.r_dimensions.size.width||(this.position.left<this.parent.r_dimensions.position.left&&this.position.update({left:0}),this.position.top<this.parent.r_dimensions.position.top&&this.position.update({top:0}),this.position.left+this.size.width>this.parent.r_dimensions.position.left+this.parent.r_dimensions.size.width&&this.position.update({left:this.parent.r_dimensions.position.left+this.parent.r_dimensions.size.width-this.size.width}),this.position.top+this.size.height>this.parent.r_dimensions.position.top+this.parent.r_dimensions.size.height&&this.position.update({top:this.parent.r_dimensions.position.top+this.parent.r_dimensions.size.height-this.size.height})))}}FloatingWindowModel.TYPE="floating-window";class FloatingWindowFactory extends dist.Rr{constructor(type){super(type)}}FloatingWindowFactory.TYPE="floating-window"},"../packages/model-tabs/dist/index.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{GX:()=>WorkspaceTabFactory,hH:()=>WorkspaceTabModel});var dist=__webpack_require__("../packages/core/dist/index.jsx"),react=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");const TabButtonWidget=props=>{const forceUpdate=(0,dist.NW)();(0,react.useEffect)((()=>props.model.parent.registerListener({selectionChanged:()=>{forceUpdate()}})),[]);const parent=props.model.parent;return(0,jsx_runtime.jsx)(dist.up,{onClick:()=>{props.model.parent.setSelected(props.model)},engine:props.engine,model:props.model,children:props.factory.renderTabForModel(props.model,props.model.id===parent.getSelected().id,props.engine)})};TabButtonWidget.displayName="TabButtonWidget",TabButtonWidget.__docgenInfo={description:"",methods:[],displayName:"TabButtonWidget"};var S,emotion_styled_browser_esm=__webpack_require__("../node_modules/.pnpm/@emotion+styled@11.11.0_@emotion+react@11.11.1_@types+react@18.2.14_react@18.2.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),lodash=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js");!function(S){S.Container=emotion_styled_browser_esm.Z.div`
    display: flex;
    flex-direction: column;
    position: relative;
    flex-grow: 1;
    height: 100%;
  `,S.Draggable=(0,emotion_styled_browser_esm.Z)(dist.up)`
    display: flex;
    flex-wrap: wrap;
    flex-grow: 0;
    position: relative;
  `,S.Content=emotion_styled_browser_esm.Z.div`
    flex-grow: 1;
    display: flex;
    height: 100%;
  `,S.TabGroup=(0,emotion_styled_browser_esm.Z)(dist.Oy)`
    display: flex;
    overflow-x: auto;
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;

    &::-webkit-scrollbar {
      display: none; /* Safari and Chrome */
    }
  `}(S||(S={}));const TabContent=props=>{let selectedFactory=props.engine.getFactory(props.model);const ref=(0,dist.KA)({model:props.model,engine:props.engine});return(0,jsx_runtime.jsx)(S.Content,{ref,children:selectedFactory.generateContent({model:props.model,engine:props.engine})})};TabContent.displayName="TabContent";const TabGroupWidget=props=>{const forceUpdate=(0,dist.NW)();(0,react.useEffect)((()=>props.model.registerListener({selectionChanged:()=>{forceUpdate()}})),[]);const ref=(0,dist.KA)({model:props.model,engine:props.engine});let selected=props.model.getSelected();return(0,jsx_runtime.jsxs)(S.Container,{ref,children:[(0,jsx_runtime.jsx)(S.Draggable,{engine:props.engine,model:props.model,children:props.factory.generateTabsContainer({engine:props.engine,model:props.model,content:(0,jsx_runtime.jsx)(S.TabGroup,{dropped:({model,index})=>{model.flatten().reverse().filter((m=>!(m instanceof dist.xh))).forEach((m=>{props.model.addModel(m,index)})),props.engine.normalize()},engine:props.engine,vertical:!1,children:lodash.map(props.model.children,(child=>(0,jsx_runtime.jsx)(TabButtonWidget,{factory:props.factory,model:child,engine:props.engine},child.id)))})})}),(0,jsx_runtime.jsx)(TabContent,{model:selected,engine:props.engine},selected.id)]})};TabGroupWidget.displayName="TabGroupWidget",TabContent.__docgenInfo={description:"",methods:[],displayName:"TabContent"},TabGroupWidget.__docgenInfo={description:"",methods:[],displayName:"TabGroupWidget"};class WorkspaceTabModel extends dist.xh{constructor(){super(WorkspaceTabModel.NAME),this.selected=null,this.childListener=null}fromArray(payload,engine){if(super.fromArray(payload,engine),payload.selected&&this.children.find((c=>c.id===payload.selected))){const found=this.children.find((c=>c.id===payload.selected));if(!found)return;this.setSelected(found)}}toArray(){return Object.assign(Object.assign({},super.toArray()),{selected:this.selected})}addModel(model,position=null){return super.addModel(model,position),this.setSelected(model),this}removeModel(model){return super.removeModel(model),this.selected===model.id&&this.children.length>0&&this.setSelected(this.children[0]),this}getSelected(){return lodash.find(this.children,{id:this.selected})}setSelected(model){var _a;return null===(_a=this.childListener)||void 0===_a||_a.call(this),this.selected=model.id,model&&(this.childListener=this.minimumSize.trackSize(model.minimumSize)),this.iterateListeners((cb=>{var _a;return null===(_a=cb.selectionChanged)||void 0===_a?void 0:_a.call(cb)})),this}}WorkspaceTabModel.NAME="tabs";class WorkspaceTabFactory extends dist.Rr{constructor(){super(WorkspaceTabModel.NAME)}_generateModel(){return new WorkspaceTabModel}renderTabForModel(model,selected,engine){const r=this.getRendererForModel(model);return r?r.renderTab({model,selected,engine}):(0,jsx_runtime.jsx)("span",{children:model.type})}generateTabsContainer(event){return(0,jsx_runtime.jsx)(WorkspaceTabFactory_S.TabHeader,{children:event.content})}generateContent(event){return(0,jsx_runtime.jsx)(TabGroupWidget,{factory:this,model:event.model,engine:event.engine},event.model.id)}}var WorkspaceTabFactory_S;!function(S){S.TabHeader=emotion_styled_browser_esm.Z.div`
    min-height: 30px;
  `}(WorkspaceTabFactory_S||(WorkspaceTabFactory_S={}))},"../packages/model-tray/dist/index.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Fj:()=>WorkspaceTrayFactory,Nv:()=>WorkspaceTrayMode,AJ:()=>WorkspaceTrayModel});var WorkspaceTrayMode,TrayIconPosition,react=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/index.js"),dist=__webpack_require__("../packages/core/dist/index.jsx");!function(WorkspaceTrayMode){WorkspaceTrayMode.COLLAPSED="micro",WorkspaceTrayMode.NORMAL="expand"}(WorkspaceTrayMode||(WorkspaceTrayMode={})),function(TrayIconPosition){TrayIconPosition.LEFT="left",TrayIconPosition.RIGHT="right"}(TrayIconPosition||(TrayIconPosition={}));class WorkspaceTrayModel extends dist.xh{constructor(options){super(WorkspaceTrayModel.NAME),this.options=options,this.setExpand(!1,!0),this.selectedModel=null,this.iconBarPosition=TrayIconPosition.LEFT,this.floatingWindow=options.factory.generateModel(),this.floatingWindow.setParent(this),this.floatingWindow.serializeToRoot=!1,this.floatingWindow.registerListener({removed:()=>{this.setSelectedModel(null)},childUpdated:()=>{var _a;this.floatingWindow.minimumSize.update({width:100,height:100}),this.updateWindowPosition(this.floatingWindow.child),null===(_a=this.childListener)||void 0===_a||_a.call(this),this.childListener=this.floatingWindow.child.r_dimensions.registerListener({updated:()=>{this.updateWindowPosition(this.floatingWindow.child)}})}}),this.setMode(WorkspaceTrayMode.NORMAL),this.size.registerListener({updated:()=>{this.mode===WorkspaceTrayMode.NORMAL&&this.r_visible&&this.setExpandedSize(this.size.width)}})}setExpandedSize(size){size>this.options.iconWidth&&size!==this.sizeExpanded&&(this.sizeExpanded=size,this.size.update({width:this.sizeExpanded}))}setIconPosition(position){this.iconBarPosition!==position&&(this.iconBarPosition=position,this.iterateListeners((cb=>{var _a;return null===(_a=cb.iconPositionChanged)||void 0===_a?void 0:_a.call(cb)})))}getSelectedModel(){return this.selectedModel}setSelectedModel(child){this.selectedModel!==child&&(this.selectedModel=child,this.mode===WorkspaceTrayMode.COLLAPSED&&this.setFloatingModel(child),this.iterateListeners((cb=>{var _a;return null===(_a=cb.selectionChanged)||void 0===_a?void 0:_a.call(cb)})))}updateWindowPosition(child){const root=this.getRootModel();this.r_dimensions.getRelativeToPosition(root.r_dimensions.position)[dist.v2.LEFT]<root.r_dimensions.size.width/2?this.floatingWindow.position.update({left:child.r_dimensions.position.left+child.r_dimensions.size.width,top:child.r_dimensions.position.top}):this.floatingWindow.position.update({left:-this.floatingWindow.size.width+child.r_dimensions.position.left,top:child.r_dimensions.position.top})}get expandHorizontal(){return this.mode!==WorkspaceTrayMode.COLLAPSED&&super.expandHorizontal}delete(){var _a;super.delete(),null===(_a=this.childListener)||void 0===_a||_a.call(this)}toArray(){var _a;return Object.assign(Object.assign({},super.toArray()),{mode:this.mode,selected:null===(_a=this.selectedModel)||void 0===_a?void 0:_a.id,iconPosition:this.iconBarPosition,sizeExpanded:this.sizeExpanded})}fromArray(payload,engine){super.fromArray(payload,engine),this.setIconPosition(payload.iconPosition||TrayIconPosition.LEFT),this.sizeExpanded=payload.sizeExpanded,payload.selected&&this.setSelectedModel(this.children.find((m=>m.id===payload.selected))||null),this.setMode(payload.mode||WorkspaceTrayMode.NORMAL)}addModel(model,position=null){return super.addModel(model,position),this.normalizeSelectedModel(),this}removeModel(model){return super.removeModel(model),this.selectedModel&&this.selectedModel===model&&(this.selectedModel=null),this.normalizeSelectedModel(),this}normalizeSelectedModel(){this.mode===WorkspaceTrayMode.NORMAL&&null==this.selectedModel&&this.children[0]&&(this.setSelectedModel(this.children[0]),this.sizeExpanded||this.setExpandedSize(this.children[0].size.width||this.children[0].minimumSize.width))}setMode(mode){return this.mode=mode,this.mode===WorkspaceTrayMode.COLLAPSED?(this.setSelectedModel(null),this.size.update({width:this.options.iconWidth}),this.maximumSize.update({width:this.options.iconWidth}),this.minimumSize.update({width:this.options.iconWidth})):(this.setFloatingModel(null),this.normalizeSelectedModel(),!this.sizeExpanded&&this.selectedModel&&this.selectedModel.waitForInitialRenderedSize().then((dims=>{this.setExpandedSize(dims.width+this.options.iconWidth)})),this.maximumSize.update({width:0}),this.minimumSize.update({width:0}),this.size.update({width:this.sizeExpanded})),this.invalidateLayout(),this}_getRootModel(){return this.getRootModel()}setFloatingModel(model){if(null===model)return this.floatingWindow.delete(),this;this.floatingWindow.setChild(model);const root=this._getRootModel();return(null==root?void 0:root.addFloatingWindow)&&root.addFloatingWindow(this.floatingWindow),this}}WorkspaceTrayModel.NAME="srw-tray";var S,emotion_styled_browser_esm=__webpack_require__("../node_modules/.pnpm/@emotion+styled@11.11.0_@emotion+react@11.11.1_@types+react@18.2.14_react@18.2.0/node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),lodash=__webpack_require__("../node_modules/.pnpm/lodash@4.17.21/node_modules/lodash/lodash.js"),jsx_runtime=__webpack_require__("../node_modules/.pnpm/react@18.2.0/node_modules/react/jsx-runtime.js");!function(S){S.MicroLayout=emotion_styled_browser_esm.Z.div`
    display: flex;
    flex-direction: column;
    align-items: stretch;
    flex-grow: 1;
    overflow: hidden;
  `,S.Scrollable=(0,emotion_styled_browser_esm.Z)(dist.Oy)`
    display: flex;
    flex-direction: column;
    overflow-y: scroll;
    align-items: stretch;

    ::-webkit-scrollbar {
      width: 0;
    }
  `}(S||(S={}));const MicroWrapper=props=>{const ref=(0,react.useRef)();props.node.mode===WorkspaceTrayMode.COLLAPSED&&((0,dist.yU)({forwardRef:ref,dimension:props.model.r_dimensions,engine:props.engine}),(0,dist.P0)({forwardRef:props.scrollRef,dimension:props.model.r_dimensions}));let selected=props.node.selectedModel&&props.node.selectedModel.id===props.model.id;const renderer=props.factory.getRendererForModel(props.model);return(0,jsx_runtime.jsx)(dist.up,{model:props.model,engine:props.engine,children:(0,jsx_runtime.jsx)("div",{ref,onClick:()=>{props.node.selectedModel===props.model&&props.node.mode===WorkspaceTrayMode.COLLAPSED?props.node.setSelectedModel(null):props.node.setSelectedModel(props.model)},children:(null==renderer?void 0:renderer.renderIcon({model:props.model,selected,parent:props.node}))||(0,jsx_runtime.jsx)("span",{children:"?"})})})};MicroWrapper.displayName="MicroWrapper";const MicroLayoutWidget=props=>{const ref=(0,react.useRef)();return(0,jsx_runtime.jsx)(S.MicroLayout,{className:props.className,children:(0,jsx_runtime.jsx)(S.Scrollable,{forwardRef:ref,vertical:!0,engine:props.engine,dropped:({model,index})=>{props.node.addModel(model,index),props.engine.normalize()},children:lodash.map(props.node.getFlattened(),(child=>(0,react.createElement)(MicroWrapper,{scrollRef:ref,...props,model:child,key:child.id})))})})};var TrayWidget_S;MicroLayoutWidget.displayName="MicroLayoutWidget",MicroWrapper.__docgenInfo={description:"",methods:[],displayName:"MicroWrapper"},MicroLayoutWidget.__docgenInfo={description:"",methods:[],displayName:"MicroLayoutWidget"},function(S){S.Container=emotion_styled_browser_esm.Z.div`
    display: flex;
    flex-direction: column;
    position: relative;
    height: 100%;
    width: 100%;
    min-height: 0;
  `,S.MicroLayout=(0,emotion_styled_browser_esm.Z)(MicroLayoutWidget)`
    flex-grow: 1;
  `,S.MicroLayoutShrink=(0,emotion_styled_browser_esm.Z)(MicroLayoutWidget)`
    flex-grow: 0;
    flex-shrink: 0;
  `,S.Content=emotion_styled_browser_esm.Z.div`
    display: flex;
    flex-grow: 1;
    flex-direction: row;
    min-height: 0;
  `,S.PanelContent=emotion_styled_browser_esm.Z.div`
    display: flex;
    flex-grow: 1;
    min-width: 0;
  `}(TrayWidget_S||(TrayWidget_S={}));const PanelContent=props=>{const ref=(0,dist.KA)({model:props.model,engine:props.engine});return(0,jsx_runtime.jsx)(TrayWidget_S.PanelContent,{ref,children:props.engine.getFactory(props.model).generateContent({model:props.model,engine:props.engine})})};PanelContent.displayName="PanelContent";const TrayContentExpanded=props=>{const forceUpdate=(0,dist.NW)();let cont=[(0,jsx_runtime.jsx)(TrayWidget_S.MicroLayoutShrink,{node:props.node,engine:props.engine,factory:props.factory},"a"),(0,jsx_runtime.jsx)(PanelContent,{engine:props.engine,model:props.node.getSelectedModel()},"b")];return props.node.iconBarPosition===TrayIconPosition.RIGHT&&cont.reverse(),(0,react.useEffect)((()=>props.node.registerListener({iconPositionChanged:()=>{forceUpdate()}})),[]),(0,jsx_runtime.jsx)(TrayWidget_S.Content,{children:cont})};TrayContentExpanded.displayName="TrayContentExpanded";const TrayContentShrink=props=>(0,jsx_runtime.jsx)(TrayWidget_S.MicroLayout,{node:props.node,engine:props.engine,factory:props.factory});TrayContentShrink.displayName="TrayContentShrink";const TrayWidget=props=>{const forceUpdate=(0,dist.NW)();return(0,react.useEffect)((()=>props.node.registerListener({selectionChanged:()=>{forceUpdate()}})),[]),(0,jsx_runtime.jsxs)(TrayWidget_S.Container,{className:props.className,children:[(0,jsx_runtime.jsx)(dist.up,{model:props.node,engine:props.engine,children:props.header}),props.node.mode===WorkspaceTrayMode.NORMAL?(0,jsx_runtime.jsx)(TrayContentExpanded,{...props}):(0,jsx_runtime.jsx)(TrayContentShrink,{...props})]})};TrayWidget.displayName="TrayWidget",PanelContent.__docgenInfo={description:"",methods:[],displayName:"PanelContent"},TrayContentExpanded.__docgenInfo={description:"",methods:[],displayName:"TrayContentExpanded"},TrayContentShrink.__docgenInfo={description:"",methods:[],displayName:"TrayContentShrink"},TrayWidget.__docgenInfo={description:"",methods:[],displayName:"TrayWidget"};class WorkspaceTrayFactory extends dist.Rr{constructor(options){super(WorkspaceTrayModel.NAME),this.options=options,this.registerListener({modelGenerated:({model})=>{options.installIconPositionListener&&(model=>{const setupPositioning=()=>{const parent=model.getRootModel();0!==parent.r_dimensions.size.width&&(model.r_dimensions.isAligned(parent.r_dimensions,dist.v2.LEFT)?model.setIconPosition(TrayIconPosition.LEFT):model.setIconPosition(TrayIconPosition.RIGHT))};model.waitForInitialRenderedSize().then((dims=>{model.getRootModel().r_dimensions.invalidate(!0),setupPositioning()})),model.r_dimensions.registerListener({updated:()=>{setupPositioning()}})})(model),options.installEngineLockListener&&((model,engine)=>{model.floatingWindow.setDraggable(!engine.locked),engine.registerListener({lockUpdated:()=>{model.floatingWindow.setDraggable(!engine.locked)}})})(model,this.engine)}})}_generateModel(){return new WorkspaceTrayModel({iconWidth:50,factory:this.options.windowFactory})}generateTrayHeader(event){return null}generateContent(event){return(0,jsx_runtime.jsx)(TrayWidget,{factory:this,header:this.generateTrayHeader(event),node:event.model,engine:event.engine})}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixPLEVBRzNDZSxNQUFNa1QsNkJBQTZCc1csTUFBTWpXLE9BQ3hCdlQsTUFBTW9VLGVBQ2RsVCxhQUFhaUksWUFBVyxHQUMvQm1oQixrQkFBa0IsSUFFcEJ0cUIsTUFBTWtCLGFBQWFnRixpQkFBaUIsQ0FDbENrTCxRQUFTQSxLQUNQa1osa0JBQWtCLEdBRXBCLEVEa0JNQyxDQUEwQnZxQixPQUV4Qm1OLFFBQVFOLDJCRTFDMkIyZCxFQUFDeHFCLE1BQTJCdEIsVUFDekVzQixNQUFNNG9CLGVBQWVuQixjQUFjL29CLE9BQU9xZCxRQUNuQ3JkLE9BQU93SCxpQkFBaUIsQ0FDN0I0VixZQUFhQSxLQUNYOWIsTUFBTTRvQixlQUFlbkIsY0FBYy9vQixPQUFPcWQsT0FBTyxHQUVuRCxFRnFDTXlPLENBQWdDeHFCLE1BQU9nRCxLQUFLdEUsTyxHQUlwRCxDQUVVaWlCLGlCQUNSLE9BQU8sSUFBSTNTLG1CQUFtQixDQUM1QmdiLFVBQVcsR0FDWDNhLFFBQVNyTCxLQUFLbUssUUFBUVosZUFFMUIsQ0FFQTBXLG1CQUFtQnBnQixPQUNqQixPQUFPLElBQ1QsQ0FFQTJkLGdCQUFnQjNkLE9BQ2QsT0FDRXpELEVBQUFBLFlBQUFBLEtBQUNnckIsV0FBVSxDQUFDL2IsUUFBU3JMLEtBQU1xbkIsT0FBUXJuQixLQUFLaWdCLG1CQUFtQnBnQixPQUFRaUwsS0FBTWpMLE1BQU03QyxNQUFPdEIsT0FBUW1FLE1BQU1uRSxRQUV4RyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3NyYy9Ecm9wWm9uZUFsaWdubWVudEJ1dHRvbldpZGdldC50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3NyYy9Ecm9wWm9uZVRyYW5zZm9ybVdpZGdldC50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3NyYy9Ecm9wWm9uZUxheWVyUGFuZWxXaWRnZXQudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9zcmMvRHJvcFpvbmVMYXllci50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3NyYy9Ecm9wWm9uZUxheWVyQnV0dG9uV2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vc3JjL2luZGV4LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vc3JjL0Ryb3B6b25lRGl2aWRlcldpZGdldC50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3NyYy9Ecm9wem9uZURpdmlkZXJzTGF5ZXIudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9zcmMvUmVzaXplRGl2aWRlcldpZGdldC50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3NyYy9SZXNpemVEaXZpZGVyc0xheWVyLnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi9zdG9yaWVzL2hlbHBlcnMvdG9vbHMudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9jb3JlL3NyYy93aWRnZXRzL2hvb2tzL3VzZU1vdXNlRHJhZ0Rpc3RhbmNlLnRzIiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9jb3JlL3NyYy9jb3JlL0Jhc2VPYnNlcnZlci50cyIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vcGFja2FnZXMvY29yZS9zcmMvY29yZS9kaW1lbnNpb25zL1NpemUudHMiLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2NvcmUvZGltZW5zaW9ucy9Qb3NpdGlvbi50cyIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vcGFja2FnZXMvY29yZS9zcmMvY29yZS9kaW1lbnNpb25zL0RpbWVuc2lvbkNvbnRhaW5lci50cyIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vcGFja2FnZXMvY29yZS9zcmMvY29yZS1tb2RlbHMvV29ya3NwYWNlTW9kZWwudHMiLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3BhY2thZ2VzL2NvcmUvc3JjL2NvcmUtbW9kZWxzL1dvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbC50cyIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vcGFja2FnZXMvY29yZS9zcmMvY29yZS90b29scy50cyIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL3dpZGdldHMvaG9va3MvdXNlQmFzZVJlc2l6ZU9ic2VydmVyLnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL3dpZGdldHMvaG9va3MvdXNlV2luZG93UmVzaXplLnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL3dpZGdldHMvaG9va3MvdXNlUmVzaXplT2JzZXJ2ZXIudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9jb3JlL3NyYy93aWRnZXRzL2hvb2tzL3VzZURpbWVuc2lvbkxheW91dEludmFsaWRhdG9yLnRzIiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi8uLi8uLi9zcmMvd2lkZ2V0cy9ob29rcy91c2VNb2RlbEVsZW1lbnQudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi8uLi8uLi9zcmMvd2lkZ2V0cy9ob29rcy91c2VGb3JjZVVwZGF0ZS50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3dpZGdldHMvaG9va3MvdXNlU2Nyb2xsT2JzZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uLy4uLy4uL3NyYy93aWRnZXRzL2hvb2tzL2RuZC91c2VNb3VzZURyYWdFdmVudHMudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9jb3JlL3NyYy93aWRnZXRzL2hvb2tzL2RuZC91c2VEcmFnZ2FibGUudHMiLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3dpZGdldHMvaG9va3MvZG5kLW1vZGVsL3VzZURyYWdPdmVyTW9kZWwudHMiLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3BhY2thZ2VzL2NvcmUvc3JjL3dpZGdldHMvaG9va3MvZG5kL3VzZURyYWdPdmVyLnRzIiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9jb3JlL3NyYy93aWRnZXRzL2hvb2tzL2RuZC1tb2RlbC91c2VEcmFnZ2FibGVNb2RlbC50cyIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vcGFja2FnZXMvY29yZS9zcmMvd2lkZ2V0cy9ob29rcy9kbmQvdXNlRHJvcHBhYmxlLnRzIiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi8uLi8uLi9zcmMvd2lkZ2V0cy9wcmltaXRpdmVzL0RpbWVuc2lvblRyYWNraW5nV2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL3dpZGdldHMvcHJpbWl0aXZlcy9EaXZpZGVyV2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL3dpZGdldHMvcHJpbWl0aXZlcy9EcmFnZ2FibGVXaWRnZXQudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi8uLi8uLi9zcmMvd2lkZ2V0cy9wcmltaXRpdmVzL0Ryb3B6b25lTG9naWNXaWRnZXQudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9jb3JlL3NyYy93aWRnZXRzL2xheWVycy9MYXllck1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uLy4uLy4uL3NyYy93aWRnZXRzL2xheWVycy9vcmRlcmluZy9PcmRlcmluZ0xheWVyV2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vLi4vc3JjL3dpZGdldHMvbGF5ZXJzL29yZGVyaW5nL09yZGVyaW5nTGF5ZXIudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi8uLi8uLi8uLi9zcmMvd2lkZ2V0cy9sYXllcnMvb3JkZXJpbmcvT3JkZXJpbmdXaWRnZXQudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9jb3JlL3NyYy9lbnRpdGllcy9ub2RlL1Jlc2l6ZURpbWVuc2lvbkNvbnRhaW5lci50cyIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vcGFja2FnZXMvY29yZS9zcmMvZW50aXRpZXMvbm9kZS9Xb3Jrc3BhY2VOb2RlTW9kZWwudHMiLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uLy4uLy4uL3NyYy93aWRnZXRzL2xheWVycy9kZWJ1Zy9EZWJ1Z0xheWVyLnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL3dpZGdldHMvbGF5ZXJzL0xheWVyTWFuYWdlcldpZGdldC50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uLy4uL3NyYy93aWRnZXRzL2xheW91dHMvRGlyZWN0aW9uYWxDaGlsZFdpZGdldC50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uLy4uL3NyYy93aWRnZXRzL2xheW91dHMvRGlyZWN0aW9uYWxMYXlvdXRXaWRnZXQudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi8uLi9zcmMvd2lkZ2V0cy9Xb3Jrc3BhY2VXaWRnZXQudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9jb3JlL3NyYy9jb3JlL1dvcmtzcGFjZU1vZGVsRmFjdG9yeS50cyIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vc3JjL2NvcmUvV29ya3NwYWNlRW5naW5lLnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vcGFja2FnZXMvY29yZS9zcmMvZW50aXRpZXMvbm9kZS9FeHBhbmROb2RlTW9kZWwudHMiLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uL3NyYy9lbnRpdGllcy9TdWJDb21wb25lbnRNb2RlbEZhY3RvcnkudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi8uLi8uLi9zcmMvZW50aXRpZXMvbm9kZS9Xb3Jrc3BhY2VOb2RlV2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL2VudGl0aWVzL25vZGUvV29ya3NwYWNlTm9kZUZhY3RvcnkudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi8uLi9zcmMvdHJheS9EZWZhdWx0VHJheUZhY3RvcnkudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9kZWZhdWx0cy9zcmMvcGFuZWwvRGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWwudHMiLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uL3NyYy93aWRnZXRzL0RlZmF1bHRQYW5lbENvbnRlbnRXaWRnZXQudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi8uLi9zcmMvcGFuZWwvRGVmYXVsdFdvcmtzcGFjZVBhbmVsRmFjdG9yeS50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uL3NyYy93aWRnZXRzL0RlZmF1bHRGbG9hdGluZ1dpbmRvd1dpZGdldC50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uL3NyYy93aW5kb3cvRGVmYXVsdFdpbmRvd01vZGVsRmFjdG9yeS50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uL3NyYy93aWRnZXRzL0RlZmF1bHRQYW5lbFRpdGxlV2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vc3JjL3dpZGdldHMvRGVmYXVsdFBhbmVsVGFiV2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vc3JjL3dpZGdldHMvRGVmYXVsdFBhbmVsTWljcm9CdXR0b25XaWRnZXQudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9zcmMvRGVmYXVsdFN1YkNvbXBvbmVudFJlbmRlcmVyLnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL2xheWVyL3dpbmRvdy9GbG9hdGluZ1dpbmRvd0xheWVyV2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL2xheWVyL3dpbmRvdy9GbG9hdGluZ1dpbmRvd0xheWVyLnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL2xheWVyL3Jlc2l6ZS9GbG9hdGluZ1dpbmRvd1Jlc2l6ZUNvcm5lcldpZGdldC50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uLy4uL3NyYy9sYXllci9yZXNpemUvRmxvYXRpbmdXaW5kb3dSZXNpemVFZGdlV2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL2xheWVyL3Jlc2l6ZS9GbG9hdGluZ1dpbmRvd1Jlc2l6ZUxheWVyV2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vLi4vc3JjL2xheWVyL3Jlc2l6ZS9GbG9hdGluZ1dpbmRvd1Jlc2l6ZUxheWVyLnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vcGFja2FnZXMvbW9kZWwtZmxvYXRpbmctd2luZG93L3NyYy9jb3JlL1Jvb3RXb3Jrc3BhY2VNb2RlbC50cyIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vLi4vc3JjL2NvcmUvRmxvYXRpbmdXaW5kb3dNb2RlbC50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uLy4uL3NyYy9jb3JlL0Zsb2F0aW5nV2luZG93RmFjdG9yeS50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3NyYy9UYWJCdXR0b25XaWRnZXQudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9zcmMvVGFiR3JvdXBXaWRnZXQudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9tb2RlbC10YWJzL3NyYy9Xb3Jrc3BhY2VUYWJNb2RlbC50cyIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vc3JjL1dvcmtzcGFjZVRhYkZhY3RvcnkudHN4Iiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9tb2RlbC10cmF5L3NyYy9Xb3Jrc3BhY2VUcmF5TW9kZWwudHMiLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3NyYy9NaWNyb0xheW91dFdpZGdldC50c3giLCJ3ZWJwYWNrOi8vQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWRlbW9zLy4uL3NyYy9UcmF5V2lkZ2V0LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vc3JjL1dvcmtzcGFjZVRyYXlGYWN0b3J5LnRzeCIsIndlYnBhY2s6Ly9AcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZGVtb3MvLi4vcGFja2FnZXMvbW9kZWwtdHJheS9zcmMvYmVoYXZpb3JzL2ljb25Qb3NpdGlvbkJlaGF2aW9yLnRzIiwid2VicGFjazovL0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZW1vcy8uLi9wYWNrYWdlcy9tb2RlbC10cmF5L3NyYy9iZWhhdmlvcnMvdHJheVdpbmRvd0RyYWdMb2NrQmVoYXZpb3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7XG4gIEFsaWdubWVudCxcbiAgdXNlRHJvcHBhYmxlTW9kZWwsXG4gIHVzZU1vdXNlRHJhZ0V2ZW50cyxcbiAgV29ya3NwYWNlRW5naW5lLFxuICBXb3Jrc3BhY2VNb2RlbFxufSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcFpvbmVBbGlnbm1lbnRUaGVtZSB7XG4gIHRoaWNrbmVzcz86IG51bWJlcjtcbiAgdGhpY2tuZXNzSWRsZT86IG51bWJlcjtcbiAgbGVuZ3RoSWRsZT86IG51bWJlcjtcbiAgYmFja2dyb3VuZD86IHN0cmluZztcbiAgYmFja2dyb3VuZEVudGVyZWQ/OiBzdHJpbmc7XG59XG5cbmNvbnN0IERlZmF1bHREcm9wWm9uZUFsaWdubWVudFRoZW1lOiBEcm9wWm9uZUFsaWdubWVudFRoZW1lID0ge1xuICB0aGlja25lc3M6IDMwLFxuICB0aGlja25lc3NJZGxlOiAxMyxcbiAgbGVuZ3RoSWRsZTogNjAsXG4gIGJhY2tncm91bmQ6ICcjMDA5NmZmJyxcbiAgYmFja2dyb3VuZEVudGVyZWQ6ICdvcmFuZ2UnXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bab25lQWxpZ25tZW50QnV0dG9uV2lkZ2V0UHJvcHMge1xuICBhbGlnbm1lbnQ6IEFsaWdubWVudDtcbiAgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmU7XG4gIG1vZGVsOiBXb3Jrc3BhY2VNb2RlbDtcbiAgaGFuZGxlRHJvcDogKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCkgPT4gYW55O1xuICB0aGVtZT86IERyb3Bab25lQWxpZ25tZW50VGhlbWU7XG59XG5cbmV4cG9ydCBjb25zdCBEcm9wWm9uZUFsaWdubWVudEJ1dHRvbldpZGdldDogUmVhY3QuRkM8RHJvcFpvbmVBbGlnbm1lbnRCdXR0b25XaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgW2VudGVyZWQsIHNldEVudGVyZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCByZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KCk7XG4gIGNvbnN0IHRoZW1lID0gXy5tZXJnZSh7fSwgRGVmYXVsdERyb3Bab25lQWxpZ25tZW50VGhlbWUsIHByb3BzLnRoZW1lIHx8IHt9KTtcbiAgdXNlTW91c2VEcmFnRXZlbnRzKHtcbiAgICBmb3J3YXJkUmVmOiByZWYsXG4gICAgbW91c2VFbnRlcjogKCkgPT4ge1xuICAgICAgc2V0RW50ZXJlZCh0cnVlKTtcbiAgICB9LFxuICAgIG1vdXNlRXhpdDogKCkgPT4ge1xuICAgICAgc2V0RW50ZXJlZChmYWxzZSk7XG4gICAgfVxuICB9KTtcbiAgdXNlRHJvcHBhYmxlTW9kZWwoe1xuICAgIGZvcndhcmRSZWY6IHJlZixcbiAgICBlbmdpbmU6IHByb3BzLmVuZ2luZSxcbiAgICBvbkRyb3A6IHByb3BzLmhhbmRsZURyb3BcbiAgfSk7XG5cbiAgY29uc3QgdmVydGljYWwgPSBwcm9wcy5hbGlnbm1lbnQgPT09IEFsaWdubWVudC5MRUZUIHx8IHByb3BzLmFsaWdubWVudCA9PT0gQWxpZ25tZW50LlJJR0hUO1xuXG4gIGxldCB3aWR0aCA9IHRoZW1lLnRoaWNrbmVzc0lkbGU7XG4gIGxldCBoZWlnaHQgPSB0aGVtZS5sZW5ndGhJZGxlO1xuICBpZiAoIXZlcnRpY2FsKSB7XG4gICAgd2lkdGggPSB0aGVtZS5sZW5ndGhJZGxlO1xuICAgIGhlaWdodCA9IHRoZW1lLnRoaWNrbmVzc0lkbGU7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxTLlNwbGl0Q29udGFpbmVyXG4gICAgICB0aGlja25lc3M9e3RoZW1lLnRoaWNrbmVzc31cbiAgICAgIHJlZj17cmVmfVxuICAgICAgdmVydGljYWw9e3ZlcnRpY2FsfVxuICAgICAgYWxpZ25tZW50PXtwcm9wcy5hbGlnbm1lbnR9XG4gICAgICBob3Zlcj17ZW50ZXJlZH1cbiAgICA+XG4gICAgICA8Uy5TcGxpdENvbnRhaW5lckljb24gdGhlbWU9e3RoZW1lfSBob3Zlcj17ZW50ZXJlZH0gd2lkdGg9e3dpZHRofSBoZWlnaHQ9e2hlaWdodH0gLz5cbiAgICA8L1MuU3BsaXRDb250YWluZXI+XG4gICk7XG59O1xuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBTcGxpdENvbnRhaW5lciA9IHN0eWxlZC5kaXY8e1xuICAgIGFsaWdubWVudDogQWxpZ25tZW50O1xuICAgIGhvdmVyOiBib29sZWFuO1xuICAgIHZlcnRpY2FsOiBib29sZWFuO1xuICAgIHRoaWNrbmVzczogbnVtYmVyO1xuICB9PmBcbiAgICAkeyhwKSA9PiBwLmFsaWdubWVudH06IDA7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiAkeyhwKSA9PiAocC52ZXJ0aWNhbCA/IGAke3AudGhpY2tuZXNzfXB4YCA6ICcxMDAlJyl9O1xuICAgIGhlaWdodDogJHsocCkgPT4gKCFwLnZlcnRpY2FsID8gYCR7cC50aGlja25lc3N9cHhgIDogJzEwMCUnKX07XG4gICAgcG9pbnRlci1ldmVudHM6IGFsbDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IFNwbGl0Q29udGFpbmVySWNvbiA9IHN0eWxlZC5kaXY8e1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgaG92ZXI6IGJvb2xlYW47XG4gICAgdGhlbWU6IERyb3Bab25lQWxpZ25tZW50VGhlbWU7XG4gIH0+YFxuICAgIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgICBiYWNrZ3JvdW5kOiAkeyhwKSA9PiAocC5ob3ZlciA/IHAudGhlbWUuYmFja2dyb3VuZEVudGVyZWQgOiBwLnRoZW1lLmJhY2tncm91bmQpfTtcbiAgICB0cmFuc2l0aW9uOlxuICAgICAgYmFja2dyb3VuZCAwLjNzLFxuICAgICAgd2lkdGggZWFzZS1vdXQgMC4zcyxcbiAgICAgIGhlaWdodCBlYXNlLW91dCAwLjNzO1xuICAgIHRyYW5zaXRpb24tZGVsYXk6IDAuMXM7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5cbiAgICB3aWR0aDogJHsocCkgPT4gKHAuaG92ZXIgPyAnMTAwJScgOiBgJHtwLndpZHRofXB4YCl9O1xuICAgIGhlaWdodDogJHsocCkgPT4gKHAuaG92ZXIgPyAnMTAwJScgOiBgJHtwLmhlaWdodH1weGApfTtcbiAgYDtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IHVzZURyb3BwYWJsZU1vZGVsLCB1c2VNb3VzZURyYWdFdmVudHMsIFdvcmtzcGFjZUVuZ2luZSB9IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCB7IHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUcmFuc2Zvcm1ab25lIH0gZnJvbSAnLi9Ecm9wWm9uZUxheWVyUGFuZWxXaWRnZXQnO1xuaW1wb3J0IHsgV29ya3NwYWNlTW9kZWwgfSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtY29yZSc7XG5pbXBvcnQgeyBEcm9wWm9uZUxheWVyQnV0dG9uVGhlbWUgfSBmcm9tICcuL0Ryb3Bab25lTGF5ZXJCdXR0b25XaWRnZXQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bab25lVHJhbnNmb3JtV2lkZ2V0UHJvcHMge1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbiAgem9uZTogVHJhbnNmb3JtWm9uZTtcbiAgbW9kZWw6IFdvcmtzcGFjZU1vZGVsO1xuICB0aGVtZTogUGFydGlhbDxEcm9wWm9uZUxheWVyQnV0dG9uVGhlbWU+O1xufVxuXG5leHBvcnQgY29uc3QgRHJvcFpvbmVUcmFuc2Zvcm1XaWRnZXQ6IFJlYWN0LkZDPERyb3Bab25lVHJhbnNmb3JtV2lkZ2V0UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IFtlbnRlcmVkLCBzZXRFbnRlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuICB1c2VNb3VzZURyYWdFdmVudHMoe1xuICAgIGZvcndhcmRSZWY6IHJlZixcbiAgICBtb3VzZUVudGVyOiAoKSA9PiB7XG4gICAgICBzZXRFbnRlcmVkKHRydWUpO1xuICAgIH0sXG4gICAgbW91c2VFeGl0OiAoKSA9PiB7XG4gICAgICBzZXRFbnRlcmVkKGZhbHNlKTtcbiAgICB9XG4gIH0pO1xuICB1c2VEcm9wcGFibGVNb2RlbCh7XG4gICAgZm9yd2FyZFJlZjogcmVmLFxuICAgIGVuZ2luZTogcHJvcHMuZW5naW5lLFxuICAgIG9uRHJvcDogKG1vZGVsKSA9PiB7XG4gICAgICBwcm9wcy56b25lLnRyYW5zZm9ybSh7XG4gICAgICAgIG1vZGVsLFxuICAgICAgICB6b25lTW9kZWw6IHByb3BzLm1vZGVsLFxuICAgICAgICBlbmdpbmU6IHByb3BzLmVuZ2luZVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIDxTLkNvbnRhaW5lciByZWY9e3JlZn0+e3Byb3BzLnpvbmUucmVuZGVyKHsgZW50ZXJlZCwgdGhlbWU6IHByb3BzLnRoZW1lIH0pfTwvUy5Db250YWluZXI+O1xufTtcbm5hbWVzcGFjZSBTIHtcbiAgZXhwb3J0IGNvbnN0IENvbnRhaW5lciA9IHN0eWxlZC5kaXZgYDtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQge1xuICBBbGlnbm1lbnQsXG4gIERpbWVuc2lvblRyYWNraW5nV2lkZ2V0LFxuICBVc2VNb3VzZURyYWdFdmVudHNSb290V2lkZ2V0LFxuICBXb3Jrc3BhY2VFbmdpbmUsXG4gIFdvcmtzcGFjZU1vZGVsXG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCB7IERyb3Bab25lQWxpZ25tZW50QnV0dG9uV2lkZ2V0LCBEcm9wWm9uZUFsaWdubWVudFRoZW1lIH0gZnJvbSAnLi9Ecm9wWm9uZUFsaWdubWVudEJ1dHRvbldpZGdldCc7XG5pbXBvcnQgeyBEcm9wWm9uZVRyYW5zZm9ybVdpZGdldCB9IGZyb20gJy4vRHJvcFpvbmVUcmFuc2Zvcm1XaWRnZXQnO1xuaW1wb3J0IHsgRHJvcFpvbmVMYXllckJ1dHRvblRoZW1lIH0gZnJvbSAnLi9Ecm9wWm9uZUxheWVyQnV0dG9uV2lkZ2V0JztcblxuZXhwb3J0IGludGVyZmFjZSBUcmFuc2Zvcm1ab25lRXZlbnQge1xuICBtb2RlbDogV29ya3NwYWNlTW9kZWw7XG4gIHpvbmVNb2RlbDogV29ya3NwYWNlTW9kZWw7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zZm9ybVpvbmUge1xuICB0cmFuc2Zvcm06IChldmVudDogVHJhbnNmb3JtWm9uZUV2ZW50KSA9PiBhbnk7XG4gIHJlbmRlcjogKG9wdGlvbnM6IHsgZW50ZXJlZDogYm9vbGVhbjsgdGhlbWU6IFBhcnRpYWw8RHJvcFpvbmVMYXllckJ1dHRvblRoZW1lPiB9KSA9PiBhbnk7XG4gIGtleTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNwbGl0Wm9uZSB7XG4gIGFsaWdubWVudDogQWxpZ25tZW50O1xuICBoYW5kbGVEcm9wOiAobW9kZWw6IFdvcmtzcGFjZU1vZGVsLCBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZSkgPT4gYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bab25lUGFuZWxEaXJlY3RpdmUge1xuICBzcGxpdFpvbmVzOiBTcGxpdFpvbmVbXTtcbiAgdHJhbnNmb3JtWm9uZXM6IFRyYW5zZm9ybVpvbmVbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcm9wWm9uZUxheWVyUGFuZWxUaGVtZSB7XG4gIGJvcmRlcj86IG51bWJlcjtcbiAgYm9yZGVyQ29sb3I/OiBzdHJpbmc7XG4gIGJvcmRlckNvbG9yRW50ZXJlZD86IHN0cmluZztcbiAgYmFja2dyb3VuZD86IHN0cmluZztcbiAgYmFja2dyb3VuZEVudGVyZWQ/OiBzdHJpbmc7XG4gIGJvcmRlclJhZGl1cz86IG51bWJlcjtcbiAgYmx1cj86IG51bWJlcjtcbiAgc3BsaXRCdXR0b25UaGVtZT86IERyb3Bab25lQWxpZ25tZW50VGhlbWU7XG4gIHRyYW5zZm9ybUJ1dHRvblRoZW1lPzogUGFydGlhbDxEcm9wWm9uZUxheWVyQnV0dG9uVGhlbWU+O1xufVxuXG5leHBvcnQgY29uc3QgRGVmYXVsdERyb3Bab25lTGF5ZXJQYW5lbFRoZW1lOiBEcm9wWm9uZUxheWVyUGFuZWxUaGVtZSA9IHtcbiAgYm9yZGVyOiAyLFxuICBibHVyOiAwLFxuICBib3JkZXJDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgYm9yZGVyQ29sb3JFbnRlcmVkOiAnIzAwOTZmZicsXG4gIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCcsXG4gIGJvcmRlclJhZGl1czogMTAsXG4gIGJhY2tncm91bmRFbnRlcmVkOiAncmdiYSgwLCAwLCAwLCAwLjQpJ1xufTtcblxuLy8gIS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bab25lTGF5ZXJQYW5lbFdpZGdldFByb3BzIHtcbiAgbW9kZWw6IFdvcmtzcGFjZU1vZGVsO1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbiAgZGlyZWN0aXZlOiBEcm9wWm9uZVBhbmVsRGlyZWN0aXZlO1xuICBkZWJ1ZzogYm9vbGVhbjtcbiAgdGhlbWU/OiBEcm9wWm9uZUxheWVyUGFuZWxUaGVtZTtcbn1cblxuZXhwb3J0IGNvbnN0IERyb3Bab25lTGF5ZXJQYW5lbFdpZGdldDogUmVhY3QuRkM8RHJvcFpvbmVMYXllclBhbmVsV2lkZ2V0UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcbiAgY29uc3QgW3Nob3csIHNldFNob3ddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB0aGVtZSA9IF8ubWVyZ2Uoe30sIERlZmF1bHREcm9wWm9uZUxheWVyUGFuZWxUaGVtZSwgcHJvcHMudGhlbWUgfHwge30pO1xuXG4gIHJldHVybiAoXG4gICAgPFVzZU1vdXNlRHJhZ0V2ZW50c1Jvb3RXaWRnZXRcbiAgICAgIGZvcndhcmRSZWY9e3JlZn1cbiAgICAgIG1vdXNlRW50ZXI9eygpID0+IHtcbiAgICAgICAgc2V0U2hvdyh0cnVlKTtcbiAgICAgIH19XG4gICAgICBtb3VzZUV4aXQ9eygpID0+IHtcbiAgICAgICAgc2V0U2hvdyhmYWxzZSk7XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxTLkRpbWVuc2lvblRyYWNraW5nIHRoZW1lPXt0aGVtZX0gZW50ZXJlZD17c2hvd30gZGltZW5zaW9uPXtwcm9wcy5tb2RlbC5yX2RpbWVuc2lvbnN9PlxuICAgICAgICA8Uy5JbnNpZGUgcmVmPXtyZWZ9PlxuICAgICAgICAgIDxTLkxheWVyIHZpc2libGU9e3Nob3d9PlxuICAgICAgICAgICAge3Byb3BzLmRpcmVjdGl2ZS5zcGxpdFpvbmVzLm1hcCgoZCkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxEcm9wWm9uZUFsaWdubWVudEJ1dHRvbldpZGdldFxuICAgICAgICAgICAgICAgICAga2V5PXtkLmFsaWdubWVudH1cbiAgICAgICAgICAgICAgICAgIG1vZGVsPXtwcm9wcy5tb2RlbH1cbiAgICAgICAgICAgICAgICAgIGVuZ2luZT17cHJvcHMuZW5naW5lfVxuICAgICAgICAgICAgICAgICAgYWxpZ25tZW50PXtkLmFsaWdubWVudH1cbiAgICAgICAgICAgICAgICAgIGhhbmRsZURyb3A9eyhtb2RlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkLmhhbmRsZURyb3AobW9kZWwsIHByb3BzLmVuZ2luZSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgdGhlbWU9e3RoZW1lLnNwbGl0QnV0dG9uVGhlbWV9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvUy5MYXllcj5cbiAgICAgICAgICA8Uy5MYXllcjIgdmlzaWJsZT17c2hvd30+XG4gICAgICAgICAgICA8Uy5CdXR0b25CYXI+XG4gICAgICAgICAgICAgIHtwcm9wcy5kaXJlY3RpdmUudHJhbnNmb3JtWm9uZXMubWFwKCh6b25lKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxEcm9wWm9uZVRyYW5zZm9ybVdpZGdldFxuICAgICAgICAgICAgICAgICAgICB0aGVtZT17dGhlbWUudHJhbnNmb3JtQnV0dG9uVGhlbWV9XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsPXtwcm9wcy5tb2RlbH1cbiAgICAgICAgICAgICAgICAgICAgem9uZT17em9uZX1cbiAgICAgICAgICAgICAgICAgICAgZW5naW5lPXtwcm9wcy5lbmdpbmV9XG4gICAgICAgICAgICAgICAgICAgIGtleT17em9uZS5rZXl9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgPC9TLkJ1dHRvbkJhcj5cbiAgICAgICAgICAgIHtwcm9wcy5kZWJ1ZyA/IDxTLkRlYnVnPntwcm9wcy5tb2RlbC5pZC5zdWJzdHJpbmcoMCwgNyl9PC9TLkRlYnVnPiA6IG51bGx9XG4gICAgICAgICAgPC9TLkxheWVyMj5cbiAgICAgICAgPC9TLkluc2lkZT5cbiAgICAgIDwvUy5EaW1lbnNpb25UcmFja2luZz5cbiAgICA8L1VzZU1vdXNlRHJhZ0V2ZW50c1Jvb3RXaWRnZXQ+XG4gICk7XG59O1xuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBEaW1lbnNpb25UcmFja2luZyA9IHN0eWxlZChEaW1lbnNpb25UcmFja2luZ1dpZGdldCk8e1xuICAgIGVudGVyZWQ6IGJvb2xlYW47XG4gICAgdGhlbWU6IERyb3Bab25lTGF5ZXJQYW5lbFRoZW1lO1xuICB9PmBcbiAgICBib3JkZXItcmFkaXVzOiAkeyhwKSA9PiBwLnRoZW1lLmJvcmRlclJhZGl1c31weDtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGJhY2tncm91bmQ6ICR7KHApID0+IChwLmVudGVyZWQgPyBwLnRoZW1lLmJhY2tncm91bmRFbnRlcmVkIDogcC50aGVtZS5iYWNrZ3JvdW5kKX07XG4gICAgYm9yZGVyOiBzb2xpZCAkeyhwKSA9PiBwLnRoZW1lLmJvcmRlcn1weCAkeyhwKSA9PiAocC5lbnRlcmVkID8gcC50aGVtZS5ib3JkZXJDb2xvckVudGVyZWQgOiBwLnRoZW1lLmJvcmRlckNvbG9yKX07XG4gICAgdHJhbnNpdGlvbjpcbiAgICAgIGJvcmRlciAwLjVzLFxuICAgICAgYmFja2dyb3VuZCAwLjVzO1xuICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG4gICAgJHsocCkgPT4gKHAudGhlbWUuYmx1ciA/IGAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKCR7cC50aGVtZS5ibHVyfXB4KWAgOiBgYCl9O1xuICBgO1xuXG4gIGV4cG9ydCBjb25zdCBEZWJ1ZyA9IHN0eWxlZC5zcGFuYFxuICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICBjb2xvcjogd2hpdGU7XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IEJ1dHRvbkJhciA9IHN0eWxlZC5kaXZgXG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IExheWVyID0gc3R5bGVkLmRpdjx7IHZpc2libGU6IGJvb2xlYW4gfT5gXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgb3BhY2l0eTogJHsocCkgPT4gKHAudmlzaWJsZSA/IDEgOiAwKX07XG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzO1xuICBgO1xuXG4gIGV4cG9ydCBjb25zdCBMYXllcjIgPSBzdHlsZWQuZGl2PHsgdmlzaWJsZTogYm9vbGVhbiB9PmBcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIG9wYWNpdHk6ICR7KHApID0+IChwLnZpc2libGUgPyAxIDogMCl9O1xuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMC4zcztcbiAgYDtcblxuICBleHBvcnQgY29uc3QgSW5zaWRlID0gc3R5bGVkLmRpdmBcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBgO1xufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgTGF5ZXIsIFdvcmtzcGFjZUVuZ2luZSwgV29ya3NwYWNlTW9kZWwgfSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtY29yZSc7XG5pbXBvcnQgeyBEcm9wWm9uZUxheWVyUGFuZWxUaGVtZSwgRHJvcFpvbmVMYXllclBhbmVsV2lkZ2V0LCBEcm9wWm9uZVBhbmVsRGlyZWN0aXZlIH0gZnJvbSAnLi9Ecm9wWm9uZUxheWVyUGFuZWxXaWRnZXQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bab25lTGF5ZXJPcHRpb25zIHtcbiAgZ2V0RHJvcFpvbmVGb3JNb2RlbDogKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCkgPT4gRHJvcFpvbmVQYW5lbERpcmVjdGl2ZSB8IG51bGw7XG4gIHRoZW1lPzogRHJvcFpvbmVMYXllclBhbmVsVGhlbWU7XG4gIG1vZGVsSUQ6IHN0cmluZztcbiAgZGVidWdNb2RlbHM6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBEcm9wWm9uZUxheWVyIGV4dGVuZHMgTGF5ZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG9wdGlvbnMyOiBEcm9wWm9uZUxheWVyT3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIG1vdXNlRXZlbnRzOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyTGF5ZXIoZXZlbnQpOiBKU1guRWxlbWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxEcm9wWm9uZUxheWVyV2lkZ2V0XG4gICAgICAgIGRlYnVnTW9kZWxzPXt0aGlzLm9wdGlvbnMyLmRlYnVnTW9kZWxzfVxuICAgICAgICBlbmdpbmU9e2V2ZW50LmVuZ2luZX1cbiAgICAgICAgZHJhZ2dpbmdNb2RlbD17dGhpcy5vcHRpb25zMi5tb2RlbElEfVxuICAgICAgICBnZXREcm9wWm9uZUZvck1vZGVsPXt0aGlzLm9wdGlvbnMyLmdldERyb3Bab25lRm9yTW9kZWx9XG4gICAgICAgIHRoZW1lPXt0aGlzLm9wdGlvbnMyLnRoZW1lfVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG5cbi8vIS0tLS0tLS0tLS0tLS0tLSB3aWRnZXQgLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bab25lTGF5ZXJXaWRnZXRQcm9wcyB7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xuICBnZXREcm9wWm9uZUZvck1vZGVsOiAobW9kZWw6IFdvcmtzcGFjZU1vZGVsKSA9PiBEcm9wWm9uZVBhbmVsRGlyZWN0aXZlIHwgbnVsbDtcbiAgZHJhZ2dpbmdNb2RlbDogc3RyaW5nO1xuICBkZWJ1Z01vZGVsczogYm9vbGVhbjtcbiAgdGhlbWU/OiBEcm9wWm9uZUxheWVyUGFuZWxUaGVtZTtcbn1cblxuZXhwb3J0IGNvbnN0IERyb3Bab25lTGF5ZXJXaWRnZXQ6IFJlYWN0LkZDPERyb3Bab25lTGF5ZXJXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgZHJhZ2dpbmdNb2RlbEZsYXR0ZW5lZCA9XG4gICAgcHJvcHMuZW5naW5lLnJvb3RNb2RlbFxuICAgICAgLmZsYXR0ZW4oKVxuICAgICAgLmZpbmQoKG0pID0+IG0uaWQgPT09IHByb3BzLmRyYWdnaW5nTW9kZWwpXG4gICAgICA/LmZsYXR0ZW4oKSB8fCBbXTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7cHJvcHMuZW5naW5lLnJvb3RNb2RlbFxuICAgICAgICAuZmxhdHRlbigpXG4gICAgICAgIC5maWx0ZXIoKG0pID0+IG0ucl92aXNpYmxlKVxuICAgICAgICAuZmlsdGVyKChtKSA9PiB7XG4gICAgICAgICAgLy8gZmlsdGVyIG91dCB0aGUgZHJhZ2dpbmcgbW9kZWwgYW5kIGl0cyBjaGlsZHJlbiAoY2FudCBhZGQgcGFyZW50IHRvIGNoaWxkcmVuKVxuICAgICAgICAgIHJldHVybiAhZHJhZ2dpbmdNb2RlbEZsYXR0ZW5lZC5maW5kKChjaGlsZCkgPT4gY2hpbGQuaWQgPT09IG0uaWQpO1xuICAgICAgICB9KVxuICAgICAgICAvLyBkb250IHNob3cgYSBkcm9wIHpvbmUgZm9yIHRoZSBzYW1lIG1vZGVsXG4gICAgICAgIC8vIC5maWx0ZXIoKG0pID0+IG0uaWQgIT09IHByb3BzLmRyYWdnaW5nTW9kZWwuaWQpXG4gICAgICAgIC5tYXAoKG0pID0+IHtcbiAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSBwcm9wcy5nZXREcm9wWm9uZUZvck1vZGVsKG0pO1xuXG4gICAgICAgICAgaWYgKCFkaXJlY3RpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8RHJvcFpvbmVMYXllclBhbmVsV2lkZ2V0XG4gICAgICAgICAgICAgIGRlYnVnPXtwcm9wcy5kZWJ1Z01vZGVsc31cbiAgICAgICAgICAgICAgZGlyZWN0aXZlPXtkaXJlY3RpdmV9XG4gICAgICAgICAgICAgIGVuZ2luZT17cHJvcHMuZW5naW5lfVxuICAgICAgICAgICAgICBtb2RlbD17bX1cbiAgICAgICAgICAgICAgdGhlbWU9e3Byb3BzLnRoZW1lfVxuICAgICAgICAgICAgICBrZXk9e20uaWR9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICk7XG4gICAgICAgIH0pfVxuICAgIDwvPlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IEZvbnRBd2Vzb21lSWNvbiB9IGZyb20gJ0Bmb3J0YXdlc29tZS9yZWFjdC1mb250YXdlc29tZSc7XG5pbXBvcnQgeyBJY29uUHJvcCB9IGZyb20gJ0Bmb3J0YXdlc29tZS9mb250YXdlc29tZS1zdmctY29yZSc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcFpvbmVMYXllckJ1dHRvblRoZW1lIHtcbiAgaWNvbj86IHtcbiAgICBjb2xvcj86IHN0cmluZztcbiAgICBzaXplPzogbnVtYmVyO1xuICB9O1xuICB0ZXh0Pzoge1xuICAgIGNvbG9yPzogc3RyaW5nO1xuICAgIHNpemU/OiBudW1iZXI7XG4gIH07XG4gIGJvcmRlclNpemU/OiBudW1iZXI7XG4gIGJvcmRlclJhZGl1cz86IG51bWJlcjtcbiAgYm9yZGVyQ29sb3I/OiBzdHJpbmc7XG4gIGJvcmRlckNvbG9yRW50ZXJlZD86IHN0cmluZztcbiAgYmFja2dyb3VuZD86IHN0cmluZztcbiAgYmFja2dyb3VuZEVudGVyZWQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBEZWZhdWx0RHJvcFpvbmVMYXllckJ1dHRvblRoZW1lOiBEcm9wWm9uZUxheWVyQnV0dG9uVGhlbWUgPSB7XG4gIGJhY2tncm91bmQ6ICd0cmFuc3BhcmVudCcsXG4gIGJhY2tncm91bmRFbnRlcmVkOiAncmdiYSgyNTUsIDE2NSwgMCwgMC41NiknLFxuICBib3JkZXJDb2xvcjogJyMwMDk2ZmYnLFxuICBib3JkZXJDb2xvckVudGVyZWQ6ICdvcmFuZ2UnLFxuICBib3JkZXJTaXplOiAyLFxuICBib3JkZXJSYWRpdXM6IDUsXG4gIGljb246IHtcbiAgICBjb2xvcjogJ3doaXRlJyxcbiAgICBzaXplOiAyMlxuICB9LFxuICB0ZXh0OiB7XG4gICAgY29sb3I6ICd3aGl0ZScsXG4gICAgc2l6ZTogMTFcbiAgfVxufTtcblxuZXhwb3J0IGludGVyZmFjZSBEcm9wWm9uZUxheWVyQnV0dG9uV2lkZ2V0UHJvcHMge1xuICBpY29uOiBJY29uUHJvcDtcbiAgdGV4dDogc3RyaW5nO1xuICBlbnRlcmVkOiBib29sZWFuO1xuICB0aGVtZT86IERyb3Bab25lTGF5ZXJCdXR0b25UaGVtZTtcbn1cblxuZXhwb3J0IGNvbnN0IERyb3Bab25lTGF5ZXJCdXR0b25XaWRnZXQ6IFJlYWN0LkZDPERyb3Bab25lTGF5ZXJCdXR0b25XaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgdGhlbWUgPSBfLm1lcmdlKHt9LCBEZWZhdWx0RHJvcFpvbmVMYXllckJ1dHRvblRoZW1lLCBwcm9wcy50aGVtZSB8fCB7fSk7XG4gIHJldHVybiAoXG4gICAgPFMuQ29udGFpbmVyIHRoZW1lPXt0aGVtZX0gZW50ZXJlZD17cHJvcHMuZW50ZXJlZH0+XG4gICAgICA8Uy5JY29uIHRoZW1lPXt0aGVtZX0gaWNvbj17cHJvcHMuaWNvbn0gLz5cbiAgICAgIDxTLlRleHQgdGhlbWU9e3RoZW1lfT57cHJvcHMudGV4dH08L1MuVGV4dD5cbiAgICA8L1MuQ29udGFpbmVyPlxuICApO1xufTtcblxubmFtZXNwYWNlIFMge1xuICBleHBvcnQgY29uc3QgSWNvbiA9IHN0eWxlZChGb250QXdlc29tZUljb24pPHsgdGhlbWU6IERyb3Bab25lTGF5ZXJCdXR0b25UaGVtZSB9PmBcbiAgICBmb250LXNpemU6ICR7KHApID0+IHAudGhlbWUuaWNvbi5zaXplfXB4O1xuICAgIGNvbG9yOiAkeyhwKSA9PiBwLnRoZW1lLmljb24uY29sb3J9O1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBgO1xuXG4gIGV4cG9ydCBjb25zdCBUZXh0ID0gc3R5bGVkLmRpdjx7IHRoZW1lOiBEcm9wWm9uZUxheWVyQnV0dG9uVGhlbWUgfT5gXG4gICAgZm9udC1zaXplOiAkeyhwKSA9PiBwLnRoZW1lLnRleHQuc2l6ZX1weDtcbiAgICBjb2xvcjogJHsocCkgPT4gcC50aGVtZS50ZXh0LmNvbG9yfTtcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBgO1xuXG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2PHsgZW50ZXJlZDogYm9vbGVhbjsgdGhlbWU6IERyb3Bab25lTGF5ZXJCdXR0b25UaGVtZSB9PmBcbiAgICBib3JkZXI6IHNvbGlkIDJweCAkeyhwKSA9PiAocC5lbnRlcmVkID8gcC50aGVtZS5ib3JkZXJDb2xvckVudGVyZWQgOiBwLnRoZW1lLmJvcmRlckNvbG9yKX07XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBiYWNrZ3JvdW5kOiAkeyhwKSA9PiAocC5lbnRlcmVkID8gcC50aGVtZS5iYWNrZ3JvdW5kRW50ZXJlZCA6IHAudGhlbWUuYmFja2dyb3VuZCl9O1xuICAgIHRyYW5zaXRpb246XG4gICAgICBib3JkZXIgMC4zcyxcbiAgICAgIGJhY2tncm91bmQgMC4zcztcbiAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgIHdpZHRoOiA2MHB4O1xuICAgIGhlaWdodDogNjBweDtcbiAgICBtYXJnaW46IDJweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGA7XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBBbGlnbm1lbnQsXG4gIFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbCxcbiAgV29ya3NwYWNlRW5naW5lLFxuICBXb3Jrc3BhY2VNb2RlbCxcbiAgV29ya3NwYWNlTm9kZU1vZGVsXG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCB7IERyb3Bab25lTGF5ZXIgfSBmcm9tICcuL0Ryb3Bab25lTGF5ZXInO1xuaW1wb3J0IHsgRHJvcFpvbmVMYXllclBhbmVsVGhlbWUsIERyb3Bab25lUGFuZWxEaXJlY3RpdmUsIFRyYW5zZm9ybVpvbmUgfSBmcm9tICcuL0Ryb3Bab25lTGF5ZXJQYW5lbFdpZGdldCc7XG5pbXBvcnQgeyBEcm9wWm9uZUxheWVyQnV0dG9uV2lkZ2V0IH0gZnJvbSAnLi9Ecm9wWm9uZUxheWVyQnV0dG9uV2lkZ2V0JztcbmltcG9ydCB7IGxpYnJhcnkgfSBmcm9tICdAZm9ydGF3ZXNvbWUvZm9udGF3ZXNvbWUtc3ZnLWNvcmUnO1xuaW1wb3J0IHsgZmFDb3B5IH0gZnJvbSAnQGZvcnRhd2Vzb21lL2ZyZWUtc29saWQtc3ZnLWljb25zJztcblxubGlicmFyeS5hZGQoZmFDb3B5KTtcblxuZXhwb3J0IGludGVyZmFjZSBEcmFnZ2luZ0l0ZW1CZWhhdmlvck9wdGlvbnMge1xuICBnZXREcm9wWm9uZUZvck1vZGVsOiAobW9kZWw6IFdvcmtzcGFjZU1vZGVsKSA9PiBEcm9wWm9uZVBhbmVsRGlyZWN0aXZlIHwgbnVsbDtcbiAgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmU7XG4gIGRlYnVnPzogYm9vbGVhbjtcbiAgZ2V0VGhlbWU/OiAoKSA9PiBEcm9wWm9uZUxheWVyUGFuZWxUaGVtZTtcbn1cblxuZXhwb3J0IGNvbnN0IGRyYWdnaW5nSXRlbUJlaGF2aW9yID0gKG9wdGlvbnM6IERyYWdnaW5nSXRlbUJlaGF2aW9yT3B0aW9ucykgPT4ge1xuICBsZXQgbGF5ZXI6IERyb3Bab25lTGF5ZXIgPSBudWxsO1xuICBjb25zdCB7IGVuZ2luZSB9ID0gb3B0aW9ucztcbiAgZW5naW5lLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgIG1vZGVsRHJhZ1N0YXJ0OiAoKSA9PiB7XG4gICAgICBpZiAobGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGF5ZXIgPSBuZXcgRHJvcFpvbmVMYXllcih7XG4gICAgICAgIG1vZGVsSUQ6IGVuZ2luZS5kcmFnZ2luZ0lELFxuICAgICAgICBnZXREcm9wWm9uZUZvck1vZGVsOiBvcHRpb25zLmdldERyb3Bab25lRm9yTW9kZWwsXG4gICAgICAgIGRlYnVnTW9kZWxzOiBvcHRpb25zLmRlYnVnLFxuICAgICAgICB0aGVtZTogb3B0aW9ucy5nZXRUaGVtZT8uKClcbiAgICAgIH0pO1xuICAgICAgZW5naW5lLmxheWVyTWFuYWdlci5hZGRMYXllcihsYXllcik7XG4gICAgfSxcbiAgICBtb2RlbERyYWdFbmQ6ICgpID0+IHtcbiAgICAgIGxheWVyPy5yZW1vdmUoKTtcbiAgICAgIGxheWVyID0gbnVsbDtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IFJlcGxhY2Vab25lOiBUcmFuc2Zvcm1ab25lID0ge1xuICBrZXk6ICdSRVBMQUNFJyxcbiAgcmVuZGVyOiAoeyBlbnRlcmVkLCB0aGVtZSB9KSA9PiB7XG4gICAgcmV0dXJuIDxEcm9wWm9uZUxheWVyQnV0dG9uV2lkZ2V0IHRoZW1lPXt0aGVtZX0gZW50ZXJlZD17ZW50ZXJlZH0gdGV4dD1cIlJlcGxhY2VcIiBpY29uPVwiY29weVwiIC8+O1xuICB9LFxuICB0cmFuc2Zvcm06ICh7IG1vZGVsLCB6b25lTW9kZWwsIGVuZ2luZSB9KSA9PiB7XG4gICAgKHpvbmVNb2RlbC5wYXJlbnQgYXMgV29ya3NwYWNlQ29sbGVjdGlvbk1vZGVsKS5yZXBsYWNlTW9kZWwoem9uZU1vZGVsLCBtb2RlbCk7XG4gICAgZW5naW5lLm5vcm1hbGl6ZSgpO1xuICB9XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEdldERpcmVjdGl2ZUZvcldvcmtzcGFjZU5vZGVPcHRpb25zIHtcbiAgbm9kZTogV29ya3NwYWNlTW9kZWw7XG4gIHRyYW5zZm9ybVpvbmVzPzogVHJhbnNmb3JtWm9uZVtdO1xuICBnZW5lcmF0ZVBhcmVudE5vZGU/OiAoKSA9PiBXb3Jrc3BhY2VOb2RlTW9kZWw7XG59XG5cbmV4cG9ydCBjb25zdCBnZXREaXJlY3RpdmVGb3JXb3Jrc3BhY2VOb2RlID0gKFxuICBvcHRpb25zOiBHZXREaXJlY3RpdmVGb3JXb3Jrc3BhY2VOb2RlT3B0aW9uc1xuKTogRHJvcFpvbmVQYW5lbERpcmVjdGl2ZSB8IG51bGwgPT4ge1xuICBjb25zdCB7IG5vZGUsIHRyYW5zZm9ybVpvbmVzLCBnZW5lcmF0ZVBhcmVudE5vZGUgfSA9IG9wdGlvbnM7XG4gIGlmICghKG5vZGUgaW5zdGFuY2VvZiBXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWwpICYmIG5vZGUucGFyZW50IGluc3RhbmNlb2YgV29ya3NwYWNlTm9kZU1vZGVsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRyYW5zZm9ybVpvbmVzOiBbUmVwbGFjZVpvbmUsIC4uLih0cmFuc2Zvcm1ab25lcyB8fCBbXSldLFxuICAgICAgc3BsaXRab25lczogW1xuICAgICAgICB7XG4gICAgICAgICAgYWxpZ25tZW50OiBub2RlLnBhcmVudC52ZXJ0aWNhbCA/IEFsaWdubWVudC5MRUZUIDogQWxpZ25tZW50LlRPUCxcbiAgICAgICAgICBoYW5kbGVEcm9wOiAobW9kZWwsIGVuZ2luZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnQgYXMgV29ya3NwYWNlTm9kZU1vZGVsO1xuICAgICAgICAgICAgY29uc3QgbSA9IGdlbmVyYXRlUGFyZW50Tm9kZT8uKCkgfHwgbmV3IFdvcmtzcGFjZU5vZGVNb2RlbCgpO1xuICAgICAgICAgICAgbS5zZXRWZXJ0aWNhbCghcGFyZW50LnZlcnRpY2FsKTtcbiAgICAgICAgICAgIG0uc2V0RXhwYW5kKG1vZGVsLmV4cGFuZEhvcml6b250YWwsIG1vZGVsLmV4cGFuZEhvcml6b250YWwpO1xuICAgICAgICAgICAgbS5hZGRNb2RlbChtb2RlbCk7XG4gICAgICAgICAgICBwYXJlbnQucmVwbGFjZU1vZGVsKG5vZGUsIG0pO1xuICAgICAgICAgICAgbS5hZGRNb2RlbChub2RlKTtcbiAgICAgICAgICAgIGVuZ2luZS5ub3JtYWxpemUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBhbGlnbm1lbnQ6IG5vZGUucGFyZW50LnZlcnRpY2FsID8gQWxpZ25tZW50LlJJR0hUIDogQWxpZ25tZW50LkJPVFRPTSxcbiAgICAgICAgICBoYW5kbGVEcm9wOiAobW9kZWwsIGVuZ2luZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnQgYXMgV29ya3NwYWNlTm9kZU1vZGVsO1xuICAgICAgICAgICAgY29uc3QgbSA9IGdlbmVyYXRlUGFyZW50Tm9kZT8uKCkgfHwgbmV3IFdvcmtzcGFjZU5vZGVNb2RlbCgpO1xuICAgICAgICAgICAgbS5zZXRWZXJ0aWNhbCghcGFyZW50LnZlcnRpY2FsKTtcbiAgICAgICAgICAgIG0uc2V0RXhwYW5kKG1vZGVsLmV4cGFuZEhvcml6b250YWwsIG1vZGVsLmV4cGFuZEhvcml6b250YWwpO1xuICAgICAgICAgICAgbS5hZGRNb2RlbChtb2RlbCk7XG4gICAgICAgICAgICBwYXJlbnQucmVwbGFjZU1vZGVsKG5vZGUsIG0pO1xuICAgICAgICAgICAgbS5hZGRNb2RlbChub2RlLCAwKTtcbiAgICAgICAgICAgIGVuZ2luZS5ub3JtYWxpemUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuICB9XG59O1xuXG5leHBvcnQgKiBmcm9tICcuL0Ryb3Bab25lTGF5ZXJQYW5lbFdpZGdldCc7XG5leHBvcnQgKiBmcm9tICcuL0Ryb3Bab25lTGF5ZXJCdXR0b25XaWRnZXQnO1xuZXhwb3J0ICogZnJvbSAnLi9Ecm9wWm9uZVRyYW5zZm9ybVdpZGdldCc7XG5leHBvcnQgKiBmcm9tICcuL0Ryb3Bab25lQWxpZ25tZW50QnV0dG9uV2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vRHJvcFpvbmVMYXllcic7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHtcbiAgRGltZW5zaW9uQ29udGFpbmVyLFxuICBEaW1lbnNpb25UcmFja2luZ1dpZGdldCxcbiAgdXNlRHJvcHBhYmxlTW9kZWwsXG4gIHVzZU1vdXNlRHJhZ0V2ZW50cyxcbiAgV29ya3NwYWNlRW5naW5lLFxuICBXb3Jrc3BhY2VNb2RlbFxufSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJvcHpvbmVEaXZpZGVyVGhlbWUge1xuICBwdWxsSW5zZXRMZW5ndGg/OiBudW1iZXI7XG4gIHB1bGxJbnNldFdpZHRoPzogbnVtYmVyO1xuICBjb2xvcj86IHN0cmluZztcbiAgY29sb3JFbnRlcj86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcm9wem9uZURpdmlkZXJXaWRnZXRQcm9wcyB7XG4gIGRpbWVuc2lvbjogRGltZW5zaW9uQ29udGFpbmVyO1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbiAgaGFuZGxlRHJvcDogKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCkgPT4gYW55O1xuICB0aGVtZT86IERyb3B6b25lRGl2aWRlclRoZW1lO1xufVxuXG5leHBvcnQgY29uc3QgRHJvcHpvbmVEaXZpZGVyV2lkZ2V0OiBSZWFjdC5GQzxEcm9wem9uZURpdmlkZXJXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgW2VudGVyZWQsIHNldEVudGVyZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCByZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KCk7XG4gIHVzZU1vdXNlRHJhZ0V2ZW50cyh7XG4gICAgZm9yd2FyZFJlZjogcmVmLFxuICAgIG1vdXNlRW50ZXI6ICgpID0+IHtcbiAgICAgIHNldEVudGVyZWQodHJ1ZSk7XG4gICAgfSxcbiAgICBtb3VzZUV4aXQ6ICgpID0+IHtcbiAgICAgIHNldEVudGVyZWQoZmFsc2UpO1xuICAgIH1cbiAgfSk7XG4gIHVzZURyb3BwYWJsZU1vZGVsKHtcbiAgICBmb3J3YXJkUmVmOiByZWYsXG4gICAgZW5naW5lOiBwcm9wcy5lbmdpbmUsXG4gICAgb25Ecm9wOiBwcm9wcy5oYW5kbGVEcm9wXG4gIH0pO1xuXG4gIGNvbnN0IFBVTExfSU5TRVQgPSBwcm9wcy50aGVtZT8ucHVsbEluc2V0TGVuZ3RoIHx8IDMwO1xuICBjb25zdCBQVUxMX09VVEVSID0gcHJvcHMudGhlbWU/LnB1bGxJbnNldFdpZHRoIHx8IDY7XG5cbiAgbGV0IGluc2V0c1ZlcnRpY2FsID0gLTEgKiBQVUxMX09VVEVSO1xuICBsZXQgaW5zZXRzSG9yaXpvbnRhbCA9IFBVTExfSU5TRVQ7XG4gIGlmIChwcm9wcy5kaW1lbnNpb24uaXNQb3J0cmFpdCgpKSB7XG4gICAgaW5zZXRzVmVydGljYWwgPSBQVUxMX0lOU0VUO1xuICAgIGluc2V0c0hvcml6b250YWwgPSAtMSAqIFBVTExfT1VURVI7XG4gIH1cblxuICBpZiAoZW50ZXJlZCkge1xuICAgIGluc2V0c1ZlcnRpY2FsID0gaW5zZXRzVmVydGljYWwgLSA1O1xuICAgIGluc2V0c0hvcml6b250YWwgPSBpbnNldHNIb3Jpem9udGFsIC0gNTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPFMuRGltZW5zaW9uVHJhY2tlciBkaW1lbnNpb249e3Byb3BzLmRpbWVuc2lvbn0+XG4gICAgICA8Uy5Db250YWluZXJcbiAgICAgICAgY29sb3JFbnRlcj17cHJvcHMudGhlbWU/LmNvbG9yRW50ZXIgfHwgJ29yYW5nZSd9XG4gICAgICAgIGNvbG9yPXtwcm9wcy50aGVtZT8uY29sb3IgfHwgJyMwMDk2ZmYnfVxuICAgICAgICByZWY9e3JlZn1cbiAgICAgICAgZW50ZXI9e2VudGVyZWR9XG4gICAgICAgIGluc2V0c1ZlcnRpY2FsPXtpbnNldHNWZXJ0aWNhbH1cbiAgICAgICAgaW5zZXRzSG9yaXpvbnRhbD17aW5zZXRzSG9yaXpvbnRhbH1cbiAgICAgID48L1MuQ29udGFpbmVyPlxuICAgIDwvUy5EaW1lbnNpb25UcmFja2VyPlxuICApO1xufTtcbm5hbWVzcGFjZSBTIHtcbiAgZXhwb3J0IGNvbnN0IERpbWVuc2lvblRyYWNrZXIgPSBzdHlsZWQoRGltZW5zaW9uVHJhY2tpbmdXaWRnZXQpYGA7XG5cbiAgZXhwb3J0IGNvbnN0IENvbnRhaW5lciA9IHN0eWxlZC5kaXY8e1xuICAgIGluc2V0c1ZlcnRpY2FsOiBudW1iZXI7XG4gICAgaW5zZXRzSG9yaXpvbnRhbDogbnVtYmVyO1xuICAgIGVudGVyOiBib29sZWFuO1xuICAgIGNvbG9yRW50ZXI6IHN0cmluZztcbiAgICBjb2xvcjogc3RyaW5nO1xuICB9PmBcbiAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBiYWNrZ3JvdW5kOiAkeyhwKSA9PiAocC5lbnRlciA/IHAuY29sb3JFbnRlciA6IHAuY29sb3IpfTtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgdHJhbnNpdGlvbjpcbiAgICAgIGJhY2tncm91bmQgMC4zcyxcbiAgICAgIG9wYWNpdHkgMC4zcyxcbiAgICAgIGxlZnQgMC4zcyxcbiAgICAgIHRvcCAwLjNzLFxuICAgICAgYm90dG9tIDAuM3MsXG4gICAgICByaWdodCAwLjNzO1xuICAgIHRyYW5zaXRpb24tZGVsYXk6IDAuMXM7XG4gICAgb3BhY2l0eTogJHsocCkgPT4gKHAuZW50ZXIgPyAxIDogMC4xKX07XG4gICAgdG9wOiAkeyhwKSA9PiBwLmluc2V0c1ZlcnRpY2FsfXB4O1xuICAgIGxlZnQ6ICR7KHApID0+IHAuaW5zZXRzSG9yaXpvbnRhbH1weDtcbiAgICBib3R0b206ICR7KHApID0+IHAuaW5zZXRzVmVydGljYWx9cHg7XG4gICAgcmlnaHQ6ICR7KHApID0+IHAuaW5zZXRzSG9yaXpvbnRhbH1weDtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgYDtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExheWVyLCB1c2VGb3JjZVVwZGF0ZSwgV29ya3NwYWNlRW5naW5lLCBXb3Jrc3BhY2VOb2RlTW9kZWwgfSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtY29yZSc7XG5pbXBvcnQgeyBEcm9wem9uZURpdmlkZXJUaGVtZSwgRHJvcHpvbmVEaXZpZGVyV2lkZ2V0IH0gZnJvbSAnLi9Ecm9wem9uZURpdmlkZXJXaWRnZXQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERyb3B6b25lRGl2aWRlcnNMYXllck9wdGlvbnMge1xuICB0aGVtZT86ICgpID0+IERyb3B6b25lRGl2aWRlclRoZW1lO1xufVxuXG5leHBvcnQgY2xhc3MgRHJvcHpvbmVEaXZpZGVyc0xheWVyIGV4dGVuZHMgTGF5ZXIge1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgb3B0aW9uczI6IERyb3B6b25lRGl2aWRlcnNMYXllck9wdGlvbnMpIHtcbiAgICBzdXBlcih7XG4gICAgICBtb3VzZUV2ZW50czogZmFsc2VcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlckxheWVyKGV2ZW50KTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8RHJvcHpvbmVEaXZpZGVyc0xheWVyV2lkZ2V0IGVuZ2luZT17ZXZlbnQuZW5naW5lfSB0aGVtZT17dGhpcy5vcHRpb25zMi50aGVtZX0gLz47XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcm9wem9uZURpdmlkZXJzTGF5ZXJXaWRnZXRQcm9wcyB7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xuICB0aGVtZT86ICgpID0+IERyb3B6b25lRGl2aWRlclRoZW1lO1xufVxuXG5leHBvcnQgY29uc3QgRHJvcHpvbmVEaXZpZGVyc0xheWVyV2lkZ2V0OiBSZWFjdC5GQzxEcm9wem9uZURpdmlkZXJzTGF5ZXJXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSh0cnVlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5lbmdpbmUucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICBsYXlvdXRJbnZhbGlkYXRlZDogKCkgPT4ge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAge3Byb3BzLmVuZ2luZS5yb290TW9kZWxcbiAgICAgICAgLmZsYXR0ZW4oKVxuICAgICAgICAuZmlsdGVyKChwKSA9PiBwIGluc3RhbmNlb2YgV29ya3NwYWNlTm9kZU1vZGVsKVxuICAgICAgICAuZmxhdE1hcCgobTogV29ya3NwYWNlTm9kZU1vZGVsKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG0ucl9kaXZpc2lvbnMubWFwKChkaXZpc2lvbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxEcm9wem9uZURpdmlkZXJXaWRnZXRcbiAgICAgICAgICAgICAgICB0aGVtZT17cHJvcHMudGhlbWU/LigpfVxuICAgICAgICAgICAgICAgIGVuZ2luZT17cHJvcHMuZW5naW5lfVxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbj17ZGl2aXNpb259XG4gICAgICAgICAgICAgICAga2V5PXtkaXZpc2lvbi5pZH1cbiAgICAgICAgICAgICAgICBoYW5kbGVEcm9wPXsobW9kZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgIG0uYWRkTW9kZWwobW9kZWwsIGluZGV4KTtcbiAgICAgICAgICAgICAgICAgIHByb3BzLmVuZ2luZS5ub3JtYWxpemUoKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSl9XG4gICAgPC8+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHtcbiAgQWxpZ25tZW50LFxuICBEaW1lbnNpb25UcmFja2luZ1dpZGdldCxcbiAgZ2V0QWxpZ25tZW50SW52ZXJ0ZWQsXG4gIFJlc2l6ZURpdmlzaW9uLFxuICB1c2VNb3VzZURyYWdEaXN0YW5jZSxcbiAgVXNlTW91c2VEcmFnRGlzdGFuY2VQcm9wcyxcbiAgV29ya3NwYWNlRW5naW5lLFxuICBXb3Jrc3BhY2VNb2RlbCxcbiAgV29ya3NwYWNlTm9kZU1vZGVsXG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcblxuZXhwb3J0IGludGVyZmFjZSBSZXNpemVEaXZpZGVyV2lkZ2V0UHJvcHMge1xuICBkaXZpZGVyQ29udGFpbmVyOiBSZXNpemVEaXZpc2lvbjtcbiAgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmU7XG4gIHBhcmVudDogV29ya3NwYWNlTm9kZU1vZGVsO1xufVxuXG5jb25zdCBpc0FsaWduZWQgPSAoZGl2aWRlcjogUmVzaXplRGl2aXNpb24sIGFsaWduZWQ6IEFsaWdubWVudCwgcGFyZW50OiBXb3Jrc3BhY2VOb2RlTW9kZWwpID0+IHtcbiAgbGV0IGJlZm9yZURpcmVjdGl2ZSA9IHBhcmVudC5nZXRQYW5lbERpcmVjdGl2ZShkaXZpZGVyLmJlZm9yZSk7XG4gIGNvbnN0IGFmdGVyRGlyZWN0aXZlID0gcGFyZW50LmdldFBhbmVsRGlyZWN0aXZlKGRpdmlkZXIuYWZ0ZXIpO1xuICBpZiAoYmVmb3JlRGlyZWN0aXZlLmV4cGFuZCAhPT0gYWZ0ZXJEaXJlY3RpdmUuZXhwYW5kKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBiZWZvcmUgPSBkaXZpZGVyLmJlZm9yZTtcbiAgZG8ge1xuICAgIGJlZm9yZSA9IGJlZm9yZS5nZXRTaWJsaW5nKGFsaWduZWQpO1xuICAgIGlmICghYmVmb3JlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGJlZm9yZURpcmVjdGl2ZSA9IHBhcmVudC5nZXRQYW5lbERpcmVjdGl2ZShiZWZvcmUpO1xuICAgIGlmIChiZWZvcmVEaXJlY3RpdmUuZXhwYW5kKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IHdoaWxlIChiZWZvcmUpO1xuICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBnZXRBdmFpbGFibGVFbGVtZW50ID0gKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCwgYWxpZ25lZDogQWxpZ25tZW50KSA9PiB7XG4gIGxldCB3aWR0aCA9IFtBbGlnbm1lbnQuTEVGVCwgQWxpZ25tZW50LlJJR0hUXS5pbmRleE9mKGFsaWduZWQpICE9PSAtMTtcbiAgY29uc3Qgc2libGluZyA9IG1vZGVsLmdldFNpYmxpbmcoYWxpZ25lZCk7XG4gIGlmICghc2libGluZykge1xuICAgIHJldHVybiBtb2RlbDtcbiAgfVxuICBpZiAoXG4gICAgd2lkdGggJiZcbiAgICBbbW9kZWwuc2l6ZS53aWR0aCwgbW9kZWwubWluaW11bVNpemUud2lkdGgsIG1vZGVsLm1heGltdW1TaXplLndpZHRoXS5ldmVyeSgodiwgaW5kZXgsIGFycikgPT4gdiA9PT0gYXJyWzBdKVxuICApIHtcbiAgICByZXR1cm4gZ2V0QXZhaWxhYmxlRWxlbWVudChzaWJsaW5nLCBhbGlnbmVkKTtcbiAgfVxuICBpZiAoXG4gICAgIXdpZHRoICYmXG4gICAgW21vZGVsLnNpemUuaGVpZ2h0LCBtb2RlbC5taW5pbXVtU2l6ZS5oZWlnaHQsIG1vZGVsLm1heGltdW1TaXplLmhlaWdodF0uZXZlcnkoKHYsIGluZGV4LCBhcnIpID0+IHYgPT09IGFyclswXSlcbiAgKSB7XG4gICAgcmV0dXJuIGdldEF2YWlsYWJsZUVsZW1lbnQoc2libGluZywgYWxpZ25lZCk7XG4gIH1cbiAgcmV0dXJuIG1vZGVsO1xufTtcblxuY29uc3QgZ2V0UmVzaXplU3RyYXRlZ3kgPSAoXG4gIGRpdmlkZXI6IFJlc2l6ZURpdmlzaW9uLFxuICBwYXJlbnQ6IFdvcmtzcGFjZU5vZGVNb2RlbFxuKTogUGljazxVc2VNb3VzZURyYWdEaXN0YW5jZVByb3BzLCAnc3RhcnRNb3ZlJyB8ICdtb3ZlZCc+ID0+IHtcbiAgbGV0IHNpemVTbmFwc2hvdCA9IG5ldyBNYXA8V29ya3NwYWNlTW9kZWwsIG51bWJlcj4oKTtcblxuICBjb25zdCBpc0V4cGFuZCA9IChtb2RlbDogV29ya3NwYWNlTW9kZWwpID0+IHtcbiAgICByZXR1cm4gcGFyZW50LmdldFBhbmVsRGlyZWN0aXZlKG1vZGVsKS5leHBhbmQ7XG4gIH07XG5cbiAgY29uc3Qgc2V0U2l6ZSA9IChtb2RlbDogV29ya3NwYWNlTW9kZWwsIHZhbDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKGRpdmlkZXIudmVydGljYWwpIHtcbiAgICAgIG1vZGVsLnNldFdpZHRoKHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGVsLnNldEhlaWdodCh2YWwpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHN0YXJ0TW92ZTogKCkgPT4ge1xuICAgICAgc2l6ZVNuYXBzaG90ID0gbmV3IE1hcChcbiAgICAgICAgcGFyZW50LmNoaWxkcmVuLm1hcCgoYykgPT4ge1xuICAgICAgICAgIGlmIChwYXJlbnQudmVydGljYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBbYywgYy5zaXplLmhlaWdodF07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBbYywgYy5zaXplLndpZHRoXTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBtb3ZlZDogKHsgZGlzdGFuY2VYLCBkaXN0YW5jZVkgfSkgPT4ge1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSBkaXZpZGVyLnZlcnRpY2FsID8gZGlzdGFuY2VYIDogZGlzdGFuY2VZO1xuICAgICAgY29uc3QgYWxpZ25tZW50ID0gZGl2aWRlci52ZXJ0aWNhbCA/IEFsaWdubWVudC5MRUZUIDogQWxpZ25tZW50LlRPUDtcblxuICAgICAgbGV0IHsgYmVmb3JlLCBhZnRlciB9ID0gZGl2aWRlcjtcblxuICAgICAgLy8gc2hyaW5rfGV4cGFuZCBPUiBsZWZ0IGFsaWduZWRcbiAgICAgIGlmICgoIWlzRXhwYW5kKGJlZm9yZSkgJiYgaXNFeHBhbmQoYWZ0ZXIpKSB8fCBpc0FsaWduZWQoZGl2aWRlciwgYWxpZ25tZW50LCBwYXJlbnQpKSB7XG4gICAgICAgIGJlZm9yZSA9IGdldEF2YWlsYWJsZUVsZW1lbnQoYmVmb3JlLCBhbGlnbm1lbnQpO1xuICAgICAgICBzZXRTaXplKGJlZm9yZSwgc2l6ZVNuYXBzaG90LmdldChiZWZvcmUpICsgZGlzdGFuY2UpO1xuICAgICAgfVxuICAgICAgLy8gZXhwYW5kfHNocmluayBPUiByaWdodCBhbGlnbmVkXG4gICAgICBpZiAoKGlzRXhwYW5kKGJlZm9yZSkgJiYgIWlzRXhwYW5kKGFmdGVyKSkgfHwgIWlzQWxpZ25lZChkaXZpZGVyLCBhbGlnbm1lbnQsIHBhcmVudCkpIHtcbiAgICAgICAgYWZ0ZXIgPSBnZXRBdmFpbGFibGVFbGVtZW50KGFmdGVyLCBnZXRBbGlnbm1lbnRJbnZlcnRlZChhbGlnbm1lbnQpKTtcbiAgICAgICAgc2V0U2l6ZShhZnRlciwgc2l6ZVNuYXBzaG90LmdldChhZnRlcikgLSBkaXN0YW5jZSk7XG4gICAgICB9XG4gICAgICAvLyBzaHJpbmt8c2hyaW5rXG4gICAgICBlbHNlIHtcbiAgICAgICAgc2V0U2l6ZShiZWZvcmUsIHNpemVTbmFwc2hvdC5nZXQoYmVmb3JlKSArIGRpc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgUmVzaXplRGl2aWRlcldpZGdldDogUmVhY3QuRkM8UmVzaXplRGl2aWRlcldpZGdldFByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBjb250YWluZXIgPSBwcm9wcy5kaXZpZGVyQ29udGFpbmVyLmRpbWVuc2lvbnM7XG4gIGNvbnN0IHZlcnRpY2FsID0gcHJvcHMuZGl2aWRlckNvbnRhaW5lci52ZXJ0aWNhbDtcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuICBjb25zdCBbc3RyYXRlZ3ldID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgIHJldHVybiBnZXRSZXNpemVTdHJhdGVneShwcm9wcy5kaXZpZGVyQ29udGFpbmVyLCBwcm9wcy5wYXJlbnQpO1xuICB9KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5lbmdpbmUucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICBsYXlvdXRJbnZhbGlkYXRlZDogKCkgPT4ge1xuICAgICAgICBwcm9wcy5kaXZpZGVyQ29udGFpbmVyLmRpbWVuc2lvbnMuaW52YWxpZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG4gIHVzZU1vdXNlRHJhZ0Rpc3RhbmNlKHtcbiAgICBmb3J3YXJkUmVmOiByZWYsXG4gICAgLi4uc3RyYXRlZ3lcbiAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8Uy5EaW1lbnNpb25UcmFja2VyIGRpbWVuc2lvbj17Y29udGFpbmVyfT5cbiAgICAgIDxTLkNvbnRhaW5lclxuICAgICAgICBvbk1vdXNlRW50ZXI9eygpID0+IHtcbiAgICAgICAgICBjb250YWluZXIuc2V0SG92ZXIodHJ1ZSk7XG4gICAgICAgIH19XG4gICAgICAgIG9uTW91c2VMZWF2ZT17KCkgPT4ge1xuICAgICAgICAgIGNvbnRhaW5lci5zZXRIb3ZlcihmYWxzZSk7XG4gICAgICAgIH19XG4gICAgICAgIG9uTW91c2VEb3duPXsoKSA9PiB7XG4gICAgICAgICAgbGV0IGw7XG4gICAgICAgICAgbCA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXRBY3RpdmUoZmFsc2UpO1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBsKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgbCk7XG4gICAgICAgICAgY29udGFpbmVyLnNldEFjdGl2ZSh0cnVlKTtcbiAgICAgICAgfX1cbiAgICAgICAgcmVmPXtyZWZ9XG4gICAgICAgIHZlcnRpY2FsPXt2ZXJ0aWNhbH1cbiAgICAgID48L1MuQ29udGFpbmVyPlxuICAgIDwvUy5EaW1lbnNpb25UcmFja2VyPlxuICApO1xufTtcbm5hbWVzcGFjZSBTIHtcbiAgZXhwb3J0IGNvbnN0IERpbWVuc2lvblRyYWNrZXIgPSBzdHlsZWQoRGltZW5zaW9uVHJhY2tpbmdXaWRnZXQpYGA7XG4gIGNvbnN0IElOU0VUUyA9IDI7XG5cbiAgZXhwb3J0IGNvbnN0IENvbnRhaW5lciA9IHN0eWxlZC5kaXY8eyB2ZXJ0aWNhbDogYm9vbGVhbiB9PmBcbiAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgIGN1cnNvcjogJHsocCkgPT4gKHAudmVydGljYWwgPyAnY29sLXJlc2l6ZScgOiAncm93LXJlc2l6ZScpfTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAtJHtJTlNFVFN9cHg7XG4gICAgbGVmdDogLSR7SU5TRVRTfXB4O1xuICAgIGJvdHRvbTogLSR7SU5TRVRTfXB4O1xuICAgIHJpZ2h0OiAtJHtJTlNFVFN9cHg7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gIGA7XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMYXllciwgdXNlRm9yY2VVcGRhdGUsIFdvcmtzcGFjZUVuZ2luZSwgV29ya3NwYWNlTm9kZU1vZGVsIH0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWNvcmUnO1xuaW1wb3J0IHsgUmVzaXplRGl2aWRlcldpZGdldCB9IGZyb20gJy4vUmVzaXplRGl2aWRlcldpZGdldCc7XG5cbmV4cG9ydCBjbGFzcyBSZXNpemVEaXZpZGVyc0xheWVyIGV4dGVuZHMgTGF5ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICBtb3VzZUV2ZW50czogZmFsc2VcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlckxheWVyKGV2ZW50KTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8UmVzaXplRGl2aWRlcnNMYXllcldpZGdldCBlbmdpbmU9e2V2ZW50LmVuZ2luZX0gLz47XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXNpemVEaXZpZGVyc0xheWVyV2lkZ2V0UHJvcHMge1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbn1cblxuZXhwb3J0IGNvbnN0IFJlc2l6ZURpdmlkZXJzTGF5ZXJXaWRnZXQ6IFJlYWN0LkZDPFJlc2l6ZURpdmlkZXJzTGF5ZXJXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSh0cnVlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5lbmdpbmUucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICBsYXlvdXRJbnZhbGlkYXRlZDogKCkgPT4ge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBwcm9wcy5lbmdpbmUucm9vdE1vZGVsLmZsYXR0ZW4oKS5tYXAoKG0pID0+XG4gICAgICBtLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgICB2aXNpYmlsaXR5Q2hhbmdlZDogKCkgPT4ge1xuICAgICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbGlzdGVuZXJzLmZvckVhY2goKGwpID0+IGwoKSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHtwcm9wcy5lbmdpbmUucm9vdE1vZGVsXG4gICAgICAgIC5mbGF0dGVuKClcbiAgICAgICAgLmZpbHRlcigocCkgPT4gcCBpbnN0YW5jZW9mIFdvcmtzcGFjZU5vZGVNb2RlbClcbiAgICAgICAgLmZsYXRNYXAoKG06IFdvcmtzcGFjZU5vZGVNb2RlbCkgPT4gbS5nZXRSZXNpemVEaXZpc2lvbnMoKSlcbiAgICAgICAgLm1hcCgobSkgPT4ge1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UmVzaXplRGl2aWRlcldpZGdldFxuICAgICAgICAgICAgICBwYXJlbnQ9e20uYmVmb3JlLnBhcmVudCBhcyBXb3Jrc3BhY2VOb2RlTW9kZWx9XG4gICAgICAgICAgICAgIGVuZ2luZT17cHJvcHMuZW5naW5lfVxuICAgICAgICAgICAgICBkaXZpZGVyQ29udGFpbmVyPXttfVxuICAgICAgICAgICAgICBrZXk9e20uZGltZW5zaW9ucy5pZH1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSl9XG4gICAgPC8+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCAndHlwZWZhY2Utb3Blbi1zYW5zJztcbmltcG9ydCB7XG4gIERlYnVnTGF5ZXIsXG4gIEV4cGFuZE5vZGVNb2RlbCxcbiAgV29ya3NwYWNlRW5naW5lLFxuICBXb3Jrc3BhY2VOb2RlRmFjdG9yeSxcbiAgV29ya3NwYWNlTm9kZU1vZGVsLFxuICBXb3Jrc3BhY2VXaWRnZXRcbn0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWNvcmUnO1xuaW1wb3J0IHtcbiAgRGVmYXVsdFN1YkNvbXBvbmVudFJlbmRlcmVyLFxuICBEZWZhdWx0VHJheUZhY3RvcnksXG4gIERlZmF1bHRXaW5kb3dNb2RlbEZhY3RvcnksXG4gIERlZmF1bHRXb3Jrc3BhY2VQYW5lbEZhY3RvcnksXG4gIERlZmF1bHRXb3Jrc3BhY2VQYW5lbE1vZGVsXG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kZWZhdWx0cyc7XG5pbXBvcnQge1xuICBkcmFnZ2luZ0l0ZW1CZWhhdmlvcixcbiAgZ2V0RGlyZWN0aXZlRm9yV29ya3NwYWNlTm9kZVxufSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtYmVoYXZpb3ItcGFuZWwtZHJvcHpvbmUnO1xuaW1wb3J0IHsgZHJhZ2dpbmdJdGVtRGl2aWRlckJlaGF2aW9yIH0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWJlaGF2aW9yLWRpdmlkZXItZHJvcHpvbmUnO1xuaW1wb3J0IHsgV29ya3NwYWNlVGFiRmFjdG9yeSB9IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1tb2RlbC10YWJzJztcbmltcG9ydCB7IHJlc2l6aW5nQmVoYXZpb3IgfSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtYmVoYXZpb3ItcmVzaXplJztcbmltcG9ydCB7IFJvb3RXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1tb2RlbC1mbG9hdGluZy13aW5kb3cnO1xuaW1wb3J0IHsgQ29udmVydFRvVGFiWm9uZSwgZ2V0RGlyZWN0aXZlRm9yVGFiTW9kZWwgfSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtZHJvcHpvbmUtcGx1Z2luLXRhYnMnO1xuaW1wb3J0IHsgQ29udmVydFRvVHJheVpvbmUsIGdldERpcmVjdGl2ZUZvclRyYXlNb2RlbCB9IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1kcm9wem9uZS1wbHVnaW4tdHJheSc7XG5pbXBvcnQgeyBjc3MsIEdsb2JhbCB9IGZyb20gJ0BzdG9yeWJvb2svdGhlbWluZyc7XG5cbmV4cG9ydCBjb25zdCBnZW5WZXJ0aWNhbE5vZGUgPSAoKSA9PiB7XG4gIGNvbnN0IG5vZGUgPSBuZXcgRXhwYW5kTm9kZU1vZGVsKClcbiAgICAuc2V0RXhwYW5kKGZhbHNlLCB0cnVlKVxuICAgIC5zZXRWZXJ0aWNhbCh0cnVlKVxuICAgIC5hZGRNb2RlbChuZXcgRGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWwoJ1BhbmVsIDEnKSlcbiAgICAuYWRkTW9kZWwobmV3IERlZmF1bHRXb3Jrc3BhY2VQYW5lbE1vZGVsKCdQYW5lbCAyJykpO1xuICByZXR1cm4gbm9kZTtcbn07XG5cbmV4cG9ydCBlbnVtIERlYnVnT3B0aW9ucyB7XG4gIERlYnVnRGl2aWRlcnMgPSAnRGVidWdEaXZpZGVycycsXG4gIERlYnVnUGFuZWxzID0gJ0RlYnVnUGFuZWxzJyxcbiAgRGVidWdSZXNpemVycyA9ICdEZWJ1Z1Jlc2l6ZXJzJyxcbiAgRGVidWdXaW5kb3dzID0gJ0RlYnVnV2luZG93cydcbn1cblxuZXhwb3J0IGNvbnN0IFNoYXJlZEFyZ3MgPSB7XG4gIFtEZWJ1Z09wdGlvbnMuRGVidWdQYW5lbHNdOiBmYWxzZSxcbiAgW0RlYnVnT3B0aW9ucy5EZWJ1Z0RpdmlkZXJzXTogZmFsc2UsXG4gIFtEZWJ1Z09wdGlvbnMuRGVidWdSZXNpemVyc106IGZhbHNlLFxuICBbRGVidWdPcHRpb25zLkRlYnVnV2luZG93c106IGZhbHNlXG59O1xuXG5leHBvcnQgY29uc3QgdXNlUm9vdE1vZGVsID0gKG1vZGVsOiBSb290V29ya3NwYWNlTW9kZWwsIGFyZ3MpID0+IHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBtb2RlbC5zZXREZWJ1ZyhhcmdzW0RlYnVnT3B0aW9ucy5EZWJ1Z1dpbmRvd3NdKTtcbiAgfSwgW2FyZ3NbRGVidWdPcHRpb25zLkRlYnVnV2luZG93c11dKTtcbiAgcmV0dXJuIG1vZGVsO1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUVuZ2luZSA9IChhcmdzOiB7IERlYnVnRGl2aWRlcnM/OiBib29sZWFuOyBEZWJ1Z1Jlc2l6ZXJzPzogYm9vbGVhbjsgRGVidWdQYW5lbHM/OiBib29sZWFuIH0gPSB7fSkgPT4ge1xuICBjb25zdCBbZGVidWdMYXllcl0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBEZWJ1Z0xheWVyKHtcbiAgICAgIGRpdmlkZXJzOiBhcmdzW0RlYnVnT3B0aW9ucy5EZWJ1Z0RpdmlkZXJzXSxcbiAgICAgIHJlc2l6ZURpdmlkZXJzOiBhcmdzW0RlYnVnT3B0aW9ucy5EZWJ1Z1Jlc2l6ZXJzXSxcbiAgICAgIHBhbmVsczogYXJnc1tEZWJ1Z09wdGlvbnMuRGVidWdQYW5lbHNdXG4gICAgfSk7XG4gIH0pO1xuICBjb25zdCBbZW5naW5lXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICBjb25zdCBlID0gbmV3IFdvcmtzcGFjZUVuZ2luZSgpO1xuXG4gICAgY29uc3QgY29tbW9uUmVuZGVyZXIgPSBuZXcgRGVmYXVsdFN1YkNvbXBvbmVudFJlbmRlcmVyKCk7XG5cbiAgICBjb25zdCB3aW5kb3dGYWN0b3J5ID0gbmV3IERlZmF1bHRXaW5kb3dNb2RlbEZhY3RvcnkoKTtcbiAgICBjb25zdCB0YWJGYWN0b3J5ID0gbmV3IFdvcmtzcGFjZVRhYkZhY3RvcnkoKTtcbiAgICBjb25zdCB0cmF5RmFjdG9yeSA9IG5ldyBEZWZhdWx0VHJheUZhY3Rvcnkoe1xuICAgICAgd2luZG93RmFjdG9yeTogd2luZG93RmFjdG9yeSxcbiAgICAgIGluc3RhbGxJY29uUG9zaXRpb25MaXN0ZW5lcjogdHJ1ZSxcbiAgICAgIGluc3RhbGxFbmdpbmVMb2NrTGlzdGVuZXI6IHRydWVcbiAgICB9KTtcbiAgICBjb25zdCB3b3Jrc3BhY2VOb2RlRmFjdG9yeSA9IG5ldyBXb3Jrc3BhY2VOb2RlRmFjdG9yeSgpO1xuXG4gICAgZS5yZWdpc3RlckZhY3RvcnkobmV3IERlZmF1bHRXb3Jrc3BhY2VQYW5lbEZhY3RvcnkoKSk7XG5cbiAgICB0YWJGYWN0b3J5LmFkZFJlbmRlcmVyKGNvbW1vblJlbmRlcmVyKTtcbiAgICB0cmF5RmFjdG9yeS5hZGRSZW5kZXJlcihjb21tb25SZW5kZXJlcik7XG4gICAgd29ya3NwYWNlTm9kZUZhY3RvcnkuYWRkUmVuZGVyZXIoY29tbW9uUmVuZGVyZXIpO1xuICAgIHdpbmRvd0ZhY3RvcnkuYWRkUmVuZGVyZXIoY29tbW9uUmVuZGVyZXIpO1xuXG4gICAgZS5yZWdpc3RlckZhY3RvcnkodGFiRmFjdG9yeSk7XG4gICAgZS5yZWdpc3RlckZhY3RvcnkodHJheUZhY3RvcnkpO1xuICAgIGUucmVnaXN0ZXJGYWN0b3J5KHdvcmtzcGFjZU5vZGVGYWN0b3J5KTtcbiAgICBlLnJlZ2lzdGVyRmFjdG9yeSh3aW5kb3dGYWN0b3J5KTtcblxuICAgIGRyYWdnaW5nSXRlbUJlaGF2aW9yKHtcbiAgICAgIGVuZ2luZTogZSxcbiAgICAgIGdldERyb3Bab25lRm9yTW9kZWw6IChtb2RlbCkgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGdldERpcmVjdGl2ZUZvclRyYXlNb2RlbChtb2RlbCkgfHxcbiAgICAgICAgICBnZXREaXJlY3RpdmVGb3JXb3Jrc3BhY2VOb2RlKHtcbiAgICAgICAgICAgIG5vZGU6IG1vZGVsLFxuICAgICAgICAgICAgdHJhbnNmb3JtWm9uZXM6IFtDb252ZXJ0VG9UYWJab25lKHRhYkZhY3RvcnkpLCBDb252ZXJ0VG9UcmF5Wm9uZSh0cmF5RmFjdG9yeSldLFxuICAgICAgICAgICAgZ2VuZXJhdGVQYXJlbnROb2RlOiAoKSA9PiBuZXcgRXhwYW5kTm9kZU1vZGVsKClcbiAgICAgICAgICB9KSB8fFxuICAgICAgICAgIGdldERpcmVjdGl2ZUZvclRhYk1vZGVsKG1vZGVsKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGRlYnVnOiBmYWxzZVxuICAgIH0pO1xuICAgIGRyYWdnaW5nSXRlbURpdmlkZXJCZWhhdmlvcih7XG4gICAgICBlbmdpbmU6IGVcbiAgICB9KTtcbiAgICByZXNpemluZ0JlaGF2aW9yKGUpO1xuXG4gICAgZS5sYXllck1hbmFnZXIuYWRkTGF5ZXIoZGVidWdMYXllcik7XG4gICAgcmV0dXJuIGU7XG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRlYnVnTGF5ZXIudXBkYXRlT3B0aW9ucyh7XG4gICAgICBkaXZpZGVyczogYXJncy5EZWJ1Z0RpdmlkZXJzLFxuICAgICAgcmVzaXplRGl2aWRlcnM6IGFyZ3MuRGVidWdSZXNpemVycyxcbiAgICAgIHBhbmVsczogYXJncy5EZWJ1Z1BhbmVsc1xuICAgIH0pO1xuICB9LCBbYXJncy5EZWJ1Z0RpdmlkZXJzLCBhcmdzLkRlYnVnUmVzaXplcnMsIGFyZ3MuRGVidWdQYW5lbHNdKTtcbiAgcmV0dXJuIGVuZ2luZTtcbn07XG5cbmV4cG9ydCBjb25zdCBDb21wSW50ZXJuYWw6IFJlYWN0LkZDPHsgbW9kZWw6IFdvcmtzcGFjZU5vZGVNb2RlbDsgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmUgfT4gPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEdsb2JhbFxuICAgICAgICBzdHlsZXM9e2Nzc2BcbiAgICAgICAgICBodG1sLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgICAgI3N0b3J5Ym9vay1yb290IHtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICB9XG4gICAgICAgIGB9XG4gICAgICAvPlxuICAgICAgPFMuQ29udGFpbmVyPlxuICAgICAgICA8V29ya3NwYWNlV2lkZ2V0IGVuZ2luZT17cHJvcHMuZW5naW5lfSBtb2RlbD17cHJvcHMubW9kZWx9IC8+XG4gICAgICA8L1MuQ29udGFpbmVyPlxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IEJ1dHRvbnM6IFJlYWN0LkZDPFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPHsgYnRuczogeyBba2V5OiBzdHJpbmddOiAoKSA9PiBhbnkgfSB9Pj4gPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8Uy5Db250YWluZXIyPlxuICAgICAgPFMuQnV0dG9ucz5cbiAgICAgICAge18ubWFwKHByb3BzLmJ0bnMsIChidG5DYWxsYmFjaywgYnRuKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxTLkJ1dHRvbiBvbkNsaWNrPXtidG5DYWxsYmFja30ga2V5PXtidG59PlxuICAgICAgICAgICAgICB7YnRufVxuICAgICAgICAgICAgPC9TLkJ1dHRvbj5cbiAgICAgICAgICApO1xuICAgICAgICB9KX1cbiAgICAgIDwvUy5CdXR0b25zPlxuICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgIDwvUy5Db250YWluZXIyPlxuICApO1xufTtcblxubmFtZXNwYWNlIFMge1xuICBleHBvcnQgY29uc3QgQ29udGFpbmVyMiA9IHN0eWxlZC5kaXZgXG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBiYWNrZ3JvdW5kOiByZ2IoMzAsIDMwLCAzMCk7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgYDtcblxuICBleHBvcnQgY29uc3QgQnV0dG9ucyA9IHN0eWxlZC5kaXZgXG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcGFkZGluZzogNXB4O1xuICAgIHBhZGRpbmctbGVmdDogNDBweDtcbiAgYDtcblxuICBleHBvcnQgY29uc3QgQnV0dG9uID0gc3R5bGVkLmRpdmBcbiAgICBwYWRkaW5nOiA1cHggMTBweDtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYmFja2dyb3VuZDogYmxhY2s7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBmb250LWZhbWlseTogJ09wZW4gU2Fucyc7XG4gICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG5cbiAgICAmOmhvdmVyIHtcbiAgICAgIGJhY2tncm91bmQ6IHJnYigwLCAxOTIsIDI1NSk7XG4gICAgfVxuICBgO1xuXG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuICAgIGZsZXgtZ3JvdzogMTtcbiAgICBwYWRkaW5nOiA0MHB4O1xuICAgIGJhY2tncm91bmQ6IHJnYig3MCwgNzAsIDcwKTtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGZvbnQtZmFtaWx5OiAnT3BlbiBTYW5zJztcbiAgYDtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGludGVyZmFjZSBNb3VzZURyYWdFdmVudCB7XG4gIGRpc3RhbmNlWDogbnVtYmVyO1xuICBkaXN0YW5jZVk6IG51bWJlcjtcbiAgZXZlbnQ6IE1vdXNlRXZlbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTW91c2VEcmFnRGlzdGFuY2VQcm9wcyB7XG4gIGZvcndhcmRSZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MRGl2RWxlbWVudD47XG4gIHN0YXJ0TW92ZT86ICgpID0+IGFueTtcbiAgZW5kTW92ZT86ICgpID0+IGFueTtcbiAgbW92ZWQ6IChldmVudDogTW91c2VEcmFnRXZlbnQpID0+IGFueTtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZU1vdXNlRHJhZ0Rpc3RhbmNlID0gKHByb3BzOiBVc2VNb3VzZURyYWdEaXN0YW5jZVByb3BzKSA9PiB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbW91c2VEb3duID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICAvLyBvbmx5IGxpc3RlbiBmb3Igc3RhbmRhcmQgbW91c2UgYnV0dG9uXG4gICAgICBpZiAoZXZlbnQuYnV0dG9uICE9PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcHJvcHMuc3RhcnRNb3ZlPy4oKTtcbiAgICAgIGNvbnN0IG1vdXNlTW92ZSA9IChldmVudDI6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgcHJvcHMubW92ZWQoe1xuICAgICAgICAgIGV2ZW50OiBldmVudDIsXG4gICAgICAgICAgZGlzdGFuY2VYOiBldmVudDIuY2xpZW50WCAtIGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgZGlzdGFuY2VZOiBldmVudDIuY2xpZW50WSAtIGV2ZW50LmNsaWVudFlcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBtb3VzZVVwID0gKCkgPT4ge1xuICAgICAgICBwcm9wcy5lbmRNb3ZlPy4oKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBtb3VzZVVwKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlTW92ZSk7XG4gICAgICB9O1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG1vdXNlVXApO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG1vdXNlTW92ZSk7XG4gICAgfTtcblxuICAgIHByb3BzLmZvcndhcmRSZWYuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBtb3VzZURvd24pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHByb3BzLmZvcndhcmRSZWYuY3VycmVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2VEb3duKTtcbiAgICB9O1xuICB9LCBbXSk7XG59O1xuIiwiaW1wb3J0IHsgdjQgfSBmcm9tICd1dWlkJztcblxuZXhwb3J0IGludGVyZmFjZSBCYXNlT2JzZXJ2ZXJJbnRlcmZhY2U8VCBleHRlbmRzIEJhc2VMaXN0ZW5lcj4ge1xuICByZWdpc3Rlckxpc3RlbmVyKGxpc3RlbmVyOiBQYXJ0aWFsPFQ+LCBtZXRhPzogYW55KTogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCYXNlTGlzdGVuZXIge31cblxuZXhwb3J0IGNsYXNzIEJhc2VPYnNlcnZlcjxUIGV4dGVuZHMgQmFzZUxpc3RlbmVyPiBpbXBsZW1lbnRzIEJhc2VPYnNlcnZlckludGVyZmFjZTxUPiB7XG4gIHByb3RlY3RlZCBsaXN0ZW5lcnM6IHtcbiAgICBbaWQ6IHN0cmluZ106IHtcbiAgICAgIGw6IFBhcnRpYWw8VD47XG4gICAgICBtZXRhOiBhbnk7XG4gICAgfTtcbiAgfTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICB9XG5cbiAgcmVnaXN0ZXJMaXN0ZW5lcihsaXN0ZW5lcjogUGFydGlhbDxUPiwgbWV0YT86IGFueSk6ICgpID0+IHZvaWQge1xuICAgIGNvbnN0IGlkID0gdjQoKTtcbiAgICB0aGlzLmxpc3RlbmVyc1tpZF0gPSB7XG4gICAgICBsOiBsaXN0ZW5lcixcbiAgICAgIG1ldGFcbiAgICB9O1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZWxldGUgdGhpcy5saXN0ZW5lcnNbaWRdO1xuICAgIH07XG4gIH1cblxuICBpdGVyYXRlTGlzdGVuZXJzKGNiOiAobGlzdGVuZXI6IFBhcnRpYWw8VD4pID0+IGFueSkge1xuICAgIGZvciAobGV0IGkgaW4gdGhpcy5saXN0ZW5lcnMpIHtcbiAgICAgIGNiKHRoaXMubGlzdGVuZXJzW2ldLmwpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZUxpc3RlbmVyLCBCYXNlT2JzZXJ2ZXIgfSBmcm9tICcuLi9CYXNlT2JzZXJ2ZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNpemVMaXN0ZW5lciBleHRlbmRzIEJhc2VMaXN0ZW5lciB7XG4gIHVwZGF0ZWQ6IChldmVudDogeyBwcmV2OiBJU2l6ZSB9KSA9PiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVNpemUge1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFNpemUgZXh0ZW5kcyBCYXNlT2JzZXJ2ZXI8U2l6ZUxpc3RlbmVyPiBpbXBsZW1lbnRzIElTaXplIHtcbiAgcHJvdGVjdGVkIF93aWR0aDogbnVtYmVyO1xuICBwcm90ZWN0ZWQgX2hlaWdodDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fd2lkdGggPSAwO1xuICAgIHRoaXMuX2hlaWdodCA9IDA7XG4gIH1cblxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICB9XG5cbiAgZ2V0IGhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICB9XG5cbiAgc2V0IHdpZHRoKHdpZHRoOiBudW1iZXIpIHtcbiAgICB0aGlzLnVwZGF0ZSh7XG4gICAgICB3aWR0aFxuICAgIH0pO1xuICB9XG5cbiAgdmFsaWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Vm9sdW1lKCkgPiAwO1xuICB9XG5cbiAgc2V0IGhlaWdodChoZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMudXBkYXRlKHtcbiAgICAgIGhlaWdodFxuICAgIH0pO1xuICB9XG5cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogdGhpcy5fd2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMuX2hlaWdodFxuICAgIH07XG4gIH1cblxuICBpc1BvcnRyYWl0KCkge1xuICAgIHJldHVybiB0aGlzLmhlaWdodCA+IHRoaXMud2lkdGg7XG4gIH1cblxuICBnZXRWb2x1bWUoKSB7XG4gICAgcmV0dXJuIHRoaXMud2lkdGggKiB0aGlzLmhlaWdodDtcbiAgfVxuXG4gIHRyYWNrU2l6ZShzaXplOiBTaXplKSB7XG4gICAgdGhpcy51cGRhdGUoc2l6ZS52YWx1ZSk7XG4gICAgcmV0dXJuIHNpemUucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICB1cGRhdGVkOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlKHNpemUudmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlKHNpemU6IFBhcnRpYWw8SVNpemU+KSB7XG4gICAgbGV0IHVwZGF0ZWQgPSBmYWxzZTtcbiAgICBsZXQgb2xkOiBJU2l6ZSA9IHtcbiAgICAgIHdpZHRoOiB0aGlzLl93aWR0aCxcbiAgICAgIGhlaWdodDogdGhpcy5faGVpZ2h0XG4gICAgfTtcbiAgICBpZiAoc2l6ZS53aWR0aCAhPSBudWxsICYmIHNpemUud2lkdGggIT09IHRoaXMud2lkdGgpIHtcbiAgICAgIHRoaXMuX3dpZHRoID0gc2l6ZS53aWR0aDtcbiAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoc2l6ZS5oZWlnaHQgIT0gbnVsbCAmJiBzaXplLmhlaWdodCAhPT0gdGhpcy5oZWlnaHQpIHtcbiAgICAgIHRoaXMuX2hlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgICAgdXBkYXRlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICB0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoXG4gICAgICAgIChjYikgPT5cbiAgICAgICAgICBjYi51cGRhdGVkPy4oe1xuICAgICAgICAgICAgcHJldjogb2xkXG4gICAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBBbGlnbm1lbnQsIE1vdXNlUG9zaXRpb24gfSBmcm9tICcuLi90b29scyc7XG5pbXBvcnQgeyBCYXNlTGlzdGVuZXIsIEJhc2VPYnNlcnZlciB9IGZyb20gJy4uL0Jhc2VPYnNlcnZlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9zaXRpb25MaXN0ZW5lciBleHRlbmRzIEJhc2VMaXN0ZW5lciB7XG4gIHVwZGF0ZWQ6ICgpID0+IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUG9zaXRpb24ge1xuICBbQWxpZ25tZW50LlRPUF06IG51bWJlcjtcbiAgW0FsaWdubWVudC5MRUZUXTogbnVtYmVyO1xuICBbQWxpZ25tZW50LkJPVFRPTV06IG51bWJlcjtcbiAgW0FsaWdubWVudC5SSUdIVF06IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFBvc2l0aW9uIGV4dGVuZHMgQmFzZU9ic2VydmVyPFBvc2l0aW9uTGlzdGVuZXI+IGltcGxlbWVudHMgSVBvc2l0aW9uIHtcbiAgcHJvdGVjdGVkIF90b3A6IG51bWJlcjtcbiAgcHJvdGVjdGVkIF9sZWZ0OiBudW1iZXI7XG4gIHByb3RlY3RlZCBfYm90dG9tOiBudW1iZXI7XG4gIHByb3RlY3RlZCBfcmlnaHQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3RvcCA9IDA7XG4gICAgdGhpcy5fbGVmdCA9IDA7XG4gICAgdGhpcy5fYm90dG9tID0gMDtcbiAgICB0aGlzLl9yaWdodCA9IDA7XG4gIH1cblxuICBnZXQgdG9wKCkge1xuICAgIHJldHVybiB0aGlzLl90b3A7XG4gIH1cblxuICBnZXQgbGVmdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGVmdDtcbiAgfVxuXG4gIGdldCBib3R0b20oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JvdHRvbTtcbiAgfVxuXG4gIGdldCByaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcmlnaHQ7XG4gIH1cblxuICBnZXRSZWxhdGl2ZVRvUG9zaXRpb24ocmVjdDogSVBvc2l0aW9uKTogSVBvc2l0aW9uIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiB0aGlzLl90b3AgLSByZWN0LnRvcCxcbiAgICAgIGxlZnQ6IHRoaXMuX2xlZnQgLSByZWN0LmxlZnQsXG4gICAgICByaWdodDogdGhpcy5fcmlnaHQgLSByZWN0LnJpZ2h0LFxuICAgICAgYm90dG9tOiB0aGlzLl9ib3R0b20gLSByZWN0LmJvdHRvbVxuICAgIH07XG4gIH1cblxuICBnZXRSZWxhdGl2ZVRvTW91c2VQb3NpdGlvbihwb3NpdGlvbjogTW91c2VQb3NpdGlvbik6IE1vdXNlUG9zaXRpb24ge1xuICAgIHJldHVybiB7XG4gICAgICBjbGllbnRYOiB0aGlzLl9sZWZ0IC0gcG9zaXRpb24uY2xpZW50WCxcbiAgICAgIGNsaWVudFk6IHRoaXMuX3RvcCAtIHBvc2l0aW9uLmNsaWVudFlcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKHBvc2l0aW9uOiBQYXJ0aWFsPElQb3NpdGlvbj4pIHtcbiAgICBsZXQgdXBkYXRlZCA9IGZhbHNlO1xuICAgIGlmIChwb3NpdGlvbltBbGlnbm1lbnQuVE9QXSAhPSBudWxsICYmIHBvc2l0aW9uW0FsaWdubWVudC5UT1BdICE9PSB0aGlzLl90b3ApIHtcbiAgICAgIHRoaXMuX3RvcCA9IHBvc2l0aW9uW0FsaWdubWVudC5UT1BdO1xuICAgICAgdXBkYXRlZCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChwb3NpdGlvbltBbGlnbm1lbnQuTEVGVF0gIT0gbnVsbCAmJiBwb3NpdGlvbltBbGlnbm1lbnQuTEVGVF0gIT09IHRoaXMuX2xlZnQpIHtcbiAgICAgIHRoaXMuX2xlZnQgPSBwb3NpdGlvbltBbGlnbm1lbnQuTEVGVF07XG4gICAgICB1cGRhdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uW0FsaWdubWVudC5CT1RUT01dICE9IG51bGwgJiYgcG9zaXRpb25bQWxpZ25tZW50LkJPVFRPTV0gIT09IHRoaXMuX2JvdHRvbSkge1xuICAgICAgdGhpcy5fYm90dG9tID0gcG9zaXRpb25bQWxpZ25tZW50LkJPVFRPTV07XG4gICAgICB1cGRhdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uW0FsaWdubWVudC5SSUdIVF0gIT0gbnVsbCAmJiBwb3NpdGlvbltBbGlnbm1lbnQuUklHSFRdICE9PSB0aGlzLl9yaWdodCkge1xuICAgICAgdGhpcy5fcmlnaHQgPSBwb3NpdGlvbltBbGlnbm1lbnQuUklHSFRdO1xuICAgICAgdXBkYXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLnVwZGF0ZWQ/LigpKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBJU2l6ZSwgU2l6ZSB9IGZyb20gJy4vU2l6ZSc7XG5pbXBvcnQgeyBJUG9zaXRpb24sIFBvc2l0aW9uIH0gZnJvbSAnLi9Qb3NpdGlvbic7XG5pbXBvcnQgeyBCYXNlTGlzdGVuZXIsIEJhc2VPYnNlcnZlciB9IGZyb20gJy4uL0Jhc2VPYnNlcnZlcic7XG5pbXBvcnQgeyBBbGlnbm1lbnQsIE1vdXNlUG9zaXRpb24gfSBmcm9tICcuLi90b29scyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGltZW5zaW9uQ29udGFpbmVyTGlzdGVuZXIgZXh0ZW5kcyBCYXNlTGlzdGVuZXIge1xuICB1cGRhdGVkOiAoKSA9PiBhbnk7XG4gIGludmFsaWRhdGU6IChpbW1lZGlhdGU/OiBib29sZWFuKSA9PiBhbnk7XG59XG5cbmV4cG9ydCB0eXBlIElEaW1lbnNpb24gPSBJUG9zaXRpb24gJiBJU2l6ZTtcblxuZXhwb3J0IGludGVyZmFjZSBEaW1lbnNpb25Db250YWluZXJPcHRpb25zIHtcbiAgcG9zaXRpb24/OiBQb3NpdGlvbjtcbiAgc2l6ZT86IFNpemU7XG59XG5cbmV4cG9ydCBjbGFzcyBEaW1lbnNpb25Db250YWluZXI8XG4gIEwgZXh0ZW5kcyBEaW1lbnNpb25Db250YWluZXJMaXN0ZW5lciA9IERpbWVuc2lvbkNvbnRhaW5lckxpc3RlbmVyXG4+IGV4dGVuZHMgQmFzZU9ic2VydmVyPEw+IHtcbiAgcG9zaXRpb246IFBvc2l0aW9uO1xuICBzaXplOiBTaXplO1xuICBpZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnM6IERpbWVuc2lvbkNvbnRhaW5lck9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pZCA9IHY0KCk7XG4gICAgdGhpcy5zaXplID0gb3B0aW9ucy5zaXplIHx8IG5ldyBTaXplKCk7XG4gICAgdGhpcy5wb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb24gfHwgbmV3IFBvc2l0aW9uKCk7XG4gICAgdGhpcy5zaXplLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgdXBkYXRlZDogKCkgPT4ge1xuICAgICAgICB0aGlzLmZpcmVVcGRhdGVkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5wb3NpdGlvbi5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIHVwZGF0ZWQ6ICgpID0+IHtcbiAgICAgICAgdGhpcy5maXJlVXBkYXRlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGZpcmVVcGRhdGVkID0gKCkgPT4ge1xuICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLnVwZGF0ZWQ/LigpKTtcbiAgfTtcblxuICBnZXQgZGltZW5zaW9ucygpOiBJRGltZW5zaW9uIHtcbiAgICByZXR1cm4ge1xuICAgICAgdG9wOiB0aGlzLnBvc2l0aW9uLnRvcCxcbiAgICAgIGxlZnQ6IHRoaXMucG9zaXRpb24ubGVmdCxcbiAgICAgIGJvdHRvbTogdGhpcy5wb3NpdGlvbi5ib3R0b20sXG4gICAgICByaWdodDogdGhpcy5wb3NpdGlvbi5yaWdodCxcbiAgICAgIHdpZHRoOiB0aGlzLnNpemUud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMuc2l6ZS5oZWlnaHRcbiAgICB9O1xuICB9XG5cbiAgaXNQb3J0cmFpdCgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplLmlzUG9ydHJhaXQoKTtcbiAgfVxuXG4gIGdldFZvbHVtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplLmdldFZvbHVtZSgpO1xuICB9XG5cbiAgaW52YWxpZGF0ZShpbW1lZGlhdGU/OiBib29sZWFuKSB7XG4gICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChjYikgPT4gY2IuaW52YWxpZGF0ZT8uKGltbWVkaWF0ZSkpO1xuICB9XG5cbiAgdXBkYXRlKGRpbTogUGFydGlhbDxJRGltZW5zaW9uPikge1xuICAgIHRoaXMuc2l6ZS51cGRhdGUoZGltKTtcbiAgICB0aGlzLnBvc2l0aW9uLnVwZGF0ZShkaW0pO1xuICB9XG5cbiAgZ2V0UmVsYXRpdmVUb1Bvc2l0aW9uKHJlY3Q6IElQb3NpdGlvbikge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmdldFJlbGF0aXZlVG9Qb3NpdGlvbihyZWN0KTtcbiAgfVxuXG4gIGdldFJlbGF0aXZlVG9Nb3VzZVBvc2l0aW9uKHBvc2l0aW9uOiBNb3VzZVBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMucG9zaXRpb24uZ2V0UmVsYXRpdmVUb01vdXNlUG9zaXRpb24ocG9zaXRpb24pO1xuICB9XG5cbiAgaXNBbGlnbmVkKHBhcmVudDogRGltZW5zaW9uQ29udGFpbmVyLCBhbGlnbm1lbnQ6IEFsaWdubWVudCkge1xuICAgIGNvbnN0IHJlbCA9IHRoaXMuZ2V0UmVsYXRpdmVUb1Bvc2l0aW9uKHBhcmVudC5wb3NpdGlvbilbYWxpZ25tZW50XTtcbiAgICBpZiAoYWxpZ25tZW50ID09PSBBbGlnbm1lbnQuTEVGVCkge1xuICAgICAgcmV0dXJuIHJlbCA8PSBwYXJlbnQuZGltZW5zaW9ucy53aWR0aCAvIDI7XG4gICAgfVxuICAgIGlmIChhbGlnbm1lbnQgPT09IEFsaWdubWVudC5SSUdIVCkge1xuICAgICAgcmV0dXJuIHJlbCA+IHBhcmVudC5kaW1lbnNpb25zLndpZHRoIC8gMjtcbiAgICB9XG4gICAgaWYgKGFsaWdubWVudCA9PT0gQWxpZ25tZW50LlRPUCkge1xuICAgICAgcmV0dXJuIHJlbCA8PSBwYXJlbnQuZGltZW5zaW9ucy5oZWlnaHQgLyAyO1xuICAgIH1cbiAgICBpZiAoYWxpZ25tZW50ID09PSBBbGlnbm1lbnQuQk9UVE9NKSB7XG4gICAgICByZXR1cm4gcmVsID4gcGFyZW50LmRpbWVuc2lvbnMuaGVpZ2h0IC8gMjtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFdvcmtzcGFjZUVuZ2luZUludGVyZmFjZSB9IGZyb20gJy4uL2NvcmUvV29ya3NwYWNlRW5naW5lSW50ZXJmYWNlJztcbmltcG9ydCB7IEJhc2VMaXN0ZW5lciwgQmFzZU9ic2VydmVyIH0gZnJvbSAnLi4vY29yZS9CYXNlT2JzZXJ2ZXInO1xuaW1wb3J0IHsgQWxpZ25tZW50IH0gZnJvbSAnLi4vY29yZS90b29scyc7XG5pbXBvcnQgeyB2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IHsgSVNpemUsIFNpemUgfSBmcm9tICcuLi9jb3JlL2RpbWVuc2lvbnMvU2l6ZSc7XG5pbXBvcnQgeyBEaW1lbnNpb25Db250YWluZXIsIElEaW1lbnNpb24gfSBmcm9tICcuLi9jb3JlL2RpbWVuc2lvbnMvRGltZW5zaW9uQ29udGFpbmVyJztcbmltcG9ydCB7IFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbCB9IGZyb20gJy4vV29ya3NwYWNlQ29sbGVjdGlvbk1vZGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemVkTW9kZWwge1xuICBpZDogc3RyaW5nO1xuICBleHBhbmRWZXJ0aWNhbDogYm9vbGVhbjtcbiAgZXhwYW5kSG9yaXpvbnRhbDogYm9vbGVhbjtcbiAgdHlwZTogc3RyaW5nO1xuICB3aWR0aDogbnVtYmVyO1xuICBoZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXb3Jrc3BhY2VNb2RlbExpc3RlbmVyIGV4dGVuZHMgQmFzZUxpc3RlbmVyIHtcbiAgcmVtb3ZlZD86ICgpID0+IGFueTtcbiAgbGF5b3V0SW52YWxpZGF0ZWQ/OiAoKSA9PiBhbnk7XG4gIGRpbWVuc2lvbnNJbnZhbGlkYXRlZD86ICgpID0+IGFueTtcbiAgdmlzaWJpbGl0eUNoYW5nZWQ/OiAoKSA9PiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBXb3Jrc3BhY2VNb2RlbFNpemUgZXh0ZW5kcyBTaXplIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIG1pbjogU2l6ZSxcbiAgICBwcm90ZWN0ZWQgbWF4OiBTaXplXG4gICkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLm1pbi5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIHVwZGF0ZWQ6ICgpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGUodGhpcy52YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5tYXgucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICB1cGRhdGVkOiAoKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlKHRoaXMudmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlKHNpemU6IFBhcnRpYWw8SVNpemU+KSB7XG4gICAgaWYgKHNpemUud2lkdGggIT0gbnVsbCkge1xuICAgICAgaWYgKHNpemUud2lkdGggPCB0aGlzLm1pbi53aWR0aCkge1xuICAgICAgICBzaXplLndpZHRoID0gdGhpcy5taW4ud2lkdGg7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubWF4LndpZHRoID4gMCAmJiBzaXplLndpZHRoID4gdGhpcy5tYXgud2lkdGgpIHtcbiAgICAgICAgc2l6ZS53aWR0aCA9IHRoaXMubWF4LndpZHRoO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzaXplLmhlaWdodCAhPSBudWxsKSB7XG4gICAgICBpZiAoc2l6ZS5oZWlnaHQgPCB0aGlzLm1pbi5oZWlnaHQpIHtcbiAgICAgICAgc2l6ZS5oZWlnaHQgPSB0aGlzLm1pbi5oZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubWF4LmhlaWdodCA+IDAgJiYgc2l6ZS53aWR0aCA+IHRoaXMubWF4LmhlaWdodCkge1xuICAgICAgICBzaXplLmhlaWdodCA9IHRoaXMubWF4LmhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIudXBkYXRlKHNpemUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBXb3Jrc3BhY2VNb2RlbDxcbiAgVCBleHRlbmRzIFNlcmlhbGl6ZWRNb2RlbCA9IFNlcmlhbGl6ZWRNb2RlbCxcbiAgTCBleHRlbmRzIFdvcmtzcGFjZU1vZGVsTGlzdGVuZXIgPSBXb3Jrc3BhY2VNb2RlbExpc3RlbmVyXG4+IGV4dGVuZHMgQmFzZU9ic2VydmVyPEw+IHtcbiAgaWQ6IHN0cmluZztcbiAgcHJpdmF0ZSBfZXhwYW5kVmVydGljYWw6IGJvb2xlYW47XG4gIHByaXZhdGUgX2V4cGFuZEhvcml6b250YWw6IGJvb2xlYW47XG5cbiAgc2l6ZTogU2l6ZTtcbiAgbWluaW11bVNpemU6IFNpemU7XG4gIG1heGltdW1TaXplOiBTaXplO1xuXG4gIHBhcmVudDogV29ya3NwYWNlTW9kZWw7XG4gIHR5cGU6IHN0cmluZztcblxuICAvLyByZW5kZXIgcHJvcGVydGllc1xuICBwdWJsaWMgcl9kaW1lbnNpb25zOiBEaW1lbnNpb25Db250YWluZXI7XG4gIHB1YmxpYyByX3Zpc2libGU6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuaWQgPSB2NCgpO1xuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLl9leHBhbmRIb3Jpem9udGFsID0gdHJ1ZTtcbiAgICB0aGlzLl9leHBhbmRWZXJ0aWNhbCA9IHRydWU7XG4gICAgdGhpcy5taW5pbXVtU2l6ZSA9IG5ldyBTaXplKCk7XG4gICAgdGhpcy5tYXhpbXVtU2l6ZSA9IG5ldyBTaXplKCk7XG4gICAgdGhpcy5zaXplID0gbmV3IFdvcmtzcGFjZU1vZGVsU2l6ZSh0aGlzLm1pbmltdW1TaXplLCB0aGlzLm1heGltdW1TaXplKTtcbiAgICB0aGlzLnJfdmlzaWJsZSA9IGZhbHNlO1xuICAgIHRoaXMucl9kaW1lbnNpb25zID0gbmV3IERpbWVuc2lvbkNvbnRhaW5lcigpO1xuICAgIHRoaXMucl9kaW1lbnNpb25zLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgdXBkYXRlZDogKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5zaXplLndpZHRoID09PSAwICYmIHRoaXMuc2l6ZS5oZWlnaHQgPT09IDApIHtcbiAgICAgICAgICB0aGlzLnNldFNpemUoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMucl9kaW1lbnNpb25zLmRpbWVuc2lvbnMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMucl9kaW1lbnNpb25zLmRpbWVuc2lvbnMuaGVpZ2h0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNpemUucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICB1cGRhdGVkOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZURpbWVuc2lvbnMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGdldCBleHBhbmRIb3Jpem9udGFsKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9leHBhbmRIb3Jpem9udGFsO1xuICB9XG5cbiAgc2V0IGV4cGFuZEhvcml6b250YWwodmFsdWU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9leHBhbmRIb3Jpem9udGFsID0gdmFsdWU7XG4gIH1cblxuICBnZXQgZXhwYW5kVmVydGljYWwoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2V4cGFuZFZlcnRpY2FsO1xuICB9XG5cbiAgc2V0IGV4cGFuZFZlcnRpY2FsKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy5fZXhwYW5kVmVydGljYWwgPSB2YWx1ZTtcbiAgfVxuXG4gIGFzeW5jIHdhaXRGb3JJbml0aWFsUmVuZGVyZWRTaXplKCk6IFByb21pc2U8SURpbWVuc2lvbj4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgbGV0IGwxLCBsMjtcbiAgICAgIGwxID0gdGhpcy5yX2RpbWVuc2lvbnMucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICAgIHVwZGF0ZWQ6ICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5yX2RpbWVuc2lvbnMuc2l6ZS53aWR0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5yX2RpbWVuc2lvbnMuZGltZW5zaW9ucyk7XG4gICAgICAgICAgICBsMT8uKCk7XG4gICAgICAgICAgICBsMj8uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGwyID0gdGhpcy5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgICAgdmlzaWJpbGl0eUNoYW5nZWQ6ICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5yX3Zpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMucl9kaW1lbnNpb25zLmludmFsaWRhdGUodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGFzIFBhcnRpYWw8TD4pO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0V2lkdGgod2lkdGg6IG51bWJlcikge1xuICAgIHRoaXMuc2V0U2l6ZSh7XG4gICAgICB3aWR0aDogd2lkdGhcbiAgICB9KTtcbiAgfVxuXG4gIHNldEhlaWdodChoZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMuc2V0U2l6ZSh7XG4gICAgICBoZWlnaHQ6IGhlaWdodFxuICAgIH0pO1xuICB9XG5cbiAgc2V0U2l6ZShkaW1zOiBQYXJ0aWFsPElTaXplPikge1xuICAgIHRoaXMuc2l6ZS51cGRhdGUoZGltcyk7XG4gIH1cblxuICBnZXRBbGxSZW5kZXJEaW1lbnNpb25zKCkge1xuICAgIHJldHVybiBbdGhpcy5yX2RpbWVuc2lvbnNdO1xuICB9XG5cbiAgaW52YWxpZGF0ZURpbWVuc2lvbnMoKSB7XG4gICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChjYikgPT4gY2IuZGltZW5zaW9uc0ludmFsaWRhdGVkPy4oKSk7XG4gIH1cblxuICBpbnZhbGlkYXRlTGF5b3V0KCkge1xuICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLmxheW91dEludmFsaWRhdGVkPy4oKSk7XG4gIH1cblxuICBzZXRWaXNpYmxlKHZpc2libGU6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5yX3Zpc2libGUgPT09IHZpc2libGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yX3Zpc2libGUgPSB2aXNpYmxlO1xuICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLnZpc2liaWxpdHlDaGFuZ2VkPy4oKSk7XG4gIH1cblxuICBmaXJlTm9kZVJlbW92ZWQoKSB7XG4gICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChsaXN0KSA9PiB7XG4gICAgICBpZiAobGlzdC5yZW1vdmVkKSB7XG4gICAgICAgIGxpc3QucmVtb3ZlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZ2V0U2libGluZyhhbGlnbm1lbnQ6IEFsaWdubWVudCk6IFdvcmtzcGFjZU1vZGVsIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMucGFyZW50IGluc3RhbmNlb2YgV29ya3NwYWNlQ29sbGVjdGlvbk1vZGVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0Q2hpbGRTaWJsaW5nKHRoaXMsIGFsaWdubWVudCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZGVsZXRlKCkge1xuICAgIHRoaXMuZmlyZU5vZGVSZW1vdmVkKCk7XG4gIH1cblxuICBoYXNQYXJlbnRJRChwYXJlbnRJRDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaWQgPT09IHBhcmVudElEKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYXJlbnQuaGFzUGFyZW50SUQocGFyZW50SUQpO1xuICB9XG5cbiAgc2V0UGFyZW50KHBhcmVudDogV29ya3NwYWNlTW9kZWwpIHtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgfVxuXG4gIGdldFJvb3RNb2RlbCgpOiBXb3Jrc3BhY2VNb2RlbCB7XG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBhcmVudC5nZXRSb290TW9kZWwoKTtcbiAgfVxuXG4gIHNldEV4cGFuZChob3Jpem9udGFsOiBib29sZWFuID0gdHJ1ZSwgdmVydGljYWw6IGJvb2xlYW4gPSB0cnVlKTogdGhpcyB7XG4gICAgdGhpcy5fZXhwYW5kSG9yaXpvbnRhbCA9IGhvcml6b250YWw7XG4gICAgdGhpcy5fZXhwYW5kVmVydGljYWwgPSB2ZXJ0aWNhbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGZsYXR0ZW4oKTogV29ya3NwYWNlTW9kZWxbXSB7XG4gICAgcmV0dXJuIFt0aGlzXTtcbiAgfVxuXG4gIHRvQXJyYXkoKTogVCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgZXhwYW5kSG9yaXpvbnRhbDogdGhpcy5fZXhwYW5kSG9yaXpvbnRhbCxcbiAgICAgIGV4cGFuZFZlcnRpY2FsOiB0aGlzLl9leHBhbmRWZXJ0aWNhbCxcbiAgICAgIHdpZHRoOiB0aGlzLnNpemUud2lkdGgsXG4gICAgICBoZWlnaHQ6IHRoaXMuc2l6ZS5oZWlnaHRcbiAgICB9IGFzIFQ7XG4gIH1cblxuICBmcm9tQXJyYXkocGF5bG9hZDogVCwgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmVJbnRlcmZhY2UpIHtcbiAgICB0aGlzLmlkID0gcGF5bG9hZC5pZDtcbiAgICB0aGlzLl9leHBhbmRIb3Jpem9udGFsID0gcGF5bG9hZC5leHBhbmRIb3Jpem9udGFsO1xuICAgIHRoaXMuX2V4cGFuZFZlcnRpY2FsID0gcGF5bG9hZC5leHBhbmRWZXJ0aWNhbDtcbiAgICB0aGlzLnNpemUudXBkYXRlKHtcbiAgICAgIHdpZHRoOiBwYXlsb2FkLndpZHRoLFxuICAgICAgaGVpZ2h0OiBwYXlsb2FkLmhlaWdodFxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBXb3Jrc3BhY2VNb2RlbCwgU2VyaWFsaXplZE1vZGVsLCBXb3Jrc3BhY2VNb2RlbExpc3RlbmVyIH0gZnJvbSAnLi9Xb3Jrc3BhY2VNb2RlbCc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VFbmdpbmUgfSBmcm9tICcuLi9jb3JlL1dvcmtzcGFjZUVuZ2luZSc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VDb2xsZWN0aW9uSW50ZXJmYWNlIH0gZnJvbSAnLi9Xb3Jrc3BhY2VDb2xsZWN0aW9uSW50ZXJmYWNlJztcbmltcG9ydCB7IFdvcmtzcGFjZU1vZGVsRmFjdG9yeSB9IGZyb20gJy4uL2NvcmUvV29ya3NwYWNlTW9kZWxGYWN0b3J5JztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IEFsaWdubWVudCB9IGZyb20gJy4uL2NvcmUvdG9vbHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbGl6ZWRDb2xsZWN0aW9uTW9kZWwgZXh0ZW5kcyBTZXJpYWxpemVkTW9kZWwge1xuICBjaGlsZHJlbjogU2VyaWFsaXplZE1vZGVsW107XG4gIHR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWxMaXN0ZW5lciBleHRlbmRzIFdvcmtzcGFjZU1vZGVsTGlzdGVuZXIge1xuICBjaGlsZFJlbW92ZWQ/OiAobm9kZTogV29ya3NwYWNlTW9kZWwpID0+IGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbDxcbiAgICBTIGV4dGVuZHMgU2VyaWFsaXplZENvbGxlY3Rpb25Nb2RlbCA9IFNlcmlhbGl6ZWRDb2xsZWN0aW9uTW9kZWwsXG4gICAgTCBleHRlbmRzIFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbExpc3RlbmVyID0gV29ya3NwYWNlQ29sbGVjdGlvbk1vZGVsTGlzdGVuZXJcbiAgPlxuICBleHRlbmRzIFdvcmtzcGFjZU1vZGVsPFMsIEw+XG4gIGltcGxlbWVudHMgV29ya3NwYWNlQ29sbGVjdGlvbkludGVyZmFjZVxue1xuICBjaGlsZHJlbjogV29ya3NwYWNlTW9kZWxbXTtcblxuICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcpIHtcbiAgICBzdXBlcih0eXBlKTtcbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gIH1cblxuICBmcm9tQXJyYXkocGF5bG9hZDogUywgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmUpIHtcbiAgICBzdXBlci5mcm9tQXJyYXkocGF5bG9hZCwgZW5naW5lKTtcbiAgICBmb3IgKGxldCBjaGlsZCBvZiBwYXlsb2FkLmNoaWxkcmVuKSB7XG4gICAgICBsZXQgZmFjdG9yeTogV29ya3NwYWNlTW9kZWxGYWN0b3J5O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmFjdG9yeSA9IGVuZ2luZS5nZXRGYWN0b3J5KGNoaWxkLnR5cGUpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBtb2RlbDogYW55ID0gZmFjdG9yeS5nZW5lcmF0ZU1vZGVsKCk7XG4gICAgICBtb2RlbC5mcm9tQXJyYXkoY2hpbGQsIGVuZ2luZSk7XG4gICAgICB0aGlzLmFkZE1vZGVsKG1vZGVsKTtcbiAgICB9XG4gIH1cblxuICB0b0FycmF5KCk6IFMge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b0FycmF5KCksXG4gICAgICBjaGlsZHJlbjogdGhpcy5jaGlsZHJlbi5tYXAoKGNoaWxkKSA9PiB7XG4gICAgICAgIHJldHVybiBjaGlsZC50b0FycmF5KCk7XG4gICAgICB9KVxuICAgIH0gYXMgUztcbiAgfVxuXG4gIGlzRmlyc3RNb2RlbChtb2RlbDogV29ya3NwYWNlTW9kZWwpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlblswXS5pZCA9PT0gbW9kZWwuaWQ7XG4gIH1cblxuICBpc0xhc3RNb2RlbChtb2RlbDogV29ya3NwYWNlTW9kZWwpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdLmlkID09PSBtb2RlbC5pZDtcbiAgfVxuXG4gIGZsYXR0ZW4oKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBfLmZsYXRNYXAodGhpcy5jaGlsZHJlbi5tYXAoKGMpID0+IGMuZmxhdHRlbigpKSk7XG4gICAgcmV0dXJuIHN1cGVyLmZsYXR0ZW4oKS5jb25jYXQoY2hpbGRyZW4pO1xuICB9XG5cbiAgZ2V0RmxhdHRlbmVkKCk6IFdvcmtzcGFjZU1vZGVsW10ge1xuICAgIGxldCBjaGlsZHJlbiA9IFtdO1xuICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbCkge1xuICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmNvbmNhdChjaGlsZC5nZXRGbGF0dGVuZWQoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG5cbiAgcmVwbGFjZU1vZGVsKG9sZE1vZGVsOiBXb3Jrc3BhY2VNb2RlbCwgbmV3TW9kZWwpOiB0aGlzIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2Yob2xkTW9kZWwpO1xuICAgIG9sZE1vZGVsLmRlbGV0ZSgpO1xuICAgIHRoaXMuYWRkTW9kZWwobmV3TW9kZWwsIGluZGV4KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldE1vZGVsQmVmb3JlKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKG1vZGVsKTtcbiAgICBpZiAoaW5kZXggPD0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4IC0gMV07XG4gIH1cblxuICBnZXRNb2RlbEFmdGVyKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKG1vZGVsKTtcbiAgICBpZiAoaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXggKyAxXTtcbiAgfVxuXG4gIG5vcm1hbGl6ZSgpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQgaW5zdGFuY2VvZiBXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWwpIHtcbiAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVNb2RlbCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZW1vdmVNb2RlbChtb2RlbDogV29ya3NwYWNlTW9kZWwpOiB0aGlzIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YobW9kZWwpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdjb3VsZCBub3QgZmluZCBtb2RlbCcpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICB0aGlzLmludmFsaWRhdGVMYXlvdXQoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFkZE1vZGVsKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCwgcG9zaXRpb246IG51bWJlciA9IG51bGwpOiB0aGlzIHtcbiAgICBpZiAodGhpcy5jaGlsZHJlbi5pbmRleE9mKG1vZGVsKSAhPT0gLTEpIHtcbiAgICAgIGNvbnN0IHBvcyA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihtb2RlbCk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShwb3MsIDEpO1xuICAgICAgaWYgKHBvcyA+IHBvc2l0aW9uKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKHBvc2l0aW9uLCAwLCBtb2RlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShwb3NpdGlvbiAtIDEsIDAsIG1vZGVsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1vZGVsLnBhcmVudCkge1xuICAgICAgICBtb2RlbC5kZWxldGUoKTtcbiAgICAgIH1cbiAgICAgIG1vZGVsLnNldFBhcmVudCh0aGlzKTtcblxuICAgICAgLy8gYWxsb3cgYSBjaGlsZCB0byByZW1vdmUgaXRzZWxmXG4gICAgICBjb25zdCBsaXN0ZW5lciA9IG1vZGVsLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgICByZW1vdmVkOiAoKSA9PiB7XG4gICAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgICAgICB0aGlzLnJlbW92ZU1vZGVsKG1vZGVsKTtcbiAgICAgICAgICB0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGxpc3QpID0+IHtcbiAgICAgICAgICAgIGxpc3QuY2hpbGRSZW1vdmVkPy4obW9kZWwpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBsYXlvdXRJbnZhbGlkYXRlZDogKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZUxheW91dCgpO1xuICAgICAgICB9LFxuICAgICAgICBkaW1lbnNpb25zSW52YWxpZGF0ZWQ6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmludmFsaWRhdGVEaW1lbnNpb25zKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAocG9zaXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG1vZGVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKHBvc2l0aW9uLCAwLCBtb2RlbCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaW52YWxpZGF0ZUxheW91dCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWRkTW9kZWxCZWZvcmUocmVsYXRpdmVNb2RlbDogV29ya3NwYWNlTW9kZWwsIG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCkge1xuICAgIGxldCBpbmRleCA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihyZWxhdGl2ZU1vZGVsKTtcbiAgICB0aGlzLmFkZE1vZGVsKG1vZGVsLCBpbmRleCk7XG4gIH1cblxuICBhZGRNb2RlbEFmdGVyKHJlbGF0aXZlTW9kZWw6IFdvcmtzcGFjZU1vZGVsLCBtb2RlbDogV29ya3NwYWNlTW9kZWwpIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YocmVsYXRpdmVNb2RlbCk7XG4gICAgdGhpcy5hZGRNb2RlbChtb2RlbCwgaW5kZXggKyAxKTtcbiAgfVxuXG4gIGdldENoaWxkU2libGluZyhtb2RlbDogV29ya3NwYWNlTW9kZWwsIGFsaWdubWVudDogQWxpZ25tZW50KTogV29ya3NwYWNlTW9kZWwge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQgeyBXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJy4uL2NvcmUtbW9kZWxzL1dvcmtzcGFjZU1vZGVsJztcbmltcG9ydCB7IFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbCB9IGZyb20gJy4uL2NvcmUtbW9kZWxzL1dvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbCc7XG5pbXBvcnQgeyB2NCB9IGZyb20gJ3V1aWQnO1xuXG5leHBvcnQgY29uc3QgcmVnZW5lcmF0ZUlEcyA9IChtb2RlbDogV29ya3NwYWNlTW9kZWwpID0+IHtcbiAgaWYgKG1vZGVsIGluc3RhbmNlb2YgV29ya3NwYWNlQ29sbGVjdGlvbk1vZGVsKSB7XG4gICAgbW9kZWwuY2hpbGRyZW4uZm9yRWFjaCgobSkgPT4gcmVnZW5lcmF0ZUlEcyhtKSk7XG4gIH1cbiAgbW9kZWwuaWQgPSB2NCgpO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBNb3VzZVBvc2l0aW9uIHtcbiAgY2xpZW50WDogbnVtYmVyO1xuICBjbGllbnRZOiBudW1iZXI7XG59XG5cbmV4cG9ydCBlbnVtIEFsaWdubWVudCB7XG4gIFRPUCA9ICd0b3AnLFxuICBMRUZUID0gJ2xlZnQnLFxuICBCT1RUT00gPSAnYm90dG9tJyxcbiAgUklHSFQgPSAncmlnaHQnXG59XG5cbmV4cG9ydCBjb25zdCBnZXRBbGlnbm1lbnRJbnZlcnRlZCA9IChhbGlnbm1lbnQ6IEFsaWdubWVudCkgPT4ge1xuICByZXR1cm4ge1xuICAgIFtBbGlnbm1lbnQuVE9QXTogQWxpZ25tZW50LkJPVFRPTSxcbiAgICBbQWxpZ25tZW50LkJPVFRPTV06IEFsaWdubWVudC5UT1AsXG4gICAgW0FsaWdubWVudC5MRUZUXTogQWxpZ25tZW50LlJJR0hULFxuICAgIFtBbGlnbm1lbnQuUklHSFRdOiBBbGlnbm1lbnQuTEVGVFxuICB9W2FsaWdubWVudF07XG59O1xuXG5leHBvcnQgZW51bSBDb3JuZXIge1xuICBUT1BfTEVGVCA9ICdudycsXG4gIFRPUF9SSUdIVCA9ICduZScsXG4gIEJPVFRPTV9SSUdIVCA9ICdzZScsXG4gIEJPVFRPTV9MRUZUID0gJ3N3J1xufVxuXG5leHBvcnQgY29uc3QgbG9nID0gKC4uLmFyZ3MpID0+IHtcbiAgY29uc29sZS5kZWJ1ZyhgW1NSV10gYCwgLi4uYXJncyk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IHVzZVdpbmRvd1Jlc2l6ZSB9IGZyb20gJy4vdXNlV2luZG93UmVzaXplJztcbmltcG9ydCB7IERpbWVuc2lvbkNvbnRhaW5lciwgSURpbWVuc2lvbiB9IGZyb20gJy4uLy4uL2NvcmUvZGltZW5zaW9ucy9EaW1lbnNpb25Db250YWluZXInO1xuaW1wb3J0IHsgQWxpZ25tZW50IH0gZnJvbSAnLi4vLi4vY29yZS90b29scyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQmFzZUJhc2VSZXNpemVPYnNlcnZlclByb3BzIHtcbiAgZGltZW5zaW9uOiBEaW1lbnNpb25Db250YWluZXI7XG4gIGZvcndhcmRSZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MRGl2RWxlbWVudD47XG4gIGlnbm9yZURlYm91bmNlPzogYm9vbGVhbjtcbiAgdHJhbnNmb3JtZXI/OiAoZGltczogSURpbWVuc2lvbikgPT4gSURpbWVuc2lvbjtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZUJhc2VSZXNpemVPYnNlcnZlciA9IChwcm9wczogVXNlQmFzZUJhc2VSZXNpemVPYnNlcnZlclByb3BzKSA9PiB7XG4gIGNvbnN0IHVwZGF0ZUxvZ2ljID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghcHJvcHMuZm9yd2FyZFJlZi5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBkaW1zID0gcHJvcHMuZm9yd2FyZFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgY29uc3QgZGltT2JqZWN0ID0ge1xuICAgICAgd2lkdGg6IGRpbXMud2lkdGgsXG4gICAgICBoZWlnaHQ6IGRpbXMuaGVpZ2h0LFxuXG4gICAgICAvLyB3ZSBvZmZzZXQgc2l6ZXMgaGVyZSBiYXNlZCBvbiB0aGUgcm9vdCB3b3Jrc3BhY2VcbiAgICAgIFtBbGlnbm1lbnQuVE9QXTogZGltcy50b3AsXG4gICAgICBbQWxpZ25tZW50LkxFRlRdOiBkaW1zLmxlZnQsXG4gICAgICBbQWxpZ25tZW50LkJPVFRPTV06IGRpbXMuYm90dG9tLFxuICAgICAgW0FsaWdubWVudC5SSUdIVF06IGRpbXMucmlnaHRcbiAgICB9O1xuXG4gICAgcHJvcHMuZGltZW5zaW9uLnVwZGF0ZShwcm9wcy50cmFuc2Zvcm1lcj8uKGRpbU9iamVjdCkgfHwgZGltT2JqZWN0KTtcbiAgfSwgW3Byb3BzLmRpbWVuc2lvbl0pO1xuXG4gIGNvbnN0IHVwZGF0ZURlYm91bmNlZCA9IHVzZUNhbGxiYWNrKFxuICAgIF8uZGVib3VuY2UoKCkgPT4ge1xuICAgICAgdXBkYXRlTG9naWMoKTtcbiAgICB9LCA1MDApLFxuICAgIFtwcm9wcy5kaW1lbnNpb25dXG4gICk7XG5cbiAgY29uc3QgdXBkYXRlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChwcm9wcy5pZ25vcmVEZWJvdW5jZSkge1xuICAgICAgdXBkYXRlTG9naWMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlRGVib3VuY2VkKCk7XG4gICAgfVxuICB9LCBbcHJvcHMuZGltZW5zaW9uLCBwcm9wcy5pZ25vcmVEZWJvdW5jZV0pO1xuXG4gIC8vIGxpc3RlbiB0byBpbnZhbGlkYXRlIGRpcmVjdGl2ZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gcHJvcHMuZGltZW5zaW9uLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgaW52YWxpZGF0ZTogKGltbWVkaWF0ZSkgPT4ge1xuICAgICAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgICAgdXBkYXRlTG9naWMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LCBbcHJvcHMuZGltZW5zaW9uXSk7XG5cbiAgLy8gd2luZG93IHJlc2l6ZWRcbiAgdXNlV2luZG93UmVzaXplKHtcbiAgICByZXNpemVkOiAoKSA9PiB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIG5hdGl2ZSBpbnRlcnNlY3Rpb25cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb25PYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgICgpID0+IHtcbiAgICAgICAgdXBkYXRlKCk7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICByb290OiBkb2N1bWVudC5ib2R5XG4gICAgICB9XG4gICAgKTtcbiAgICBpbnRlcnNlY3Rpb25PYnNlcnZlci5vYnNlcnZlKHByb3BzLmZvcndhcmRSZWYuY3VycmVudCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChwcm9wcy5mb3J3YXJkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgaW50ZXJzZWN0aW9uT2JzZXJ2ZXIudW5vYnNlcnZlKHByb3BzLmZvcndhcmRSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgICBpbnRlcnNlY3Rpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW3Byb3BzLmRpbWVuc2lvbl0pO1xuXG4gIC8vIG5hdGl2ZSByZXNpemVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB1cGRhdGUoKTtcbiAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9KTtcbiAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHByb3BzLmZvcndhcmRSZWYuY3VycmVudCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChwcm9wcy5mb3J3YXJkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIudW5vYnNlcnZlKHByb3BzLmZvcndhcmRSZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW3Byb3BzLmRpbWVuc2lvbl0pO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGludGVyZmFjZSBVc2VXaW5kb3dSZXNpemVQcm9wcyB7XG4gIHJlc2l6ZWQ6ICgpID0+IGFueTtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZVdpbmRvd1Jlc2l6ZSA9IChwcm9wczogVXNlV2luZG93UmVzaXplUHJvcHMpID0+IHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIHByb3BzLnJlc2l6ZWQoKTtcbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBsaXN0ZW5lcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBsaXN0ZW5lcik7XG4gICAgfTtcbiAgfSwgW10pO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFdvcmtzcGFjZUVuZ2luZSB9IGZyb20gJy4uLy4uL2NvcmUvV29ya3NwYWNlRW5naW5lJztcbmltcG9ydCB7IEFsaWdubWVudCB9IGZyb20gJy4uLy4uL2NvcmUvdG9vbHMnO1xuaW1wb3J0IHsgVXNlQmFzZUJhc2VSZXNpemVPYnNlcnZlclByb3BzLCB1c2VCYXNlUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICcuL3VzZUJhc2VSZXNpemVPYnNlcnZlcic7XG5pbXBvcnQgeyB1c2VEaW1lbnNpb25MYXlvdXRJbnZhbGlkYXRvciB9IGZyb20gJy4vdXNlRGltZW5zaW9uTGF5b3V0SW52YWxpZGF0b3InO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVJlc2l6ZU9ic2VydmVyUHJvcHMgZXh0ZW5kcyBVc2VCYXNlQmFzZVJlc2l6ZU9ic2VydmVyUHJvcHMge1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZVJlc2l6ZU9ic2VydmVyID0gKHByb3BzOiBVc2VSZXNpemVPYnNlcnZlclByb3BzKSA9PiB7XG4gIHVzZUJhc2VSZXNpemVPYnNlcnZlcih7XG4gICAgLi4ucHJvcHMsXG4gICAgdHJhbnNmb3JtZXI6IChkaW1zKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5kaW1zLFxuICAgICAgICBbQWxpZ25tZW50LlRPUF06IGRpbXNbQWxpZ25tZW50LlRPUF0gLSBwcm9wcy5lbmdpbmUud29ya3NwYWNlQ29udGFpbmVyLnBvc2l0aW9uLnRvcCxcbiAgICAgICAgW0FsaWdubWVudC5MRUZUXTogZGltc1tBbGlnbm1lbnQuTEVGVF0gLSBwcm9wcy5lbmdpbmUud29ya3NwYWNlQ29udGFpbmVyLnBvc2l0aW9uLmxlZnQsXG4gICAgICAgIFtBbGlnbm1lbnQuQk9UVE9NXTogZGltc1tBbGlnbm1lbnQuQk9UVE9NXSAtIHByb3BzLmVuZ2luZS53b3Jrc3BhY2VDb250YWluZXIucG9zaXRpb24uYm90dG9tLFxuICAgICAgICBbQWxpZ25tZW50LlJJR0hUXTogZGltc1tBbGlnbm1lbnQuUklHSFRdIC0gcHJvcHMuZW5naW5lLndvcmtzcGFjZUNvbnRhaW5lci5wb3NpdGlvbi5yaWdodFxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vXG4gIHVzZURpbWVuc2lvbkxheW91dEludmFsaWRhdG9yKHtcbiAgICBlbmdpbmU6IHByb3BzLmVuZ2luZSxcbiAgICBkaW1lbnNpb246IHByb3BzLmRpbWVuc2lvblxuICB9KTtcblxuICAvLyBsaXN0ZW4gdG8gdGhlIHdvcmtzcGFjZSBzaXplIGNoYW5naW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuIHByb3BzLmVuZ2luZS53b3Jrc3BhY2VDb250YWluZXIucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICB1cGRhdGVkOiAoKSA9PiB7XG4gICAgICAgIHByb3BzLmRpbWVuc2lvbi5pbnZhbGlkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtdKTtcbn07XG4iLCJpbXBvcnQgeyBEaW1lbnNpb25Db250YWluZXIgfSBmcm9tICcuLi8uLi9jb3JlL2RpbWVuc2lvbnMvRGltZW5zaW9uQ29udGFpbmVyJztcbmltcG9ydCB7IFdvcmtzcGFjZUVuZ2luZSB9IGZyb20gJy4uLy4uL2NvcmUvV29ya3NwYWNlRW5naW5lJztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IGludGVyZmFjZSBVc2VEaW1lbnNpb25MYXlvdXRJbnZhbGlkYXRvck9wdGlvbnMge1xuICBkaW1lbnNpb246IERpbWVuc2lvbkNvbnRhaW5lcjtcbiAgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmU7XG59XG5cbmV4cG9ydCBjb25zdCB1c2VEaW1lbnNpb25MYXlvdXRJbnZhbGlkYXRvciA9IChwcm9wczogVXNlRGltZW5zaW9uTGF5b3V0SW52YWxpZGF0b3JPcHRpb25zKSA9PiB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGwyID0gbnVsbDtcbiAgICBjb25zdCBsMSA9IHByb3BzLmVuZ2luZS5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIGxheW91dEludmFsaWRhdGVkOiAoKSA9PiB7XG4gICAgICAgIC8vIHdhaXQgZm9yIGEgcmVwYWludFxuICAgICAgICBsMiA9IHByb3BzLmVuZ2luZS5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgICAgICBsYXlvdXRSZXBhaW50ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgIGwyPy4oKTtcbiAgICAgICAgICAgIGwyID0gbnVsbDtcbiAgICAgICAgICAgIHByb3BzLmRpbWVuc2lvbi5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBsMSgpO1xuICAgICAgbDI/LigpO1xuICAgIH07XG4gIH0sIFtwcm9wcy5kaW1lbnNpb25dKTtcbn07XG4iLCJpbXBvcnQgeyBXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJy4uLy4uL2NvcmUtbW9kZWxzL1dvcmtzcGFjZU1vZGVsJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZVJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnLi91c2VSZXNpemVPYnNlcnZlcic7XG5pbXBvcnQgeyBXb3Jrc3BhY2VFbmdpbmUgfSBmcm9tICcuLi8uLi9jb3JlL1dvcmtzcGFjZUVuZ2luZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTW9kZWxFbGVtZW50UHJvcHMge1xuICBtb2RlbDogV29ya3NwYWNlTW9kZWw7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xufVxuXG5leHBvcnQgY29uc3QgdXNlTW9kZWxFbGVtZW50ID0gKHByb3BzOiBVc2VNb2RlbEVsZW1lbnRQcm9wcykgPT4ge1xuICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWY8SFRNTERpdkVsZW1lbnQ+KCk7XG4gIHVzZVJlc2l6ZU9ic2VydmVyKHtcbiAgICBmb3J3YXJkUmVmOiByZWYsXG4gICAgZGltZW5zaW9uOiBwcm9wcy5tb2RlbC5yX2RpbWVuc2lvbnMsXG4gICAgZW5naW5lOiBwcm9wcy5lbmdpbmVcbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcHJvcHMubW9kZWwuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcHJvcHMubW9kZWwuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfTtcbiAgfSwgW3Byb3BzLm1vZGVsXSk7XG4gIHJldHVybiByZWY7XG59O1xuIiwiaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VGb3JjZVVwZGF0ZShkZWJvdW5jZT86IGJvb2xlYW4pIHtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZSgwKTsgLy8gaW50ZWdlciBzdGF0ZVxuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmIChkZWJvdW5jZSkge1xuICAgICAgcmV0dXJuIF8uZGVib3VuY2UoKCkgPT4ge1xuICAgICAgICBzZXRWYWx1ZSgodmFsdWUpID0+IHZhbHVlICsgMSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgc2V0VmFsdWUoKHZhbHVlKSA9PiB2YWx1ZSArIDEpO1xuICB9OyAvLyB1cGRhdGUgdGhlIHN0YXRlIHRvIGZvcmNlIHJlbmRlclxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRGltZW5zaW9uQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vY29yZS9kaW1lbnNpb25zL0RpbWVuc2lvbkNvbnRhaW5lcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU2Nyb2xsT2JzZXJ2ZXJQcm9wcyB7XG4gIGRpbWVuc2lvbjogRGltZW5zaW9uQ29udGFpbmVyO1xuICBmb3J3YXJkUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+O1xufVxuXG5leHBvcnQgY29uc3QgdXNlU2Nyb2xsT2JzZXJ2ZXIgPSAocHJvcHM6IFVzZVNjcm9sbE9ic2VydmVyUHJvcHMpID0+IHtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjYiA9ICgpID0+IHtcbiAgICAgIHByb3BzLmRpbWVuc2lvbi5pbnZhbGlkYXRlKCk7XG4gICAgfTtcbiAgICBwcm9wcy5mb3J3YXJkUmVmLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgY2IpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBwcm9wcy5mb3J3YXJkUmVmLmN1cnJlbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGNiKTtcbiAgICB9O1xuICB9LCBbXSk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBjb25zdCBEcm9wWm9uZURyYWdDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dDx7XG4gIGluY3JlbWVudDogKCkgPT4gYW55O1xuICBkZWNyZW1lbnQ6ICgpID0+IGFueTtcbn0+KG51bGwpO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZU1vdXNlRHJhZ0V2ZW50c1Byb3BzIHtcbiAgZm9yd2FyZFJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PjtcbiAgbW91c2VFbnRlcj86ICgpID0+IGFueTtcbiAgbW91c2VFeGl0PzogKCkgPT4gYW55O1xufVxuXG5leHBvcnQgY29uc3QgdXNlTW91c2VEcmFnRXZlbnRzID0gKHByb3BzOiBVc2VNb3VzZURyYWdFdmVudHNQcm9wcykgPT4ge1xuICBjb25zdCBjID0gdXNlQ29udGV4dChEcm9wWm9uZURyYWdDb250ZXh0KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBkcmFnRW50ZXIgPSAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xuICAgICAgYy5pbmNyZW1lbnQoKTtcbiAgICAgIHByb3BzLm1vdXNlRW50ZXI/LigpO1xuICAgIH07XG5cbiAgICBjb25zdCBkcmFnTGVhdmUgPSAoKSA9PiB7XG4gICAgICBjLmRlY3JlbWVudCgpO1xuICAgICAgcHJvcHMubW91c2VFeGl0Py4oKTtcbiAgICB9O1xuXG4gICAgcHJvcHMuZm9yd2FyZFJlZi5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIGRyYWdFbnRlcik7XG4gICAgcHJvcHMuZm9yd2FyZFJlZi5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIGRyYWdMZWF2ZSk7XG4gICAgcHJvcHMuZm9yd2FyZFJlZi5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBkcmFnTGVhdmUpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHByb3BzLmZvcndhcmRSZWYuY3VycmVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgZHJhZ0VudGVyKTtcbiAgICAgIHByb3BzLmZvcndhcmRSZWYuY3VycmVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgZHJhZ0xlYXZlKTtcbiAgICAgIHByb3BzLmZvcndhcmRSZWYuY3VycmVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIGRyYWdMZWF2ZSk7XG4gICAgfTtcbiAgfSwgW10pO1xufTtcblxuY29uc3QgVXNlTW91c2VEcmFnRXZlbnRzUm9vdFdpZGdldElubmVyOiBSZWFjdC5GQzxSZWFjdC5Qcm9wc1dpdGhDaGlsZHJlbjxVc2VNb3VzZURyYWdFdmVudHNQcm9wcz4+ID0gKHByb3BzKSA9PiB7XG4gIHVzZU1vdXNlRHJhZ0V2ZW50cyh7XG4gICAgZm9yd2FyZFJlZjogcHJvcHMuZm9yd2FyZFJlZlxuICB9KTtcbiAgcmV0dXJuIHByb3BzLmNoaWxkcmVuIGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCBVc2VNb3VzZURyYWdFdmVudHNSb290V2lkZ2V0OiBSZWFjdC5GQzxSZWFjdC5Qcm9wc1dpdGhDaGlsZHJlbjxVc2VNb3VzZURyYWdFdmVudHNQcm9wcz4+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IGRyYWdDb3VudCA9IHVzZVJlZigwKTtcbiAgcmV0dXJuIChcbiAgICA8RHJvcFpvbmVEcmFnQ29udGV4dC5Qcm92aWRlclxuICAgICAgdmFsdWU9e3tcbiAgICAgICAgaW5jcmVtZW50OiAoKSA9PiB7XG4gICAgICAgICAgZHJhZ0NvdW50LmN1cnJlbnQgPSBkcmFnQ291bnQuY3VycmVudCArIDE7XG4gICAgICAgICAgaWYgKGRyYWdDb3VudC5jdXJyZW50ID4gMCkge1xuICAgICAgICAgICAgcHJvcHMubW91c2VFbnRlcj8uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWNyZW1lbnQ6ICgpID0+IHtcbiAgICAgICAgICBkcmFnQ291bnQuY3VycmVudCA9IGRyYWdDb3VudC5jdXJyZW50IC0gMTtcbiAgICAgICAgICBpZiAoZHJhZ0NvdW50LmN1cnJlbnQgPT09IDApIHtcbiAgICAgICAgICAgIHByb3BzLm1vdXNlRXhpdD8uKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9fVxuICAgID5cbiAgICAgIDxVc2VNb3VzZURyYWdFdmVudHNSb290V2lkZ2V0SW5uZXIgey4uLnByb3BzfT57cHJvcHMuY2hpbGRyZW59PC9Vc2VNb3VzZURyYWdFdmVudHNSb290V2lkZ2V0SW5uZXI+XG4gICAgPC9Ecm9wWm9uZURyYWdDb250ZXh0LlByb3ZpZGVyPlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGxvZyB9IGZyb20gJy4uLy4uLy4uL2NvcmUvdG9vbHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZURyYWdnYWJsZVByb3BzPFQgZXh0ZW5kcyB7IFtrZXk6IHN0cmluZ106IGFueSB9PiB7XG4gIGZvcndhcmRSZWY6IFJlYWN0LlJlZk9iamVjdDxIVE1MRGl2RWxlbWVudD47XG4gIGVuY29kZTogKCkgPT4gVDtcbiAgZHJhZ2VuZDogKG9wdGlvbnM6IHsgY29weTogYm9vbGVhbjsgc3VjY2VzczogYm9vbGVhbiB9KSA9PiBhbnk7XG59XG5cbmV4cG9ydCBjb25zdCB1c2VEcmFnZ2FibGUgPSA8VD4ocHJvcHM6IFVzZURyYWdnYWJsZVByb3BzPFQ+KSA9PiB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZHJhZ1N0YXJ0ID0gKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgY29uc3Qgb2JqZWN0ID0gcHJvcHMuZW5jb2RlKCk7XG4gICAgICBpZiAoIW9iamVjdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIHNob3cgY29weVxuICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbm9uZSc7XG4gICAgICBpZiAoZXZlbnQuYWx0S2V5KSB7XG4gICAgICAgIGxvZyhgZHJhZ2dpbmcgYXMgYSBjb3B5IG9wZXJhdGlvbmApO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdjb3B5JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgICAgfVxuXG4gICAgICAvLyBlbmNvZGUgYWxsIG1pbWUgdHlwZXNcbiAgICAgIGZvciAobGV0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgbG9nKGBzZXR0aW5nIHVwIG1pbWU6ICR7a2V5fWApO1xuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YShrZXksIEpTT04uc3RyaW5naWZ5KG9iamVjdFtrZXldKSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBkcmFnRW5kID0gYXN5bmMgKGV2ZW50OiBEcmFnRXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHByb3BzLmRyYWdlbmQoe1xuICAgICAgICAgIGNvcHk6IGZhbHNlLFxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcm9wcy5kcmFnZW5kKHtcbiAgICAgICAgY29weTogZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPT09ICdjb3B5JyxcbiAgICAgICAgc3VjY2VzczogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHByb3BzLmZvcndhcmRSZWYuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBkcmFnU3RhcnQpO1xuICAgIHByb3BzLmZvcndhcmRSZWYuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgZHJhZ0VuZCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcHJvcHMuZm9yd2FyZFJlZi5jdXJyZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBkcmFnU3RhcnQpO1xuICAgICAgcHJvcHMuZm9yd2FyZFJlZi5jdXJyZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgZHJhZ0VuZCk7XG4gICAgfTtcbiAgfSwgW3Byb3BzLmZvcndhcmRSZWZdKTtcbn07XG5cbmV4cG9ydCBjb25zdCBEcmFnZ2FibGVXaWRnZXQgPSA8VD4ocHJvcHM6IFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPFVzZURyYWdnYWJsZVByb3BzPFQ+PikgPT4ge1xuICB1c2VEcmFnZ2FibGUocHJvcHMpO1xuICByZXR1cm4gcHJvcHMuY2hpbGRyZW4gYXMgSlNYLkVsZW1lbnQ7XG59O1xuIiwiaW1wb3J0IHsgdXNlRHJhZ092ZXIgfSBmcm9tICcuLi9kbmQvdXNlRHJhZ092ZXInO1xuaW1wb3J0IHsgV09SS1NQQUNFX01PREVMX0lEX01JTUUsIFdPUktTUEFDRV9NT0RFTF9NSU1FIH0gZnJvbSAnLi91c2VEcmFnZ2FibGVNb2RlbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlRHJhZ092ZXJNb2RlbFByb3BzIHtcbiAgZm9yd2FyZFJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PjtcbiAgZHJhZ092ZXI/OiAob3B0aW9uczogeyBtb2RlbElEOiBzdHJpbmcgfSkgPT4gYW55O1xuICBhY2NlcHQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgdXNlRHJhZ092ZXJNb2RlbCA9IChwcm9wczogVXNlRHJhZ092ZXJNb2RlbFByb3BzKSA9PiB7XG4gIHVzZURyYWdPdmVyKHtcbiAgICBhY2NlcHRlZFR5cGVzOiBbV09SS1NQQUNFX01PREVMX01JTUVdLFxuICAgIGFjY2VwdDogcHJvcHMuYWNjZXB0LFxuICAgIGRyYWdPdmVyOiAodHlwZXMpID0+IHtcbiAgICAgIGNvbnN0IGZvdW5kID0gdHlwZXMuZmluZCgodCkgPT4gdC5zdGFydHNXaXRoKFdPUktTUEFDRV9NT0RFTF9JRF9NSU1FKSk7XG4gICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlkID0gZm91bmQuc3Vic3RyaW5nKFdPUktTUEFDRV9NT0RFTF9JRF9NSU1FLmxlbmd0aCk7XG4gICAgICBwcm9wcy5kcmFnT3Zlcj8uKHtcbiAgICAgICAgbW9kZWxJRDogaWRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZm9yd2FyZFJlZjogcHJvcHMuZm9yd2FyZFJlZlxuICB9KTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgdXNlRHJhZ092ZXJPcHRpb25zIHtcbiAgZHJhZ092ZXI/OiAodHlwZXM6IHJlYWRvbmx5IHN0cmluZ1tdKSA9PiBhbnk7XG4gIGFjY2VwdGVkVHlwZXM6IHN0cmluZ1tdO1xuICBmb3J3YXJkUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+O1xuICAvKipcbiAgICogV2hldGhlciBvciBub3QgdG8gYWNjZXB0IHRoZSBkcmFnLFxuICAgKiBzZXQgdG8gZmFsc2UgaWYgeW91IGp1c3Qgd2FudCB0aGUgZGF0YSBidXQgZG9uJ3Qgd2FudCB0byBhY2NlcHQgdGhlIGRyYWdcbiAgICovXG4gIGFjY2VwdD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCB1c2VEcmFnT3ZlciA9IChwcm9wczogdXNlRHJhZ092ZXJPcHRpb25zKSA9PiB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZHJhZ092ZXIgPSAoZXZlbnQ6IERyYWdFdmVudCkgPT4ge1xuICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50LmRhdGFUcmFuc2Zlci50eXBlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAvLyBhbGxvdyB0aGUgZWZmZWN0IGlmIHdlIGZpbmQgc29tZXRoaW5nIHRoYXQgbWF0Y2hlc1xuICAgICAgICBpZiAocHJvcHMuYWNjZXB0ZWRUeXBlcy5zb21lKCh0eXBlKSA9PiBldmVudC5kYXRhVHJhbnNmZXIudHlwZXNbaV0uc3RhcnRzV2l0aCh0eXBlIGFzIHN0cmluZykpKSB7XG4gICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvcHMuYWNjZXB0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICAvLyBldmVudC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJztcbiAgICAgIHByb3BzLmRyYWdPdmVyPy4oZXZlbnQuZGF0YVRyYW5zZmVyLnR5cGVzKTtcbiAgICB9O1xuXG4gICAgcHJvcHMuZm9yd2FyZFJlZi5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgZHJhZ092ZXIpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHByb3BzLmZvcndhcmRSZWYuY3VycmVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCBkcmFnT3Zlcik7XG4gICAgfTtcbiAgfSwgW3Byb3BzLmZvcndhcmRSZWZdKTtcbn07XG4iLCJpbXBvcnQgeyBXb3Jrc3BhY2VFbmdpbmUgfSBmcm9tICcuLi8uLi8uLi9jb3JlL1dvcmtzcGFjZUVuZ2luZSc7XG5pbXBvcnQgeyB1c2VEcm9wcGFibGUgfSBmcm9tICcuLi9kbmQvdXNlRHJvcHBhYmxlJztcbmltcG9ydCB7IFNlcmlhbGl6ZWRNb2RlbCwgV29ya3NwYWNlTW9kZWwgfSBmcm9tICcuLi8uLi8uLi9jb3JlLW1vZGVscy9Xb3Jrc3BhY2VNb2RlbCc7XG5pbXBvcnQgeyB1c2VEcmFnZ2FibGUgfSBmcm9tICcuLi9kbmQvdXNlRHJhZ2dhYmxlJztcbmltcG9ydCB7IGxvZywgcmVnZW5lcmF0ZUlEcyB9IGZyb20gJy4uLy4uLy4uL2NvcmUvdG9vbHMnO1xuaW1wb3J0IHsgdXNlRHJhZ092ZXJNb2RlbCB9IGZyb20gJy4vdXNlRHJhZ092ZXJNb2RlbCc7XG5cbmV4cG9ydCBjb25zdCBXT1JLU1BBQ0VfTU9ERUxfTUlNRSA9ICdzcncvbW9kZWwnO1xuZXhwb3J0IGNvbnN0IFdPUktTUEFDRV9NT0RFTF9JRF9NSU1FID0gJ3Nydy9tb2RlbGlkLyc7XG5leHBvcnQgaW50ZXJmYWNlIFdvcmtzcGFjZU1vZGVsRHJhZ0VuY29kZWQge1xuICBbV09SS1NQQUNFX01PREVMX01JTUVdOiBTZXJpYWxpemVkTW9kZWw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlRHJhZ2dhYmxlTW9kZWxPcHRpb25zIHtcbiAgZm9yd2FyZFJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PjtcbiAgbW9kZWw6IFdvcmtzcGFjZU1vZGVsO1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZURyYWdnYWJsZU1vZGVsID0gKHByb3BzOiBVc2VEcmFnZ2FibGVNb2RlbE9wdGlvbnMpID0+IHtcbiAgdXNlRHJhZ2dhYmxlPFdvcmtzcGFjZU1vZGVsRHJhZ0VuY29kZWQ+KHtcbiAgICBlbmNvZGU6ICgpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFtXT1JLU1BBQ0VfTU9ERUxfTUlNRV06IHByb3BzLm1vZGVsLnRvQXJyYXkoKSxcbiAgICAgICAgW1dPUktTUEFDRV9NT0RFTF9JRF9NSU1FICsgcHJvcHMubW9kZWwuaWRdOiBwcm9wcy5tb2RlbC5pZFxuICAgICAgfTtcbiAgICB9LFxuICAgIGRyYWdlbmQ6ICh7IGNvcHksIHN1Y2Nlc3MgfSkgPT4ge1xuICAgICAgaWYgKHN1Y2Nlc3MgJiYgIWNvcHkpIHtcbiAgICAgICAgLy8gaWYgd2UgZ2V0IGhlcmUsIHRoZW4gdGhlIGRyb3Agd2FzIG9uIGEgZGlmZmVyZW50IHdpbmRvdywgc28gd2Ugc2hvdWxkIHJlbW92ZSB0aGUgZWxlbWVudFxuICAgICAgICBpZiAoIXByb3BzLmVuZ2luZS5kcmFnZ2luZ0lEKSB7XG4gICAgICAgICAgcHJvcHMubW9kZWwuZGVsZXRlKCk7XG4gICAgICAgICAgcHJvcHMuZW5naW5lLm5vcm1hbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcm9wcy5lbmdpbmUuc2V0RHJhZ2dpbmdOb2RlKG51bGwpO1xuICAgIH0sXG4gICAgZm9yd2FyZFJlZjogcHJvcHMuZm9yd2FyZFJlZlxuICB9KTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlRHJvcHBhYmxlTW9kZWxPcHRpb25zIHtcbiAgZm9yd2FyZFJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PjtcbiAgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmU7XG4gIG9uRHJvcDogKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCkgPT4gYW55O1xuICBvbkRyYWdvdmVyPzogKG9wdGlvbnM6IHsgbW9kZWxJRDogc3RyaW5nIH0pID0+IGFueTtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZURyb3BwYWJsZU1vZGVsID0gKHByb3BzOiBVc2VEcm9wcGFibGVNb2RlbE9wdGlvbnMpID0+IHtcbiAgdXNlRHJhZ092ZXJNb2RlbCh7XG4gICAgZHJhZ092ZXI6IHByb3BzLm9uRHJhZ292ZXIsXG4gICAgZm9yd2FyZFJlZjogcHJvcHMuZm9yd2FyZFJlZixcbiAgICBhY2NlcHQ6IHRydWVcbiAgfSk7XG4gIHVzZURyb3BwYWJsZTxXb3Jrc3BhY2VNb2RlbERyYWdFbmNvZGVkPih7XG4gICAgZHJvcHBlZDogKG1vZGVsLCBvcHRzKSA9PiB7XG4gICAgICBjb25zdCBmYWN0b3J5ID0gcHJvcHMuZW5naW5lLmdldEZhY3RvcnkobW9kZWxbV09SS1NQQUNFX01PREVMX01JTUVdLnR5cGUpO1xuICAgICAgbGV0IGRyYWdnaW5nTm9kZSA9IGZhY3RvcnkuZ2VuZXJhdGVNb2RlbCgpO1xuICAgICAgZHJhZ2dpbmdOb2RlLmZyb21BcnJheShtb2RlbFtXT1JLU1BBQ0VfTU9ERUxfTUlNRV0sIHByb3BzLmVuZ2luZSk7XG5cbiAgICAgIC8vIHJlY3Vyc2l2ZWx5IHVwZGF0ZSBtb2RlbHMgYmVjYXVzZSB0aGlzIGlzIGEgY2xvbmUgb3BlcmF0aW9uXG4gICAgICBpZiAob3B0cy5pc0NvcHkpIHtcbiAgICAgICAgbG9nKGB3YXMgYSBjb3B5IG9wZXJhdGlvbiwgcmVnZW5lcmF0aW5nIGlkc2ApO1xuICAgICAgICByZWdlbmVyYXRlSURzKGRyYWdnaW5nTm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmb3VuZCA9IHByb3BzLmVuZ2luZS5yb290TW9kZWwuZmxhdHRlbigpLmZpbmQoKG0pID0+IG0uaWQgPT09IGRyYWdnaW5nTm9kZS5pZCk7XG4gICAgICAgIGRyYWdnaW5nTm9kZSA9IGZvdW5kIHx8IGRyYWdnaW5nTm9kZTtcbiAgICAgIH1cblxuICAgICAgbG9nKGB3b3Jrc3BhY2UgbW9kZWwgZHJvcHBlZGAsIGRyYWdnaW5nTm9kZSk7XG4gICAgICBwcm9wcy5vbkRyb3AoZHJhZ2dpbmdOb2RlKTtcbiAgICB9LFxuICAgIGZvcndhcmRSZWY6IHByb3BzLmZvcndhcmRSZWZcbiAgfSk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbG9nLCBNb3VzZVBvc2l0aW9uIH0gZnJvbSAnLi4vLi4vLi4vY29yZS90b29scyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlRHJvcHBhYmxlT3B0aW9uczxUIGV4dGVuZHMgeyBba2V5OiBzdHJpbmddOiBhbnkgfT4ge1xuICBkcm9wcGVkPzogKGVudGl0eTogVCwgdHJhaXRzOiB7IHBvc2l0aW9uOiBNb3VzZVBvc2l0aW9uOyBpc0NvcHk6IGJvb2xlYW4gfSkgPT4gYW55O1xuICBmb3J3YXJkUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+O1xufVxuXG5leHBvcnQgY29uc3QgdXNlRHJvcHBhYmxlID0gPFQ+KHByb3BzOiBVc2VEcm9wcGFibGVPcHRpb25zPFQ+KSA9PiB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZHJvcCA9IGFzeW5jIChldmVudDogRHJhZ0V2ZW50KSA9PiB7XG4gICAgICBsZXQgcmVzID0ge307XG4gICAgICBmb3IgKGxldCB0eXBlIG9mIGV2ZW50LmRhdGFUcmFuc2Zlci50eXBlcykge1xuICAgICAgICBsZXQgZGF0YSA9IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKHR5cGUgYXMgc3RyaW5nKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXNbdHlwZSBhcyBzdHJpbmddID0gSlNPTi5wYXJzZShkYXRhKSBhcyBUO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIGRlc2VyaWFsaXplIGRyYWdnYWJsZSBvYmplY3RgLCBleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxvZyhgZHJvcHBlZCBkYXRhOmAsIHJlcyk7XG4gICAgICBwcm9wcy5kcm9wcGVkKHJlcyBhcyBULCB7XG4gICAgICAgIHBvc2l0aW9uOiBldmVudCxcbiAgICAgICAgaXNDb3B5OiBldmVudC5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9PT0gJ2NvcHknXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcHJvcHMuZm9yd2FyZFJlZi5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBkcm9wKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBwcm9wcy5mb3J3YXJkUmVmLmN1cnJlbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBkcm9wKTtcbiAgICB9O1xuICB9LCBbcHJvcHMuZm9yd2FyZFJlZl0pO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUZvcmNlVXBkYXRlIH0gZnJvbSAnLi4vaG9va3MvdXNlRm9yY2VVcGRhdGUnO1xuaW1wb3J0IHsgRGltZW5zaW9uQ29udGFpbmVyLCBJRGltZW5zaW9uIH0gZnJvbSAnLi4vLi4vY29yZS9kaW1lbnNpb25zL0RpbWVuc2lvbkNvbnRhaW5lcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGltZW5zaW9uVHJhY2tpbmdXaWRnZXRQcm9wcyB7XG4gIGRpbWVuc2lvbjogRGltZW5zaW9uQ29udGFpbmVyO1xuICBjbGFzc05hbWU/OiBhbnk7XG4gIGFuaW1hdGVEdXJhdGlvbj86IG51bWJlcjtcbiAgZm9yd2FyZFJlZj86IFJlYWN0LlJlZk9iamVjdDxIVE1MRGl2RWxlbWVudD47XG59XG5cbmV4cG9ydCBjb25zdCBEaW1lbnNpb25UcmFja2luZ1dpZGdldDogUmVhY3QuRkM8UmVhY3QuUHJvcHNXaXRoQ2hpbGRyZW48RGltZW5zaW9uVHJhY2tpbmdXaWRnZXRQcm9wcz4+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gcHJvcHMuZGltZW5zaW9uLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgdXBkYXRlZDogKCkgPT4ge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbcHJvcHMuZGltZW5zaW9uXSk7XG4gIHJldHVybiAoXG4gICAgPFMuQ29udGFpbmVyXG4gICAgICByZWY9e3Byb3BzLmZvcndhcmRSZWZ9XG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX1cbiAgICAgIGQ9e3Byb3BzLmRpbWVuc2lvbi5kaW1lbnNpb25zfVxuICAgICAgYW5pbWF0ZT17cHJvcHMuYW5pbWF0ZUR1cmF0aW9uIHx8IDB9XG4gICAgPlxuICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgIDwvUy5Db250YWluZXI+XG4gICk7XG59O1xuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2PHsgZDogSURpbWVuc2lvbjsgYW5pbWF0ZTogbnVtYmVyIH0+YFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogJHsocCkgPT4gcC5kLndpZHRofXB4O1xuICAgIGhlaWdodDogJHsocCkgPT4gcC5kLmhlaWdodH1weDtcbiAgICB0b3A6ICR7KHApID0+IHAuZC50b3B9cHg7XG4gICAgbGVmdDogJHsocCkgPT4gcC5kLmxlZnR9cHg7XG4gICAgJHsocCkgPT4gKHAuYW5pbWF0ZSA+IDAgPyBgdHJhbnNpdGlvbjogdG9wICR7cC5hbmltYXRlfW1zLCBsZWZ0ICR7cC5hbmltYXRlfW1zYCA6ICcnKX07XG4gIGA7XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IHVzZVJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnLi4vaG9va3MvdXNlUmVzaXplT2JzZXJ2ZXInO1xuaW1wb3J0IHsgV29ya3NwYWNlRW5naW5lIH0gZnJvbSAnLi4vLi4vY29yZS9Xb3Jrc3BhY2VFbmdpbmUnO1xuaW1wb3J0IHsgUmVzaXplRGltZW5zaW9uQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vZW50aXRpZXMvbm9kZS9SZXNpemVEaW1lbnNpb25Db250YWluZXInO1xuaW1wb3J0IHsgdXNlRm9yY2VVcGRhdGUgfSBmcm9tICcuLi9ob29rcy91c2VGb3JjZVVwZGF0ZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGl2aWRlcldpZGdldFByb3BzIHtcbiAgZGltZW5zaW9uQ29udGFpbmVyOiBSZXNpemVEaW1lbnNpb25Db250YWluZXI7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xuICB0aGlja25lc3M/OiBudW1iZXI7XG4gIGhvdmVyQ29sb3I6IHN0cmluZztcbiAgYWN0aXZlQ29sb3I6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IERpdmlkZXJXaWRnZXQ6IFJlYWN0LkZDPERpdmlkZXJXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlKCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gcHJvcHMuZGltZW5zaW9uQ29udGFpbmVyLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgYWN0aXZlQ2hhbmdlZDogKCkgPT4ge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIGhvdmVyQ2hhbmdlZDogKCkgPT4ge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgdXNlUmVzaXplT2JzZXJ2ZXIoe1xuICAgIGZvcndhcmRSZWY6IHJlZixcbiAgICBkaW1lbnNpb246IHByb3BzLmRpbWVuc2lvbkNvbnRhaW5lcixcbiAgICBlbmdpbmU6IHByb3BzLmVuZ2luZVxuICB9KTtcbiAgcmV0dXJuIChcbiAgICA8Uy5Db250YWluZXJcbiAgICAgIGhvdmVyQ29sb3I9e3Byb3BzLmhvdmVyQ29sb3J9XG4gICAgICBhY3RpdmVDb2xvcj17cHJvcHMuYWN0aXZlQ29sb3J9XG4gICAgICBob3Zlcj17cHJvcHMuZGltZW5zaW9uQ29udGFpbmVyLmhvdmVyfVxuICAgICAgYWN0aXZlPXtwcm9wcy5kaW1lbnNpb25Db250YWluZXIuYWN0aXZlfVxuICAgICAgdGhpY2tuZXNzPXtwcm9wcy50aGlja25lc3MgPz8gNH1cbiAgICAgIHJlZj17cmVmfVxuICAgID48L1MuQ29udGFpbmVyPlxuICApO1xufTtcbm5hbWVzcGFjZSBTIHtcbiAgZXhwb3J0IGNvbnN0IENvbnRhaW5lciA9IHN0eWxlZC5kaXY8e1xuICAgIHRoaWNrbmVzczogbnVtYmVyO1xuICAgIGhvdmVyOiBib29sZWFuO1xuICAgIGFjdGl2ZTogYm9vbGVhbjtcbiAgICBob3ZlckNvbG9yOiBzdHJpbmc7XG4gICAgYWN0aXZlQ29sb3I6IHN0cmluZztcbiAgfT5gXG4gICAgbWluLXdpZHRoOiA0cHg7XG4gICAgbWluLWhlaWdodDogNHB4O1xuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4ycztcbiAgICB0cmFuc2l0aW9uLWRlbGF5OiA1MG1zO1xuICAgICR7KHApID0+IChwLmhvdmVyID8gYGJhY2tncm91bmQ6ICR7cC5ob3ZlckNvbG9yfWAgOiAnJyl9O1xuICAgICR7KHApID0+IChwLmFjdGl2ZSA/IGBiYWNrZ3JvdW5kOiAke3AuYWN0aXZlQ29sb3J9YCA6ICcnKX07XG4gIGA7XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VFbmdpbmUgfSBmcm9tICcuLi8uLi9jb3JlL1dvcmtzcGFjZUVuZ2luZSc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJy4uLy4uL2NvcmUtbW9kZWxzL1dvcmtzcGFjZU1vZGVsJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRHJhZ2dhYmxlTW9kZWwgfSBmcm9tICcuLi9ob29rcy9kbmQtbW9kZWwvdXNlRHJhZ2dhYmxlTW9kZWwnO1xuaW1wb3J0IHsgdXNlRm9yY2VVcGRhdGUgfSBmcm9tICcuLi9ob29rcy91c2VGb3JjZVVwZGF0ZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJhZ2dhYmxlV2lkZ2V0UHJvcHMge1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbiAgbW9kZWw6IFdvcmtzcGFjZU1vZGVsO1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIG9uQ2xpY2s/OiAoKSA9PiBhbnk7XG4gIGZvcndhcmRSZWY/OiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+O1xufVxuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBEcmFnZ2FibGUgPSBzdHlsZWQuZGl2PHsgZHJhZ2dhYmxlOiBib29sZWFuIH0+YFxuICAgIGN1cnNvcjogJHsocCkgPT4gKHAuZHJhZ2dhYmxlID8gJ21vdmUnIDogJ3BvaW50ZXInKX07XG4gIGA7XG59XG5cbmV4cG9ydCBjb25zdCBEcmFnZ2FibGVXaWRnZXQ6IFJlYWN0LkZDPFJlYWN0LlByb3BzV2l0aENoaWxkcmVuPERyYWdnYWJsZVdpZGdldFByb3BzPj4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlKCk7XG4gIHVzZURyYWdnYWJsZU1vZGVsKHtcbiAgICBmb3J3YXJkUmVmOiBwcm9wcy5mb3J3YXJkUmVmIHx8IHJlZixcbiAgICBtb2RlbDogcHJvcHMubW9kZWwsXG4gICAgZW5naW5lOiBwcm9wcy5lbmdpbmVcbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuIHByb3BzLmVuZ2luZS5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIGxvY2tVcGRhdGVkOiAoKSA9PiB7XG4gICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxTLkRyYWdnYWJsZVxuICAgICAgcmVmPXtwcm9wcy5mb3J3YXJkUmVmIHx8IHJlZn1cbiAgICAgIGRyYWdnYWJsZT17IXByb3BzLmVuZ2luZS5sb2NrZWR9XG4gICAgICBvbkRyYWdTdGFydD17KGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChwcm9wcy5lbmdpbmUubG9ja2VkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHByb3BzLmVuZ2luZS5pdGVyYXRlTGlzdGVuZXJzKChsaXN0KSA9PiB7XG4gICAgICAgICAgbGlzdC5kcmFnZ2luZ0VsZW1lbnQgJiYgbGlzdC5kcmFnZ2luZ0VsZW1lbnQocHJvcHMubW9kZWwsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgIH19XG4gICAgICBvbkRyYWdFbmQ9eyhldmVudCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMuZW5naW5lLmxvY2tlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwcm9wcy5lbmdpbmUuaXRlcmF0ZUxpc3RlbmVycygobGlzdCkgPT4ge1xuICAgICAgICAgIGxpc3QuZHJhZ2dpbmdFbGVtZW50ICYmIGxpc3QuZHJhZ2dpbmdFbGVtZW50KHByb3BzLm1vZGVsLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfX1cbiAgICAgIHsuLi5wcm9wc31cbiAgICA+XG4gICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgPC9TLkRyYWdnYWJsZT5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VFbmdpbmUgfSBmcm9tICcuLi8uLi9jb3JlL1dvcmtzcGFjZUVuZ2luZSc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJy4uLy4uL2NvcmUtbW9kZWxzL1dvcmtzcGFjZU1vZGVsJztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZURyb3BwYWJsZU1vZGVsIH0gZnJvbSAnLi4vaG9va3MvZG5kLW1vZGVsL3VzZURyYWdnYWJsZU1vZGVsJztcbmltcG9ydCB7IHVzZU1vdXNlRHJhZ0V2ZW50cyB9IGZyb20gJy4uL2hvb2tzL2RuZC91c2VNb3VzZURyYWdFdmVudHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERyb3B6b25lTG9naWNXaWRnZXRQcm9wcyB7XG4gIG9uRHJvcDogKG1vZGVsPzogV29ya3NwYWNlTW9kZWwpID0+IGFueTtcbiAgb25EcmFnRW50ZXI6IChlbnRlcmVkOiBib29sZWFuKSA9PiBhbnk7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xuICBjbGFzc05hbWU/O1xufVxuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2YGA7XG59XG5cbmV4cG9ydCBjb25zdCBEcm9wem9uZUxvZ2ljV2lkZ2V0OiBSZWFjdC5GQzxSZWFjdC5Qcm9wc1dpdGhDaGlsZHJlbjxEcm9wem9uZUxvZ2ljV2lkZ2V0UHJvcHM+PiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBbZW50ZXIsIHNldEVudGVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuICB1c2VEcm9wcGFibGVNb2RlbCh7XG4gICAgb25Ecm9wOiAobW9kZWwpID0+IHtcbiAgICAgIHByb3BzLm9uRHJvcChtb2RlbCk7XG4gICAgfSxcbiAgICBlbmdpbmU6IHByb3BzLmVuZ2luZSxcbiAgICBmb3J3YXJkUmVmOiByZWZcbiAgfSk7XG4gIHVzZU1vdXNlRHJhZ0V2ZW50cyh7XG4gICAgZm9yd2FyZFJlZjogcmVmLFxuICAgIG1vdXNlRW50ZXI6ICgpID0+IHtcbiAgICAgIHNldEVudGVyKHRydWUpO1xuICAgIH0sXG4gICAgbW91c2VFeGl0OiAoKSA9PiB7XG4gICAgICBzZXRFbnRlcihmYWxzZSk7XG4gICAgfVxuICB9KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBwcm9wcy5vbkRyYWdFbnRlcihlbnRlcik7XG4gIH0sIFtlbnRlcl0pO1xuXG4gIHJldHVybiAoXG4gICAgPFMuQ29udGFpbmVyIHJlZj17cmVmfSBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICB7cHJvcHMuY2hpbGRyZW59XG4gICAgPC9TLkNvbnRhaW5lcj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgeyBCYXNlTGlzdGVuZXIsIEJhc2VPYnNlcnZlciB9IGZyb20gJy4uLy4uL2NvcmUvQmFzZU9ic2VydmVyJztcbmltcG9ydCB7IHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VFbmdpbmUgfSBmcm9tICcuLi8uLi9jb3JlL1dvcmtzcGFjZUVuZ2luZSc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJy4uLy4uL2NvcmUtbW9kZWxzL1dvcmtzcGFjZU1vZGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBMYXllckxpc3RlbmVyIGV4dGVuZHMgQmFzZUxpc3RlbmVyIHtcbiAgcmVtb3ZlZDogKCkgPT4gYW55O1xuICBtb3ZlVG9Ub3A6ICgpID0+IGFueTtcbiAgcmVwYWludDogKCkgPT4gYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckxheWVyRXZlbnQge1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbiAgbW9kZWw6IFdvcmtzcGFjZU1vZGVsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExheWVyT3B0aW9ucyB7XG4gIG1vdXNlRXZlbnRzOiBib29sZWFuO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGF5ZXI8VCBleHRlbmRzIExheWVyTGlzdGVuZXIgPSBMYXllckxpc3RlbmVyPiBleHRlbmRzIEJhc2VPYnNlcnZlcjxUPiB7XG4gIGlkOiBzdHJpbmc7XG4gIGxheWVyTWFuYWdlcjogTGF5ZXJNYW5hZ2VyO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBvcHRpb25zOiBMYXllck9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaWQgPSB2NCgpO1xuICAgIHRoaXMubGF5ZXJNYW5hZ2VyID0gbnVsbDtcbiAgfVxuXG4gIGFic3RyYWN0IHJlbmRlckxheWVyKGV2ZW50OiBSZW5kZXJMYXllckV2ZW50KTogSlNYLkVsZW1lbnQ7XG5cbiAgc2V0TGF5ZXJNYW5hZ2VyKG1hbmFnZXI6IExheWVyTWFuYWdlcikge1xuICAgIHRoaXMubGF5ZXJNYW5hZ2VyID0gbWFuYWdlcjtcbiAgfVxuXG4gIGlzSW5zZXJ0ZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5sYXllck1hbmFnZXI7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChjYikgPT4gY2IucmVtb3ZlZD8uKCkpO1xuICB9XG5cbiAgbW92ZVRvVG9wKCkge1xuICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLm1vdmVUb1RvcD8uKCkpO1xuICB9XG5cbiAgcmVwYWludCgpIHtcbiAgICB0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGNiKSA9PiBjYi5yZXBhaW50Py4oKSk7XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBMYXllck1hbmFnZXJMaXN0ZW5lciBleHRlbmRzIEJhc2VMaXN0ZW5lciB7XG4gIGxheWVyc0NoYW5nZWQ6ICgpID0+IGFueTtcbiAgbGF5ZXJBZGRlZDogKCkgPT4gYW55O1xufVxuXG5leHBvcnQgY2xhc3MgTGF5ZXJNYW5hZ2VyIGV4dGVuZHMgQmFzZU9ic2VydmVyPExheWVyTWFuYWdlckxpc3RlbmVyPiB7XG4gIHByaXZhdGUgX2xheWVyczogU2V0PExheWVyPjtcblxuICBpbml0aWFsWkluZGV4OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9sYXllcnMgPSBuZXcgU2V0KCk7XG4gICAgdGhpcy5pbml0aWFsWkluZGV4ID0gMTtcbiAgfVxuXG4gIHNldEluaXRpYWxaSW5kZXgoaW5kZXg6IG51bWJlcikge1xuICAgIGlmIChpbmRleCA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW5kZXggbXVzdCBiZSA+IDAnKTtcbiAgICB9XG4gICAgdGhpcy5pbml0aWFsWkluZGV4ID0gaW5kZXg7XG4gICAgdGhpcy5maXJlVXBkYXRlZCgpO1xuICB9XG5cbiAgZ2V0IGxheWVycygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9sYXllcnMudmFsdWVzKCkpO1xuICB9XG5cbiAgZmlyZVVwZGF0ZWQoKSB7XG4gICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChjYikgPT4gY2IubGF5ZXJzQ2hhbmdlZD8uKCkpO1xuICB9XG5cbiAgYWRkTGF5ZXIobGF5ZXI6IExheWVyKSB7XG4gICAgbGF5ZXIuc2V0TGF5ZXJNYW5hZ2VyKHRoaXMpO1xuICAgIHRoaXMuX2xheWVycy5hZGQobGF5ZXIpO1xuICAgIGNvbnN0IGwgPSBsYXllci5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIHJlbW92ZWQ6ICgpID0+IHtcbiAgICAgICAgdGhpcy5fbGF5ZXJzLmRlbGV0ZShsYXllcik7XG4gICAgICAgIGxheWVyLnNldExheWVyTWFuYWdlcihudWxsKTtcbiAgICAgICAgbCgpO1xuICAgICAgICB0aGlzLmZpcmVVcGRhdGVkKCk7XG4gICAgICB9LFxuICAgICAgbW92ZVRvVG9wOiAoKSA9PiB7XG4gICAgICAgIC8vIHJlbW92ZSBmcm9tIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgdGhpcy5fbGF5ZXJzLmRlbGV0ZShsYXllcik7XG5cbiAgICAgICAgLy8gYWRkIHRvIHRoZSB0b3BcbiAgICAgICAgdGhpcy5fbGF5ZXJzLmFkZChsYXllcik7XG4gICAgICAgIHRoaXMuZmlyZVVwZGF0ZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGNiKSA9PiBjYi5sYXllckFkZGVkPy4oKSk7XG4gICAgdGhpcy5maXJlVXBkYXRlZCgpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBPcmRlcmluZ0xheWVyIH0gZnJvbSAnLi9PcmRlcmluZ0xheWVyJztcbmltcG9ydCB7IERpbWVuc2lvblRyYWNraW5nV2lkZ2V0IH0gZnJvbSAnLi4vLi4vcHJpbWl0aXZlcy9EaW1lbnNpb25UcmFja2luZ1dpZGdldCc7XG5pbXBvcnQgeyBEaW1lbnNpb25Db250YWluZXIgfSBmcm9tICcuLi8uLi8uLi9jb3JlL2RpbWVuc2lvbnMvRGltZW5zaW9uQ29udGFpbmVyJztcbmltcG9ydCB7IHVzZURyYWdPdmVyTW9kZWwgfSBmcm9tICcuLi8uLi9ob29rcy9kbmQtbW9kZWwvdXNlRHJhZ092ZXJNb2RlbCc7XG5pbXBvcnQgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VNb3VzZURyYWdFdmVudHMgfSBmcm9tICcuLi8uLi9ob29rcy9kbmQvdXNlTW91c2VEcmFnRXZlbnRzJztcbmltcG9ydCB7IHVzZURyb3BwYWJsZU1vZGVsIH0gZnJvbSAnLi4vLi4vaG9va3MvZG5kLW1vZGVsL3VzZURyYWdnYWJsZU1vZGVsJztcbmltcG9ydCB7IFdvcmtzcGFjZUVuZ2luZSB9IGZyb20gJy4uLy4uLy4uL2NvcmUvV29ya3NwYWNlRW5naW5lJztcblxuZXhwb3J0IGludGVyZmFjZSBPcmRlcmluZ0xheWVyV2lkZ2V0RGl2aWRlclByb3BzIHtcbiAgbGF5ZXI6IE9yZGVyaW5nTGF5ZXI7XG4gIGRpbWVuc2lvbjogRGltZW5zaW9uQ29udGFpbmVyO1xuICBpbmRleDogbnVtYmVyO1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbn1cblxuZXhwb3J0IGNvbnN0IE9yZGVyaW5nTGF5ZXJXaWRnZXREaXZpZGVyOiBSZWFjdC5GQzxPcmRlcmluZ0xheWVyV2lkZ2V0RGl2aWRlclByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCByZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KCk7XG4gIHVzZU1vdXNlRHJhZ0V2ZW50cyh7XG4gICAgZm9yd2FyZFJlZjogcmVmLFxuICAgIG1vdXNlRW50ZXI6ICgpID0+IHtcbiAgICAgIHByb3BzLmxheWVyLnpvbmVFbnRlcmVkKHByb3BzLmluZGV4KTtcbiAgICB9LFxuICAgIG1vdXNlRXhpdDogKCkgPT4ge1xuICAgICAgcHJvcHMubGF5ZXIuem9uZUVudGVyZWQobnVsbCk7XG4gICAgfVxuICB9KTtcbiAgdXNlRHJvcHBhYmxlTW9kZWwoe1xuICAgIGVuZ2luZTogcHJvcHMuZW5naW5lLFxuICAgIGZvcndhcmRSZWY6IHJlZixcbiAgICBvbkRyb3A6IChtb2RlbCkgPT4ge1xuICAgICAgcHJvcHMubGF5ZXIuZHJvcHBlZChtb2RlbCwgcHJvcHMuaW5kZXgpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiAoXG4gICAgPERpbWVuc2lvblRyYWNraW5nV2lkZ2V0IGRpbWVuc2lvbj17cHJvcHMuZGltZW5zaW9ufT5cbiAgICAgIDxTLkNvbnRhaW5lciByZWY9e3JlZn0+PC9TLkNvbnRhaW5lcj5cbiAgICA8L0RpbWVuc2lvblRyYWNraW5nV2lkZ2V0PlxuICApO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBPcmRlcmluZ0xheWVyV2lkZ2V0UHJvcHMge1xuICBsYXllcjogT3JkZXJpbmdMYXllcjtcbiAgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmU7XG59XG5cbmV4cG9ydCBjb25zdCBPcmRlcmluZ0xheWVyV2lkZ2V0OiBSZWFjdC5GQzxPcmRlcmluZ0xheWVyV2lkZ2V0UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIHtwcm9wcy5sYXllci50cmFja2Vycy5tYXAoKGMsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPE9yZGVyaW5nTGF5ZXJXaWRnZXREaXZpZGVyXG4gICAgICAgICAgICBlbmdpbmU9e3Byb3BzLmVuZ2luZX1cbiAgICAgICAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgICAgICAgIGtleT17Yy5pZH1cbiAgICAgICAgICAgIGRpbWVuc2lvbj17Y31cbiAgICAgICAgICAgIGxheWVyPXtwcm9wcy5sYXllcn1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfSl9XG4gICAgPC8+XG4gICk7XG59O1xubmFtZXNwYWNlIFMge1xuICBleHBvcnQgY29uc3QgQ29udGFpbmVyID0gc3R5bGVkLmRpdmBcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAtNXB4O1xuICAgIGJvdHRvbTogLTVweDtcbiAgICBsZWZ0OiAtNXB4O1xuICAgIHJpZ2h0OiAtNXB4O1xuICAgIC8vYmFja2dyb3VuZDogbWVkaXVtcHVycGxlO1xuICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG4gIGA7XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBMYXllciwgTGF5ZXJMaXN0ZW5lciwgUmVuZGVyTGF5ZXJFdmVudCB9IGZyb20gJy4uL0xheWVyTWFuYWdlcic7XG5pbXBvcnQgeyBEaW1lbnNpb25Db250YWluZXIgfSBmcm9tICcuLi8uLi8uLi9jb3JlL2RpbWVuc2lvbnMvRGltZW5zaW9uQ29udGFpbmVyJztcbmltcG9ydCB7IFdvcmtzcGFjZU1vZGVsIH0gZnJvbSAnLi4vLi4vLi4vY29yZS1tb2RlbHMvV29ya3NwYWNlTW9kZWwnO1xuaW1wb3J0IHsgT3JkZXJpbmdMYXllcldpZGdldCB9IGZyb20gJy4vT3JkZXJpbmdMYXllcldpZGdldCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3JkZXJpbmdMYXllckxpc3RlbmVyIGV4dGVuZHMgTGF5ZXJMaXN0ZW5lciB7XG4gIGVudGVyZWRab25lOiAoem9uZTogbnVtYmVyIHwgbnVsbCkgPT4gYW55O1xuICBkcm9wcGVkOiAobW9kZWw6IFdvcmtzcGFjZU1vZGVsLCBpbmRleDogbnVtYmVyKSA9PiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3JkZXJpbmdMYXllck9wdGlvbnMge1xuICB0cmFja2VyczogRGltZW5zaW9uQ29udGFpbmVyW107XG59XG5cbmV4cG9ydCBjbGFzcyBPcmRlcmluZ0xheWVyIGV4dGVuZHMgTGF5ZXI8T3JkZXJpbmdMYXllckxpc3RlbmVyPiB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBvcHRpb25zMjogT3JkZXJpbmdMYXllck9wdGlvbnMpIHtcbiAgICBzdXBlcih7XG4gICAgICBtb3VzZUV2ZW50czogZmFsc2VcbiAgICB9KTtcbiAgfVxuXG4gIGdldCB0cmFja2VycygpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zMi50cmFja2VycztcbiAgfVxuXG4gIHpvbmVFbnRlcmVkKG51bWJlcjogbnVtYmVyIHwgbnVsbCkge1xuICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLmVudGVyZWRab25lPy4obnVtYmVyKSk7XG4gIH1cblxuICBkcm9wcGVkKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCwgaW5kZXg6IG51bWJlcikge1xuICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLmRyb3BwZWQ/Lihtb2RlbCwgaW5kZXgpKTtcbiAgfVxuXG4gIHJlbmRlckxheWVyKGV2ZW50OiBSZW5kZXJMYXllckV2ZW50KTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8T3JkZXJpbmdMYXllcldpZGdldCBlbmdpbmU9e2V2ZW50LmVuZ2luZX0gbGF5ZXI9e3RoaXN9IC8+O1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBPcmRlcmluZ0xheWVyIH0gZnJvbSAnLi9PcmRlcmluZ0xheWVyJztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFdvcmtzcGFjZUVuZ2luZSB9IGZyb20gJy4uLy4uLy4uL2NvcmUvV29ya3NwYWNlRW5naW5lJztcbmltcG9ydCB7IERpbWVuc2lvbkNvbnRhaW5lciB9IGZyb20gJy4uLy4uLy4uL2NvcmUvZGltZW5zaW9ucy9EaW1lbnNpb25Db250YWluZXInO1xuaW1wb3J0IHsgdXNlUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICcuLi8uLi9ob29rcy91c2VSZXNpemVPYnNlcnZlcic7XG5pbXBvcnQgeyBXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJy4uLy4uLy4uL2NvcmUtbW9kZWxzL1dvcmtzcGFjZU1vZGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBPcmRlcmluZ1dpZGdldFpvbmVQcm9wcyB7XG4gIGluZGV4OiBudW1iZXI7XG4gIGxheWVyOiBPcmRlcmluZ0xheWVyO1xuICB2ZXJ0aWNhbDogYm9vbGVhbjtcbiAgY29udGFpbmVyOiBEaW1lbnNpb25Db250YWluZXI7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xufVxuXG5leHBvcnQgY29uc3QgT3JkZXJpbmdXaWRnZXRab25lOiBSZWFjdC5GQzxPcmRlcmluZ1dpZGdldFpvbmVQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgW2V4cGFuZCwgc2V0RXhwYW5kXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuICB1c2VSZXNpemVPYnNlcnZlcih7XG4gICAgZm9yd2FyZFJlZjogcmVmLFxuICAgIGRpbWVuc2lvbjogcHJvcHMuY29udGFpbmVyLFxuICAgIGlnbm9yZURlYm91bmNlOiB0cnVlLFxuICAgIGVuZ2luZTogcHJvcHMuZW5naW5lXG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5sYXllci5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIGVudGVyZWRab25lOiAoem9uZSkgPT4ge1xuICAgICAgICBwcm9wcy5jb250YWluZXIuaW52YWxpZGF0ZSgpO1xuICAgICAgICBpZiAoIWV4cGFuZCAmJiB6b25lID09PSBwcm9wcy5pbmRleCkge1xuICAgICAgICAgIHNldEV4cGFuZCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRFeHBhbmQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGFuaW1hdGlvbkVuZCA9ICgpID0+IHtcbiAgICAgIHByb3BzLmxheWVyLnRyYWNrZXJzLmZvckVhY2goKHQpID0+IHtcbiAgICAgICAgdC5pbnZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJlZi5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBhbmltYXRpb25FbmQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZWYuY3VycmVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGFuaW1hdGlvbkVuZCk7XG4gICAgfTtcbiAgfSwgW10pO1xuICBpZiAocHJvcHMudmVydGljYWwpIHtcbiAgICByZXR1cm4gPFMuRXhwYW5kVmVydGljYWwgcmVmPXtyZWZ9IGV4cGFuZD17ZXhwYW5kfSAvPjtcbiAgfVxuICByZXR1cm4gPFMuRXhwYW5kSG9yaXpvbnRhbCByZWY9e3JlZn0gZXhwYW5kPXtleHBhbmR9IC8+O1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBPcmRlcmVkRHJvcEV2ZW50IHtcbiAgbW9kZWw6IFdvcmtzcGFjZU1vZGVsO1xuICBpbmRleDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9yZGVyaW5nV2lkZ2V0UHJvcHMge1xuICBjaGlsZHJlbjogSlNYLkVsZW1lbnRbXTtcbiAgdmVydGljYWw6IGJvb2xlYW47XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xuICBkcm9wcGVkOiAoZXZlbnQ6IE9yZGVyZWREcm9wRXZlbnQpID0+IGFueTtcbn1cblxuZXhwb3J0IGNvbnN0IE9yZGVyaW5nV2lkZ2V0OiBSZWFjdC5GQzxPcmRlcmluZ1dpZGdldFByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBbY29udGFpbmVyc10gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgcmV0dXJuIHByb3BzLmNoaWxkcmVuLm1hcCgoYykgPT4gbmV3IERpbWVuc2lvbkNvbnRhaW5lcigpKS5jb25jYXQobmV3IERpbWVuc2lvbkNvbnRhaW5lcigpKTtcbiAgfSk7XG4gIGNvbnN0IFtsYXllcl0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBPcmRlcmluZ0xheWVyKHtcbiAgICAgIHRyYWNrZXJzOiBjb250YWluZXJzXG4gICAgfSk7XG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGwxID0gbGF5ZXIucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICBkcm9wcGVkOiAobW9kZWwsIGluZGV4KSA9PiB7XG4gICAgICAgIHByb3BzLmRyb3BwZWQoe1xuICAgICAgICAgIGluZGV4LFxuICAgICAgICAgIG1vZGVsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHByb3BzLmVuZ2luZS5sYXllck1hbmFnZXIuYWRkTGF5ZXIobGF5ZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBsMSgpO1xuICAgICAgbGF5ZXIucmVtb3ZlKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8T3JkZXJpbmdXaWRnZXRab25lXG4gICAgICAgIGVuZ2luZT17cHJvcHMuZW5naW5lfVxuICAgICAgICBjb250YWluZXI9e2NvbnRhaW5lcnNbMF19XG4gICAgICAgIGxheWVyPXtsYXllcn1cbiAgICAgICAgdmVydGljYWw9e3Byb3BzLnZlcnRpY2FsfVxuICAgICAgICBpbmRleD17MH1cbiAgICAgIC8+XG4gICAgICB7cHJvcHMuY2hpbGRyZW4ubWFwKChjLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17Y29udGFpbmVyc1tpbmRleCArIDFdPy5pZCB8fCBgJHtpbmRleH1gfT5cbiAgICAgICAgICAgIHtjfVxuICAgICAgICAgICAge2NvbnRhaW5lcnNbaW5kZXggKyAxXSA/IChcbiAgICAgICAgICAgICAgPE9yZGVyaW5nV2lkZ2V0Wm9uZVxuICAgICAgICAgICAgICAgIGVuZ2luZT17cHJvcHMuZW5naW5lfVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcj17Y29udGFpbmVyc1tpbmRleCArIDFdfVxuICAgICAgICAgICAgICAgIGxheWVyPXtsYXllcn1cbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbD17cHJvcHMudmVydGljYWx9XG4gICAgICAgICAgICAgICAgaW5kZXg9e2luZGV4ICsgMX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8Lz5cbiAgKTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgU21hcnRPcmRlcmluZ1dpZGdldFByb3BzIGV4dGVuZHMgT3JkZXJpbmdXaWRnZXRQcm9wcyB7XG4gIGNsYXNzTmFtZT86IGFueTtcbiAgZm9yd2FyZFJlZj86IFJlYWN0LlJlZk9iamVjdDxIVE1MRGl2RWxlbWVudD47XG59XG5cbmV4cG9ydCBjb25zdCBTbWFydE9yZGVyaW5nV2lkZ2V0OiBSZWFjdC5GQzxTbWFydE9yZGVyaW5nV2lkZ2V0UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IFtkcmFnZ2luZywgc2V0RHJhZ2dpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5lbmdpbmUucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICBtb2RlbERyYWdTdGFydDogKCkgPT4ge1xuICAgICAgICBzZXREcmFnZ2luZyh0cnVlKTtcbiAgICAgIH0sXG4gICAgICBtb2RlbERyYWdFbmQ6ICgpID0+IHtcbiAgICAgICAgc2V0RHJhZ2dpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG4gIHJldHVybiAoXG4gICAgPFMuQ29udGFpbmVyIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfSByZWY9e3Byb3BzLmZvcndhcmRSZWZ9PlxuICAgICAge2RyYWdnaW5nID8gKFxuICAgICAgICA8T3JkZXJpbmdXaWRnZXRcbiAgICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgICAgZHJvcHBlZD17KGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBlYWdlcmx5IHNldCB0byBmYWxzZSBzbyB0aGUgc21hcnQgem9uZSB1bm1vdW50c1xuICAgICAgICAgICAgcHJvcHMuZHJvcHBlZD8uKGV2ZW50KTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgKSA6IChcbiAgICAgICAgcHJvcHMuY2hpbGRyZW5cbiAgICAgICl9XG4gICAgPC9TLkNvbnRhaW5lcj5cbiAgKTtcbn07XG5cbm5hbWVzcGFjZSBTIHtcbiAgZXhwb3J0IGNvbnN0IENvbnRhaW5lciA9IHN0eWxlZC5kaXZgYDtcblxuICBleHBvcnQgY29uc3QgRXhwYW5kSG9yaXpvbnRhbCA9IHN0eWxlZC5kaXY8eyBleHBhbmQ6IGJvb2xlYW4gfT5gXG4gICAgd2lkdGg6ICR7KHApID0+IChwLmV4cGFuZCA/IDQwIDogMCl9cHg7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3M7XG4gICAgZmxleC1zaHJpbms6IDA7XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IEV4cGFuZFZlcnRpY2FsID0gc3R5bGVkLmRpdjx7IGV4cGFuZDogYm9vbGVhbiB9PmBcbiAgICBoZWlnaHQ6ICR7KHApID0+IChwLmV4cGFuZCA/IDQwIDogMCl9cHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgdHJhbnNpdGlvbjogaGVpZ2h0IDAuM3M7XG4gICAgZmxleC1zaHJpbms6IDA7XG4gIGA7XG59XG4iLCJpbXBvcnQgeyBEaW1lbnNpb25Db250YWluZXIsIERpbWVuc2lvbkNvbnRhaW5lckxpc3RlbmVyIH0gZnJvbSAnLi4vLi4vY29yZS9kaW1lbnNpb25zL0RpbWVuc2lvbkNvbnRhaW5lcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzaXplRGltZW5zaW9uQ29udGFpbmVyTGlzdGVuZXIgZXh0ZW5kcyBEaW1lbnNpb25Db250YWluZXJMaXN0ZW5lciB7XG4gIGhvdmVyQ2hhbmdlZDogKCkgPT4gYW55O1xuICBhY3RpdmVDaGFuZ2VkOiAoKSA9PiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBSZXNpemVEaW1lbnNpb25Db250YWluZXIgZXh0ZW5kcyBEaW1lbnNpb25Db250YWluZXI8UmVzaXplRGltZW5zaW9uQ29udGFpbmVyTGlzdGVuZXI+IHtcbiAgaG92ZXI6IGJvb2xlYW47XG4gIGFjdGl2ZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaG92ZXIgPSBmYWxzZTtcbiAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICB9XG5cbiAgc2V0SG92ZXIoaG92ZXI6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5ob3ZlciA9PT0gaG92ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5ob3ZlciA9IGhvdmVyO1xuICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLmhvdmVyQ2hhbmdlZD8uKCkpO1xuICB9XG5cbiAgc2V0QWN0aXZlKGFjdGl2ZTogYm9vbGVhbikge1xuICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gYWN0aXZlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlID0gYWN0aXZlO1xuICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLmFjdGl2ZUNoYW5nZWQ/LigpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgU2VyaWFsaXplZENvbGxlY3Rpb25Nb2RlbCxcbiAgV29ya3NwYWNlQ29sbGVjdGlvbk1vZGVsLFxuICBXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWxMaXN0ZW5lclxufSBmcm9tICcuLi8uLi9jb3JlLW1vZGVscy9Xb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWwnO1xuaW1wb3J0IHsgV29ya3NwYWNlRW5naW5lIH0gZnJvbSAnLi4vLi4vY29yZS9Xb3Jrc3BhY2VFbmdpbmUnO1xuaW1wb3J0IHsgV29ya3NwYWNlTW9kZWwgfSBmcm9tICcuLi8uLi9jb3JlLW1vZGVscy9Xb3Jrc3BhY2VNb2RlbCc7XG5pbXBvcnQgeyBBbGlnbm1lbnQgfSBmcm9tICcuLi8uLi9jb3JlL3Rvb2xzJztcbmltcG9ydCB7IERpbWVuc2lvbkNvbnRhaW5lciB9IGZyb20gJy4uLy4uL2NvcmUvZGltZW5zaW9ucy9EaW1lbnNpb25Db250YWluZXInO1xuaW1wb3J0IHsgRGlyZWN0aW9uTGF5b3V0Q2hpbGREaXJlY3RpdmUgfSBmcm9tICcuLi8uLi93aWRnZXRzL2xheW91dHMvRGlyZWN0aW9uYWxDaGlsZFdpZGdldCc7XG5pbXBvcnQgeyBSZXNpemVEaW1lbnNpb25Db250YWluZXIgfSBmcm9tICcuL1Jlc2l6ZURpbWVuc2lvbkNvbnRhaW5lcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzaXplRGl2aXNpb24ge1xuICBiZWZvcmU6IFdvcmtzcGFjZU1vZGVsO1xuICBhZnRlcjogV29ya3NwYWNlTW9kZWw7XG4gIGRpbWVuc2lvbnM6IFJlc2l6ZURpbWVuc2lvbkNvbnRhaW5lcjtcbiAgdmVydGljYWw6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29ya3NwYWNlTm9kZU1vZGVsTGlzdGVuZXIgZXh0ZW5kcyBXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWxMaXN0ZW5lciB7XG4gIGRpdmlzaW9uc1JlY29tcHV0ZWQ6ICgpID0+IGFueTtcbiAgb3ZlckNvbnN0cmFpbmVkQ2hhbmdlZDogKCkgPT4gYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFdvcmtzcGFjZU5vZGVNb2RlbFNlcmlhbGl6ZWQgZXh0ZW5kcyBTZXJpYWxpemVkQ29sbGVjdGlvbk1vZGVsIHtcbiAgdmVydGljYWw6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjbGFzcyBXb3Jrc3BhY2VOb2RlTW9kZWw8XG4gIFQgZXh0ZW5kcyBXb3Jrc3BhY2VOb2RlTW9kZWxTZXJpYWxpemVkID0gV29ya3NwYWNlTm9kZU1vZGVsU2VyaWFsaXplZCxcbiAgTCBleHRlbmRzIFdvcmtzcGFjZU5vZGVNb2RlbExpc3RlbmVyID0gV29ya3NwYWNlTm9kZU1vZGVsTGlzdGVuZXJcbj4gZXh0ZW5kcyBXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWw8VCwgTD4ge1xuICBzdGF0aWMgTkFNRSA9ICdzcnctbm9kZSc7XG5cbiAgdmVydGljYWw6IGJvb2xlYW47XG4gIHJfZGl2aXNpb25zOiBSZXNpemVEaW1lbnNpb25Db250YWluZXJbXTtcbiAgcl9vdmVyQ29uc3RyYWluZWQ6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nID0gV29ya3NwYWNlTm9kZU1vZGVsLk5BTUUpIHtcbiAgICBzdXBlcih0eXBlKTtcbiAgICB0aGlzLnZlcnRpY2FsID0gdHJ1ZTtcbiAgICB0aGlzLnJfZGl2aXNpb25zID0gW107XG4gICAgdGhpcy5yX292ZXJDb25zdHJhaW5lZCA9IGZhbHNlO1xuICB9XG5cbiAgbm9ybWFsaXplKCkge1xuICAgIHN1cGVyLm5vcm1hbGl6ZSgpO1xuICAgIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudCBpbnN0YW5jZW9mIFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbCkge1xuICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRoaXMucGFyZW50LnJlcGxhY2VNb2RlbCh0aGlzLCB0aGlzLmNoaWxkcmVuWzBdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyAhLS0tLS0tLS0tLS0gYWRkaXRpb25hbCByZW5kZXJzIC0tLS0tLS0tLVxuXG4gIHNldE92ZXJDb25zdHJhaW5lZChvdmVyQ29uc3RyYWluZWRDaGFuZ2VkOiBib29sZWFuKSB7XG4gICAgaWYgKHRoaXMucl9vdmVyQ29uc3RyYWluZWQgPT09IG92ZXJDb25zdHJhaW5lZENoYW5nZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5yX292ZXJDb25zdHJhaW5lZCA9IG92ZXJDb25zdHJhaW5lZENoYW5nZWQ7XG4gICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChjYikgPT4gY2Iub3ZlckNvbnN0cmFpbmVkQ2hhbmdlZD8uKCkpO1xuICB9XG5cbiAgLy8gIS0tLS0tLS0tLS0tIHNlcmlhbGl6ZSAtLS0tLS0tLS1cblxuICB0b0FycmF5KCk6IFQge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b0FycmF5KCksXG4gICAgICB2ZXJ0aWNhbDogdGhpcy52ZXJ0aWNhbFxuICAgIH07XG4gIH1cblxuICBmcm9tQXJyYXkocGF5bG9hZDogVCwgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmUpIHtcbiAgICBzdXBlci5mcm9tQXJyYXkocGF5bG9hZCwgZW5naW5lKTtcbiAgICB0aGlzLnZlcnRpY2FsID0gcGF5bG9hZFsndmVydGljYWwnXTtcbiAgfVxuXG4gIC8vICEtLS0tLS0tLS0tLSBkaXZpc2lvbnMgLS0tLS0tLS0tXG5cbiAgZ2V0UmVzaXplRGl2aXNpb25zKCk6IFJlc2l6ZURpdmlzaW9uW10ge1xuICAgIGxldCBkaXZzOiBSZXNpemVEaXZpc2lvbltdID0gW107XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnJfZGl2aXNpb25zLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baSAtIDFdLmV4cGFuZFZlcnRpY2FsICYmIHRoaXMuY2hpbGRyZW5baV0uZXhwYW5kVmVydGljYWwpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baSAtIDFdLmV4cGFuZEhvcml6b250YWwgJiYgdGhpcy5jaGlsZHJlbltpXS5leHBhbmRIb3Jpem9udGFsKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGl2cy5wdXNoKHtcbiAgICAgICAgYmVmb3JlOiB0aGlzLmNoaWxkcmVuW2kgLSAxXSxcbiAgICAgICAgYWZ0ZXI6IHRoaXMuY2hpbGRyZW5baV0sXG4gICAgICAgIGRpbWVuc2lvbnM6IHRoaXMucl9kaXZpc2lvbnNbaV0sXG4gICAgICAgIHZlcnRpY2FsOiAhdGhpcy52ZXJ0aWNhbFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBkaXZzO1xuICB9XG5cbiAgZ2V0UGFuZWxEaXJlY3RpdmUoY2hpbGQ6IFdvcmtzcGFjZU1vZGVsKTogRGlyZWN0aW9uTGF5b3V0Q2hpbGREaXJlY3RpdmUge1xuICAgIHJldHVybiB7XG4gICAgICBleHBhbmQ6IHRoaXMudmVydGljYWwgPyBjaGlsZC5leHBhbmRWZXJ0aWNhbCA6IGNoaWxkLmV4cGFuZEhvcml6b250YWwsXG4gICAgICBzaXplOiB0aGlzLnZlcnRpY2FsID8gY2hpbGQuc2l6ZS5oZWlnaHQgOiBjaGlsZC5zaXplLndpZHRoXG4gICAgfTtcbiAgfVxuXG4gIGdldEFsbFJlbmRlckRpbWVuc2lvbnMoKTogRGltZW5zaW9uQ29udGFpbmVyW10ge1xuICAgIHJldHVybiBzdXBlci5nZXRBbGxSZW5kZXJEaW1lbnNpb25zKCkuY29uY2F0KEFycmF5LmZyb20odGhpcy5yX2RpdmlzaW9ucy52YWx1ZXMoKSkpO1xuICB9XG5cbiAgcmVjb21wdXRlRGl2aXNpb25zKCkge1xuICAgIHRoaXMucl9kaXZpc2lvbnMgPSB0aGlzLmNoaWxkcmVuXG4gICAgICAubWFwKChjKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzaXplRGltZW5zaW9uQ29udGFpbmVyKCk7XG4gICAgICB9KVxuICAgICAgLmNvbmNhdChuZXcgUmVzaXplRGltZW5zaW9uQ29udGFpbmVyKCkpO1xuICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLmRpdmlzaW9uc1JlY29tcHV0ZWQ/LigpKTtcbiAgfVxuXG4gIGFkZE1vZGVsKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCwgcG9zaXRpb246IG51bWJlciA9IG51bGwpOiB0aGlzIHtcbiAgICBzdXBlci5hZGRNb2RlbChtb2RlbCwgcG9zaXRpb24pO1xuICAgIHRoaXMucmVjb21wdXRlRGl2aXNpb25zKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZW1vdmVNb2RlbChtb2RlbDogV29ya3NwYWNlTW9kZWwpOiB0aGlzIHtcbiAgICBzdXBlci5yZW1vdmVNb2RlbChtb2RlbCk7XG4gICAgdGhpcy5yZWNvbXB1dGVEaXZpc2lvbnMoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNob3VsZEV4cGFuZCgpIHtcbiAgICBpZiAoIXRoaXMudmVydGljYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmV4cGFuZFZlcnRpY2FsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leHBhbmRIb3Jpem9udGFsO1xuICB9XG5cbiAgc2V0VmVydGljYWwodmVydGljYWw6IGJvb2xlYW4gPSB0cnVlKTogdGhpcyB7XG4gICAgdGhpcy52ZXJ0aWNhbCA9IHZlcnRpY2FsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc2V0SG9yaXpvbnRhbChob3Jpem9udGFsOiBib29sZWFuID0gdHJ1ZSk6IHRoaXMge1xuICAgIHRoaXMudmVydGljYWwgPSAhaG9yaXpvbnRhbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldENoaWxkU2libGluZyhtb2RlbDogV29ya3NwYWNlTW9kZWwsIGFsaWdubWVudDogQWxpZ25tZW50KTogV29ya3NwYWNlTW9kZWwge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsICYmIGFsaWdubWVudCA9PT0gQWxpZ25tZW50LlRPUCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0TW9kZWxCZWZvcmUobW9kZWwpO1xuICAgIH0gZWxzZSBpZiAodGhpcy52ZXJ0aWNhbCAmJiBhbGlnbm1lbnQgPT09IEFsaWdubWVudC5CT1RUT00pIHtcbiAgICAgIHJldHVybiB0aGlzLmdldE1vZGVsQWZ0ZXIobW9kZWwpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMudmVydGljYWwgJiYgYWxpZ25tZW50ID09PSBBbGlnbm1lbnQuTEVGVCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0TW9kZWxCZWZvcmUobW9kZWwpO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMudmVydGljYWwgJiYgYWxpZ25tZW50ID09PSBBbGlnbm1lbnQuUklHSFQpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldE1vZGVsQWZ0ZXIobW9kZWwpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTGF5ZXIsIExheWVyTWFuYWdlciB9IGZyb20gJy4uL0xheWVyTWFuYWdlcic7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VFbmdpbmUgfSBmcm9tICcuLi8uLi8uLi9jb3JlL1dvcmtzcGFjZUVuZ2luZSc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJy4uLy4uLy4uL2NvcmUtbW9kZWxzL1dvcmtzcGFjZU1vZGVsJztcbmltcG9ydCB7IFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbCB9IGZyb20gJy4uLy4uLy4uL2NvcmUtbW9kZWxzL1dvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbCc7XG5pbXBvcnQgeyBEaW1lbnNpb25UcmFja2luZ1dpZGdldCB9IGZyb20gJy4uLy4uL3ByaW1pdGl2ZXMvRGltZW5zaW9uVHJhY2tpbmdXaWRnZXQnO1xuaW1wb3J0IHsgV29ya3NwYWNlTm9kZU1vZGVsIH0gZnJvbSAnLi4vLi4vLi4vZW50aXRpZXMvbm9kZS9Xb3Jrc3BhY2VOb2RlTW9kZWwnO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRm9yY2VVcGRhdGUgfSBmcm9tICcuLi8uLi9ob29rcy91c2VGb3JjZVVwZGF0ZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVidWdMYXllck9wdGlvbnMge1xuICBkaXZpZGVycz86IGJvb2xlYW47XG4gIHBhbmVscz86IGJvb2xlYW47XG4gIHJlc2l6ZURpdmlkZXJzPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIERlYnVnTGF5ZXIgZXh0ZW5kcyBMYXllciB7XG4gIHByaXZhdGUgbDE6ICgpID0+IHZvaWQ7XG5cbiAgY29uc3RydWN0b3IocHVibGljIGRlYnVnT3B0aW9uczogRGVidWdMYXllck9wdGlvbnMgPSB7IHBhbmVsczogdHJ1ZSB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbW91c2VFdmVudHM6IGZhbHNlXG4gICAgfSk7XG5cbiAgICBjb25zdCBsMiA9IHRoaXMucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICByZW1vdmVkOiAoKSA9PiB7XG4gICAgICAgIHRoaXMubDEoKTtcbiAgICAgICAgbDIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldExheWVyTWFuYWdlcihtYW5hZ2VyOiBMYXllck1hbmFnZXIpIHtcbiAgICBzdXBlci5zZXRMYXllck1hbmFnZXIobWFuYWdlcik7XG4gICAgdGhpcy5sMSA9IHRoaXMubGF5ZXJNYW5hZ2VyLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgbGF5ZXJBZGRlZDogKCkgPT4ge1xuICAgICAgICAvLyB3ZSBkZWZlciB0aGlzIHNpbmNlIG90aGVyIHBsdWdpbnMgbWlnaHQgbW92ZSBzdHVmZiB0byB0aGUgdG9wXG4gICAgICAgIF8uZGVmZXIoKCkgPT4ge1xuICAgICAgICAgIHRoaXMubW92ZVRvVG9wKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlT3B0aW9ucyhvcHRpb25zOiBQYXJ0aWFsPERlYnVnTGF5ZXJPcHRpb25zPikge1xuICAgIHRoaXMuZGVidWdPcHRpb25zID0ge1xuICAgICAgLi4udGhpcy5kZWJ1Z09wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICB0aGlzLnJlcGFpbnQoKTtcbiAgfVxuXG4gIHJlbmRlckxheWVyKGV2ZW50KTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8RGVidWdMYXllcldpZGdldCBvcHRpb25zPXt0aGlzLmRlYnVnT3B0aW9uc30gZW5naW5lPXtldmVudC5lbmdpbmV9IG1vZGVsPXtldmVudC5tb2RlbH0gLz47XG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEZWJ1Z0xheWVyV2lkZ2V0UHJvcHMge1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbiAgbW9kZWw6IFdvcmtzcGFjZU1vZGVsO1xuICBvcHRpb25zOiBEZWJ1Z0xheWVyT3B0aW9ucztcbn1cblxuZXhwb3J0IGNvbnN0IERlYnVnUGFuZWw6IFJlYWN0LkZDPHsgbW9kZWw6IFdvcmtzcGFjZU1vZGVsIH0+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gcHJvcHMubW9kZWwucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICB2aXNpYmlsaXR5Q2hhbmdlZDogKCkgPT4ge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG4gIGlmICghcHJvcHMubW9kZWwucl92aXNpYmxlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIChcbiAgICA8Uy5PdXRsaW5lMiBkaW1lbnNpb249e3Byb3BzLm1vZGVsLnJfZGltZW5zaW9uc30+XG4gICAgICA8Uy5EZWJ1Z0lEPntwcm9wcy5tb2RlbC5pZC5zdWJzdHJpbmcoMCwgNyl9PC9TLkRlYnVnSUQ+XG4gICAgPC9TLk91dGxpbmUyPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IERlYnVnTGF5ZXJXaWRnZXQ6IFJlYWN0LkZDPERlYnVnTGF5ZXJXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSh0cnVlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBwcm9wcy5tb2RlbC5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIGxheW91dEludmFsaWRhdGVkOiAoKSA9PiB7XG4gICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICB9LFxuICAgICAgZGltZW5zaW9uc0ludmFsaWRhdGVkOiAoKSA9PiB7XG4gICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICB7cHJvcHMub3B0aW9ucz8ucGFuZWxzXG4gICAgICAgID8gcHJvcHMubW9kZWxcbiAgICAgICAgICAgIC5mbGF0dGVuKClcbiAgICAgICAgICAgIC5maWx0ZXIoKHApID0+ICEocCBpbnN0YW5jZW9mIFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbCkpXG4gICAgICAgICAgICAubWFwKChtKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiA8RGVidWdQYW5lbCBtb2RlbD17bX0ga2V5PXttLmlkfSAvPjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIDogW119XG5cbiAgICAgIHtwcm9wcy5vcHRpb25zPy5kaXZpZGVyc1xuICAgICAgICA/IHByb3BzLm1vZGVsXG4gICAgICAgICAgICAuZmxhdHRlbigpXG4gICAgICAgICAgICAuZmlsdGVyKChwKSA9PiBwIGluc3RhbmNlb2YgV29ya3NwYWNlTm9kZU1vZGVsKVxuICAgICAgICAgICAgLmZsYXRNYXAoKG06IFdvcmtzcGFjZU5vZGVNb2RlbCkgPT4gbS5yX2RpdmlzaW9ucylcbiAgICAgICAgICAgIC5tYXAoKG0pID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIDxTLk91dGxpbmUgZGltZW5zaW9uPXttfSBrZXk9e20uaWR9IC8+O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgOiBbXX1cblxuICAgICAge3Byb3BzLm9wdGlvbnM/LnJlc2l6ZURpdmlkZXJzXG4gICAgICAgID8gcHJvcHMubW9kZWxcbiAgICAgICAgICAgIC5mbGF0dGVuKClcbiAgICAgICAgICAgIC5maWx0ZXIoKHApID0+IHAgaW5zdGFuY2VvZiBXb3Jrc3BhY2VOb2RlTW9kZWwpXG4gICAgICAgICAgICAuZmxhdE1hcCgobTogV29ya3NwYWNlTm9kZU1vZGVsKSA9PiBtLmdldFJlc2l6ZURpdmlzaW9ucygpKVxuICAgICAgICAgICAgLm1hcCgobSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gPFMuT3V0bGluZSBkaW1lbnNpb249e20uZGltZW5zaW9uc30ga2V5PXttLmRpbWVuc2lvbnMuaWR9IC8+O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgOiBbXX1cbiAgICA8Lz5cbiAgKTtcbn07XG5cbm5hbWVzcGFjZSBTIHtcbiAgZXhwb3J0IGNvbnN0IE91dGxpbmUgPSBzdHlsZWQoRGltZW5zaW9uVHJhY2tpbmdXaWRnZXQpYFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYm9yZGVyOiBkYXNoZWQgcmVkIDFweDtcbiAgYDtcblxuICBleHBvcnQgY29uc3QgT3V0bGluZTIgPSBzdHlsZWQoRGltZW5zaW9uVHJhY2tpbmdXaWRnZXQpYFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgYm9yZGVyOiBzb2xpZCBjeWFuIDFweDtcbiAgYDtcblxuICBleHBvcnQgY29uc3QgRGVidWdJRCA9IHN0eWxlZC5kaXZgXG4gICAgYmFja2dyb3VuZDogY3lhbjtcbiAgICBjb2xvcjogYmxhY2s7XG4gICAgZm9udC1zaXplOiAxMHB4O1xuICAgIHBhZGRpbmc6IDJweDtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgdG9wOiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYDtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IExheWVyLCBMYXllck1hbmFnZXIgfSBmcm9tICcuL0xheWVyTWFuYWdlcic7XG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VFbmdpbmUgfSBmcm9tICcuLi8uLi9jb3JlL1dvcmtzcGFjZUVuZ2luZSc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJy4uLy4uL2NvcmUtbW9kZWxzL1dvcmtzcGFjZU1vZGVsJztcbmltcG9ydCB7IHVzZUZvcmNlVXBkYXRlIH0gZnJvbSAnLi4vaG9va3MvdXNlRm9yY2VVcGRhdGUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIExheWVyV2lkZ2V0UHJvcHMge1xuICBsYXllcjogTGF5ZXI7XG4gIG1vZGVsOiBXb3Jrc3BhY2VNb2RlbDtcbiAgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmU7XG4gIGluZGV4OiBudW1iZXI7XG59XG5cbmV4cG9ydCBjb25zdCBMYXllcldpZGdldDogUmVhY3QuRkM8TGF5ZXJXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSgpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5sYXllci5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIHJlcGFpbnQ6ICgpID0+IHtcbiAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW10pO1xuICByZXR1cm4gKFxuICAgIDxTLkxheWVyICRwb2ludGVyRXZlbnRzPXtwcm9wcy5sYXllci5vcHRpb25zLm1vdXNlRXZlbnRzfSBpbmRleD17cHJvcHMuaW5kZXh9PlxuICAgICAge3Byb3BzLmxheWVyLnJlbmRlckxheWVyKHtcbiAgICAgICAgZW5naW5lOiBwcm9wcy5lbmdpbmUsXG4gICAgICAgIG1vZGVsOiBwcm9wcy5tb2RlbFxuICAgICAgfSl9XG4gICAgPC9TLkxheWVyPlxuICApO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBMYXllck1hbmFnZXJXaWRnZXRQcm9wcyB7XG4gIGxheWVyTWFuYWdlcjogTGF5ZXJNYW5hZ2VyO1xuICBtb2RlbDogV29ya3NwYWNlTW9kZWw7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xuICBjbGFzc05hbWU/OiBhbnk7XG59XG5cbmV4cG9ydCBjb25zdCBMYXllck1hbmFnZXJXaWRnZXQ6IFJlYWN0LkZDPExheWVyTWFuYWdlcldpZGdldFByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlKCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmV0dXJuIHByb3BzLmxheWVyTWFuYWdlci5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIGxheWVyc0NoYW5nZWQ6ICgpID0+IHtcbiAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW10pO1xuICByZXR1cm4gKFxuICAgIDxTLkNvbnRhaW5lciBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX0+XG4gICAgICB7cHJvcHMubGF5ZXJNYW5hZ2VyLmxheWVycy5tYXAoKGwsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiA8TGF5ZXJXaWRnZXQgey4uLnByb3BzfSBsYXllcj17bH0gaW5kZXg9e2luZGV4ICsgcHJvcHMubGF5ZXJNYW5hZ2VyLmluaXRpYWxaSW5kZXh9IGtleT17bC5pZH0gLz47XG4gICAgICB9KX1cbiAgICA8L1MuQ29udGFpbmVyPlxuICApO1xufTtcblxubmFtZXNwYWNlIFMge1xuICBleHBvcnQgY29uc3QgQ29udGFpbmVyID0gc3R5bGVkLmRpdmBcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IExheWVyID0gc3R5bGVkLmRpdjx7IGluZGV4OiBudW1iZXI7ICRwb2ludGVyRXZlbnRzOiBib29sZWFuIH0+YFxuICAgIHotaW5kZXg6ICR7KHApID0+IHAuaW5kZXh9O1xuICAgIHBvaW50ZXItZXZlbnRzOiAkeyhwKSA9PiAocC4kcG9pbnRlckV2ZW50cyA/ICdhbGwnIDogJ25vbmUnKX07XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYDtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFdvcmtzcGFjZU1vZGVsIH0gZnJvbSAnLi4vLi4vY29yZS1tb2RlbHMvV29ya3NwYWNlTW9kZWwnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsgdXNlRm9yY2VVcGRhdGUgfSBmcm9tICcuLi8uLi93aWRnZXRzL2hvb2tzL3VzZUZvcmNlVXBkYXRlJztcblxuZXhwb3J0IGludGVyZmFjZSBEaXJlY3Rpb25MYXlvdXRDaGlsZERpcmVjdGl2ZSB7XG4gIGV4cGFuZDogYm9vbGVhbjtcbiAgc2l6ZTogbnVtYmVyO1xufVxuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBDaGlsZENvbnRhaW5lciA9IHN0eWxlZC5kaXY8eyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlcjsgZXhwYW5kOiBib29sZWFuIH0+YFxuICAgICR7KHApID0+IChwLndpZHRoID8gYG1pbi13aWR0aDogJHtwLndpZHRofXB4OyB3aWR0aDogJHtwLndpZHRofXB4YCA6ICcnKX07XG4gICAgJHsocCkgPT4gKHAuaGVpZ2h0ID8gYG1pbi1oZWlnaHQ6ICR7cC5oZWlnaHR9cHg7IGhlaWdodDogJHtwLmhlaWdodH1weGAgOiAnJyl9O1xuICAgIGZsZXgtc2hyaW5rOiAkeyhwKSA9PiAocC5leHBhbmQgPyAxIDogMCl9O1xuICAgIGZsZXgtZ3JvdzogJHsocCkgPT4gKHAuZXhwYW5kID8gMSA6IDApfTtcbiAgYDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaXJlY3Rpb25DaGlsZFdpZGdldFByb3BzIHtcbiAgdmVydGljYWw6IGJvb2xlYW47XG4gIG1vZGVsOiBXb3Jrc3BhY2VNb2RlbDtcbiAgZGlyZWN0aXZlOiBEaXJlY3Rpb25MYXlvdXRDaGlsZERpcmVjdGl2ZTtcbiAgZ2VuZXJhdGVFbGVtZW50OiAobW9kZWw6IFdvcmtzcGFjZU1vZGVsKSA9PiBKU1guRWxlbWVudDtcbn1cblxuZXhwb3J0IGNvbnN0IERpcmVjdGlvbkNoaWxkV2lkZ2V0OiBSZWFjdC5GQzxEaXJlY3Rpb25DaGlsZFdpZGdldFByb3BzPiA9IChwcm9wcykgPT4ge1xuICBsZXQgd2lkdGggPSBudWxsO1xuICBsZXQgaGVpZ2h0ID0gbnVsbDtcbiAgbGV0IGV4cGFuZCA9IHByb3BzLmRpcmVjdGl2ZS5leHBhbmQ7XG5cbiAgaWYgKCFleHBhbmQgJiYgcHJvcHMudmVydGljYWwpIHtcbiAgICBoZWlnaHQgPSBwcm9wcy5tb2RlbC5zaXplLmhlaWdodDtcbiAgfSBlbHNlIGlmICghZXhwYW5kKSB7XG4gICAgd2lkdGggPSBwcm9wcy5tb2RlbC5zaXplLndpZHRoO1xuICB9XG5cbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSgpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGwxID0gcHJvcHMubW9kZWwuc2l6ZS5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIHVwZGF0ZWQ6ICgpID0+IHtcbiAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBsMSgpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICByZXR1cm4gKFxuICAgIDxTLkNoaWxkQ29udGFpbmVyIGV4cGFuZD17ZXhwYW5kfSB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fT5cbiAgICAgIHtwcm9wcy5nZW5lcmF0ZUVsZW1lbnQocHJvcHMubW9kZWwpfVxuICAgIDwvUy5DaGlsZENvbnRhaW5lcj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFdvcmtzcGFjZU1vZGVsIH0gZnJvbSAnLi4vLi4vY29yZS1tb2RlbHMvV29ya3NwYWNlTW9kZWwnO1xuaW1wb3J0IHsgV29ya3NwYWNlRW5naW5lIH0gZnJvbSAnLi4vLi4vY29yZS9Xb3Jrc3BhY2VFbmdpbmUnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsgRGl2aWRlcldpZGdldCB9IGZyb20gJy4uLy4uL3dpZGdldHMvcHJpbWl0aXZlcy9EaXZpZGVyV2lkZ2V0JztcbmltcG9ydCB7IERpcmVjdGlvbkNoaWxkV2lkZ2V0LCBEaXJlY3Rpb25MYXlvdXRDaGlsZERpcmVjdGl2ZSB9IGZyb20gJy4vRGlyZWN0aW9uYWxDaGlsZFdpZGdldCc7XG5pbXBvcnQgeyBSZXNpemVEaW1lbnNpb25Db250YWluZXIgfSBmcm9tICcuLi8uLi9lbnRpdGllcy9ub2RlL1Jlc2l6ZURpbWVuc2lvbkNvbnRhaW5lcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGlyZWN0aW9uYWxMYXlvdXRXaWRnZXRQcm9wcyB7XG4gIHZlcnRpY2FsOiBib29sZWFuO1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbiAgZGF0YTogV29ya3NwYWNlTW9kZWxbXTtcbiAgZ2V0Q2hpbGRTaXplRGlyZWN0aXZlOiAobW9kZWw6IFdvcmtzcGFjZU1vZGVsKSA9PiBEaXJlY3Rpb25MYXlvdXRDaGlsZERpcmVjdGl2ZTtcbiAgZ2VuZXJhdGVFbGVtZW50OiAobW9kZWw6IFdvcmtzcGFjZU1vZGVsKSA9PiBKU1guRWxlbWVudDtcbiAgZ2VuZXJhdGVEaXZpZGVyOiAoZGl2aWRlcjogUmVzaXplRGltZW5zaW9uQ29udGFpbmVyKSA9PiBKU1guRWxlbWVudDtcbiAgZGltZW5zaW9uQ29udGFpbmVyRm9yRGl2aWRlcjogKGluZGV4OiBudW1iZXIpID0+IFJlc2l6ZURpbWVuc2lvbkNvbnRhaW5lcjtcbiAgZm9yd2FyZFJlZjogUmVhY3QuUmVmT2JqZWN0PEhUTUxEaXZFbGVtZW50PjtcbiAgY2xhc3NOYW1lPzogYW55O1xufVxuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2PHsgdmVydGljYWw6IGJvb2xlYW4gfT5gXG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWdyb3c6IDE7XG4gICAgZmxleC1kaXJlY3Rpb246ICR7KHApID0+IChwLnZlcnRpY2FsID8gJ2NvbHVtbicgOiAncm93Jyl9O1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gIGA7XG59XG5cbmV4cG9ydCBjb25zdCBEaXJlY3Rpb25hbExheW91dFdpZGdldDogUmVhY3QuRkM8RGlyZWN0aW9uYWxMYXlvdXRXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgZmlyc3REaXZpZGVyID0gcHJvcHMuZGltZW5zaW9uQ29udGFpbmVyRm9yRGl2aWRlcigwKTtcbiAgY29uc3QgZ2VuZXJhdGVEaXZpZGVyID0gdXNlQ2FsbGJhY2soKGRpbWVuc2lvbjogUmVzaXplRGltZW5zaW9uQ29udGFpbmVyKSA9PiB7XG4gICAgaWYgKHByb3BzLmdlbmVyYXRlRGl2aWRlcikge1xuICAgICAgcmV0dXJuIHByb3BzLmdlbmVyYXRlRGl2aWRlcihkaW1lbnNpb24pO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPERpdmlkZXJXaWRnZXRcbiAgICAgICAgYWN0aXZlQ29sb3I9eyd0cmFuc3BhcmVudCd9XG4gICAgICAgIGhvdmVyQ29sb3I9eyd0cmFuc3BhcmVudCd9XG4gICAgICAgIGVuZ2luZT17cHJvcHMuZW5naW5lfVxuICAgICAgICBkaW1lbnNpb25Db250YWluZXI9e2RpbWVuc2lvbn1cbiAgICAgIC8+XG4gICAgKTtcbiAgfSwgW10pO1xuICByZXR1cm4gKFxuICAgIDxTLkNvbnRhaW5lciByZWY9e3Byb3BzLmZvcndhcmRSZWZ9IGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfSB2ZXJ0aWNhbD17cHJvcHMudmVydGljYWx9PlxuICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17Zmlyc3REaXZpZGVyLmlkfT57Z2VuZXJhdGVEaXZpZGVyKGZpcnN0RGl2aWRlcil9PC9SZWFjdC5GcmFnbWVudD5cbiAgICAgIHtfLm1hcChwcm9wcy5kYXRhLCAobW9kZWw6IFdvcmtzcGFjZU1vZGVsLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBkaW1lbnNpb24gPSBwcm9wcy5kaW1lbnNpb25Db250YWluZXJGb3JEaXZpZGVyKGluZGV4ICsgMSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17bW9kZWwuaWR9PlxuICAgICAgICAgICAgPERpcmVjdGlvbkNoaWxkV2lkZ2V0IHsuLi5wcm9wc30gZGlyZWN0aXZlPXtwcm9wcy5nZXRDaGlsZFNpemVEaXJlY3RpdmUobW9kZWwpfSBtb2RlbD17bW9kZWx9IC8+XG4gICAgICAgICAgICA8UmVhY3QuRnJhZ21lbnQga2V5PXtkaW1lbnNpb24uaWR9PntnZW5lcmF0ZURpdmlkZXIoZGltZW5zaW9uKX08L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgICk7XG4gICAgICB9KX1cbiAgICA8L1MuQ29udGFpbmVyPlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgV29ya3NwYWNlRW5naW5lIH0gZnJvbSAnLi4vY29yZS9Xb3Jrc3BhY2VFbmdpbmUnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsgdXNlRm9yY2VVcGRhdGUgfSBmcm9tICcuL2hvb2tzL3VzZUZvcmNlVXBkYXRlJztcbmltcG9ydCB7IExheWVyTWFuYWdlcldpZGdldCB9IGZyb20gJy4vbGF5ZXJzL0xheWVyTWFuYWdlcldpZGdldCc7XG5pbXBvcnQgeyB1c2VEcmFnT3Zlck1vZGVsIH0gZnJvbSAnLi9ob29rcy9kbmQtbW9kZWwvdXNlRHJhZ092ZXJNb2RlbCc7XG5pbXBvcnQgeyBVc2VNb3VzZURyYWdFdmVudHNSb290V2lkZ2V0IH0gZnJvbSAnLi9ob29rcy9kbmQvdXNlTW91c2VEcmFnRXZlbnRzJztcbmltcG9ydCB7IFdvcmtzcGFjZU5vZGVNb2RlbCB9IGZyb20gJy4uL2VudGl0aWVzL25vZGUvV29ya3NwYWNlTm9kZU1vZGVsJztcbmltcG9ydCB7IHVzZUJhc2VSZXNpemVPYnNlcnZlciB9IGZyb20gJy4vaG9va3MvdXNlQmFzZVJlc2l6ZU9ic2VydmVyJztcblxuZXhwb3J0IGludGVyZmFjZSBXb3Jrc3BhY2VXaWRnZXRQcm9wcyB7XG4gIG1vZGVsOiBXb3Jrc3BhY2VOb2RlTW9kZWw7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xufVxuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYDtcblxuICBleHBvcnQgY29uc3QgTGF5ZXJNYW5hZ2VyID0gc3R5bGVkKExheWVyTWFuYWdlcldpZGdldClgXG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICBgO1xufVxuXG5leHBvcnQgY29uc3QgV29ya3NwYWNlV2lkZ2V0OiBSZWFjdC5GQzxXb3Jrc3BhY2VXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgcmVmX2NvbnRhaW5lciA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcbiAgY29uc3QgdGltZXJMaXN0ZW5lciA9IHVzZVJlZihudWxsKTtcblxuICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlKCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBwcm9wcy5lbmdpbmUuZmlyZVJlcGFpbnRlZCgpO1xuICB9KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHByb3BzLmVuZ2luZS5zZXRSb290TW9kZWwocHJvcHMubW9kZWwpO1xuICB9LCBbcHJvcHMubW9kZWxdKTtcblxuICB1c2VCYXNlUmVzaXplT2JzZXJ2ZXIoe1xuICAgIGZvcndhcmRSZWY6IHJlZl9jb250YWluZXIsXG4gICAgZGltZW5zaW9uOiBwcm9wcy5lbmdpbmUud29ya3NwYWNlQ29udGFpbmVyXG4gIH0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcHJvcHMuZW5naW5lLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgbGF5b3V0SW52YWxpZGF0ZWQ6ICgpID0+IHtcbiAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgIH0sXG4gICAgICByZXBhaW50OiAoKSA9PiB7XG4gICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICB1c2VEcmFnT3Zlck1vZGVsKHtcbiAgICBmb3J3YXJkUmVmOiByZWZfY29udGFpbmVyLFxuICAgIC8vIGRvbid0IGFjY2VwdCB0aGUgZHJhZywgYnV0IHVzZSBpdCBmb3IgZGF0YVxuICAgIGFjY2VwdDogZmFsc2UsXG4gICAgZHJhZ092ZXI6ICh7IG1vZGVsSUQgfSkgPT4ge1xuICAgICAgaWYgKHRpbWVyTGlzdGVuZXIuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJMaXN0ZW5lci5jdXJyZW50KTtcbiAgICAgICAgdGltZXJMaXN0ZW5lci5jdXJyZW50ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdGltZXJMaXN0ZW5lci5jdXJyZW50ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHByb3BzLmVuZ2luZS5zZXREcmFnZ2luZ05vZGUobnVsbCk7XG4gICAgICB9LCAyMDApO1xuXG4gICAgICBpZiAocHJvcHMuZW5naW5lLmRyYWdnaW5nSUQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcHJvcHMuZW5naW5lLnNldERyYWdnaW5nTm9kZShtb2RlbElEKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiAoXG4gICAgPFVzZU1vdXNlRHJhZ0V2ZW50c1Jvb3RXaWRnZXQgZm9yd2FyZFJlZj17cmVmX2NvbnRhaW5lcn0+XG4gICAgICA8Uy5Db250YWluZXIgcmVmPXtyZWZfY29udGFpbmVyfT5cbiAgICAgICAge3Byb3BzLmVuZ2luZS5nZXRGYWN0b3J5KHByb3BzLm1vZGVsLmdldFJvb3RNb2RlbCgpKS5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgICAgICAgIGVuZ2luZTogcHJvcHMuZW5naW5lLFxuICAgICAgICAgIG1vZGVsOiBwcm9wcy5tb2RlbC5nZXRSb290TW9kZWwoKVxuICAgICAgICB9KX1cbiAgICAgICAgPFMuTGF5ZXJNYW5hZ2VyXG4gICAgICAgICAgZW5naW5lPXtwcm9wcy5lbmdpbmV9XG4gICAgICAgICAgbGF5ZXJNYW5hZ2VyPXtwcm9wcy5lbmdpbmUubGF5ZXJNYW5hZ2VyfVxuICAgICAgICAgIG1vZGVsPXtwcm9wcy5tb2RlbC5nZXRSb290TW9kZWwoKX1cbiAgICAgICAgLz5cbiAgICAgIDwvUy5Db250YWluZXI+XG4gICAgPC9Vc2VNb3VzZURyYWdFdmVudHNSb290V2lkZ2V0PlxuICApO1xufTtcbiIsImltcG9ydCB7IFdvcmtzcGFjZU1vZGVsIH0gZnJvbSAnLi4vY29yZS1tb2RlbHMvV29ya3NwYWNlTW9kZWwnO1xuaW1wb3J0IHsgV29ya3NwYWNlRW5naW5lIH0gZnJvbSAnLi9Xb3Jrc3BhY2VFbmdpbmUnO1xuaW1wb3J0IHsgQmFzZUxpc3RlbmVyLCBCYXNlT2JzZXJ2ZXIgfSBmcm9tICcuL0Jhc2VPYnNlcnZlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29ya3NwYWNlTW9kZWxGYWN0b3J5RXZlbnQ8VCBleHRlbmRzIFdvcmtzcGFjZU1vZGVsPiB7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xuICBtb2RlbDogVDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXb3Jrc3BhY2VNb2RlbEZhY3RvcnlMaXN0ZW5lcjxUPiBleHRlbmRzIEJhc2VMaXN0ZW5lciB7XG4gIG1vZGVsR2VuZXJhdGVkOiAoZXZlbnQ6IHsgbW9kZWw6IFQgfSkgPT4gYW55O1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgV29ya3NwYWNlTW9kZWxGYWN0b3J5PFxuICBUIGV4dGVuZHMgV29ya3NwYWNlTW9kZWwgPSBXb3Jrc3BhY2VNb2RlbCxcbiAgRSBleHRlbmRzIFdvcmtzcGFjZU1vZGVsRmFjdG9yeUV2ZW50PFQ+ID0gV29ya3NwYWNlTW9kZWxGYWN0b3J5RXZlbnQ8VD5cbj4gZXh0ZW5kcyBCYXNlT2JzZXJ2ZXI8V29ya3NwYWNlTW9kZWxGYWN0b3J5TGlzdGVuZXI8VD4+IHtcbiAgdHlwZTogc3RyaW5nO1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcblxuICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cblxuICBzZXRFbmdpbmUoZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmUpIHtcbiAgICB0aGlzLmVuZ2luZSA9IGVuZ2luZTtcbiAgfVxuXG4gIGdlbmVyYXRlTW9kZWwoKTogVCB7XG4gICAgY29uc3QgbW9kZWwgPSB0aGlzLl9nZW5lcmF0ZU1vZGVsKCk7XG4gICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChjYikgPT4gY2IubW9kZWxHZW5lcmF0ZWQ/Lih7IG1vZGVsIH0pKTtcbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgX2dlbmVyYXRlTW9kZWwoKTogVDtcblxuICBhYnN0cmFjdCBnZW5lcmF0ZUNvbnRlbnQoZXZlbnQ6IEUpOiBKU1guRWxlbWVudDtcbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFdvcmtzcGFjZU1vZGVsRmFjdG9yeSB9IGZyb20gJy4vV29ya3NwYWNlTW9kZWxGYWN0b3J5JztcbmltcG9ydCB7IFdvcmtzcGFjZU1vZGVsIH0gZnJvbSAnLi4vY29yZS1tb2RlbHMvV29ya3NwYWNlTW9kZWwnO1xuaW1wb3J0IHsgV29ya3NwYWNlRW5naW5lSW50ZXJmYWNlIH0gZnJvbSAnLi9Xb3Jrc3BhY2VFbmdpbmVJbnRlcmZhY2UnO1xuaW1wb3J0IHsgQmFzZUxpc3RlbmVyLCBCYXNlT2JzZXJ2ZXIgfSBmcm9tICcuL0Jhc2VPYnNlcnZlcic7XG5pbXBvcnQgeyBMYXllck1hbmFnZXIgfSBmcm9tICcuLi93aWRnZXRzL2xheWVycy9MYXllck1hbmFnZXInO1xuaW1wb3J0IHsgRGltZW5zaW9uQ29udGFpbmVyIH0gZnJvbSAnLi9kaW1lbnNpb25zL0RpbWVuc2lvbkNvbnRhaW5lcic7XG5pbXBvcnQgeyBXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWwgfSBmcm9tICcuLi9jb3JlLW1vZGVscy9Xb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdvcmtzcGFjZUVuZ2luZUxpc3RlbmVyIGV4dGVuZHMgQmFzZUxpc3RlbmVyIHtcbiAgcmVwYWludD86ICgpID0+IGFueTtcbiAgZHJhZ2dpbmdFbGVtZW50PzogKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCwgZHJhZ2dpbmc6IGJvb2xlYW4pID0+IGFueTtcbiAgbW9kZWxVcGRhdGVkPzogKCkgPT4gYW55O1xuICBsYXlvdXRJbnZhbGlkYXRlZDogKCkgPT4gYW55O1xuICBkaW1lbnNpb25zSW52YWxpZGF0ZWQ6ICgpID0+IGFueTtcbiAgbGF5b3V0UmVwYWludGVkOiAoKSA9PiBhbnk7XG4gIG1vZGVsRHJhZ1N0YXJ0OiAoKSA9PiBhbnk7XG4gIG1vZGVsRHJhZ0VuZDogKCkgPT4gYW55O1xuICBsb2NrVXBkYXRlZDogKCkgPT4gYW55O1xufVxuXG5leHBvcnQgY2xhc3MgV29ya3NwYWNlRW5naW5lRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyBfaXNfX3N0b3JtX3dvcmtzcGFjZXNfZXJyb3JfOiB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKG06IHN0cmluZykge1xuICAgIHN1cGVyKG0pO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBXb3Jrc3BhY2VFbmdpbmVFcnJvci5wcm90b3R5cGUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBXb3Jrc3BhY2VFbmdpbmUgZXh0ZW5kcyBCYXNlT2JzZXJ2ZXI8V29ya3NwYWNlRW5naW5lTGlzdGVuZXI+IGltcGxlbWVudHMgV29ya3NwYWNlRW5naW5lSW50ZXJmYWNlIHtcbiAgLy8gZmFjdG9yaWVzXG4gIGZhY3RvcmllczogeyBbdHlwZTogc3RyaW5nXTogV29ya3NwYWNlTW9kZWxGYWN0b3J5IH07XG4gIGRyYWdnaW5nSUQ6IHN0cmluZztcbiAgbGF5ZXJNYW5hZ2VyOiBMYXllck1hbmFnZXI7XG4gIHJlcGFpbnRpbmc6IGJvb2xlYW47XG4gIGxvY2tlZDogYm9vbGVhbjtcblxuICAvLyBkaW1lbnNpb25zXG4gIHdvcmtzcGFjZUNvbnRhaW5lcjogRGltZW5zaW9uQ29udGFpbmVyO1xuXG4gIC8vIHJvb3RcbiAgcHVibGljIHJvb3RNb2RlbDogV29ya3NwYWNlTW9kZWw7XG4gIHByaXZhdGUgcm9vdE1vZGVsTGlzdGVuZXI6ICgpID0+IGFueTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubG9ja2VkID0gZmFsc2U7XG4gICAgdGhpcy5mYWN0b3JpZXMgPSB7fTtcbiAgICB0aGlzLmxpc3RlbmVycyA9IHt9O1xuICAgIHRoaXMuZHJhZ2dpbmdJRCA9IG51bGw7XG4gICAgdGhpcy5sYXllck1hbmFnZXIgPSBuZXcgTGF5ZXJNYW5hZ2VyKCk7XG4gICAgdGhpcy53b3Jrc3BhY2VDb250YWluZXIgPSBuZXcgRGltZW5zaW9uQ29udGFpbmVyKCk7XG4gICAgdGhpcy5yb290TW9kZWwgPSBudWxsO1xuICB9XG5cbiAgc2V0Um9vdE1vZGVsKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCkge1xuICAgIHRoaXMucm9vdE1vZGVsTGlzdGVuZXI/LigpO1xuICAgIHRoaXMucm9vdE1vZGVsTGlzdGVuZXIgPSBtb2RlbC5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIGxheW91dEludmFsaWRhdGVkOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZUxheW91dCgpO1xuICAgICAgfSxcbiAgICAgIGRpbWVuc2lvbnNJbnZhbGlkYXRlZDogKCkgPT4ge1xuICAgICAgICB0aGlzLmludmFsaWRhdGVEaW1lbnNpb25zRGVib3VuY2VkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5yb290TW9kZWwgPSBtb2RlbDtcbiAgICB0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGNiKSA9PiBjYi5tb2RlbFVwZGF0ZWQ/LigpKTtcbiAgICB0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGNiKSA9PiBjYi5sYXlvdXRJbnZhbGlkYXRlZD8uKCkpO1xuICB9XG5cbiAgZmlyZVJlcGFpbnRlZCgpIHtcbiAgICB0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGNiKSA9PiBjYi5sYXlvdXRSZXBhaW50ZWQ/LigpKTtcbiAgfVxuXG4gIGludmFsaWRhdGVMYXlvdXQoKSB7XG4gICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChjYikgPT4gY2IubGF5b3V0SW52YWxpZGF0ZWQ/LigpKTtcbiAgfVxuXG4gIGludmFsaWRhdGVEaW1lbnNpb25zRGVib3VuY2VkID0gXy5kZWJvdW5jZSgoKSA9PiB7XG4gICAgdGhpcy5pbnZhbGlkYXRlRGltZW5zaW9ucygpO1xuICB9LCAyMDApO1xuXG4gIGludmFsaWRhdGVEaW1lbnNpb25zKCkge1xuICAgIHRoaXMucm9vdE1vZGVsXG4gICAgICAuZmxhdHRlbigpXG4gICAgICAuZmxhdE1hcCgobSkgPT4ge1xuICAgICAgICByZXR1cm4gbS5nZXRBbGxSZW5kZXJEaW1lbnNpb25zKCk7XG4gICAgICB9KVxuICAgICAgLmZvckVhY2goKGQpID0+IHtcbiAgICAgICAgZC5pbnZhbGlkYXRlKCk7XG4gICAgICB9KTtcbiAgICB0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGNiKSA9PiBjYi5kaW1lbnNpb25zSW52YWxpZGF0ZWQ/LigpKTtcbiAgfVxuXG4gIHNldExvY2tlZChsb2NrZWQ6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgaWYgKHRoaXMubG9ja2VkID09PSBsb2NrZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5sb2NrZWQgPSBsb2NrZWQ7XG4gICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChjYikgPT4gY2IubG9ja1VwZGF0ZWQ/LigpKTtcbiAgfVxuXG4gIHN0YXRpYyBuYW1lc3BhY2VNaW1lKGRhdGE6IHN0cmluZykge1xuICAgIHJldHVybiBgc3J3LyR7ZGF0YX1gO1xuICB9XG5cbiAgZmlyZVJlcGFpbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5yZXBhaW50aW5nID0gdHJ1ZTtcbiAgICB0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGxpc3QpID0+IHtcbiAgICAgIGxpc3QucmVwYWludD8uKCk7XG4gICAgfSk7XG4gIH1cblxuICBub3JtYWxpemUoKSB7XG4gICAgdGhpcy5yb290TW9kZWxcbiAgICAgIC5mbGF0dGVuKClcbiAgICAgIC5maWx0ZXIoKG0pID0+IG0gaW5zdGFuY2VvZiBXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWwpXG4gICAgICAuZm9yRWFjaCgobTogV29ya3NwYWNlQ29sbGVjdGlvbk1vZGVsKSA9PiBtLm5vcm1hbGl6ZSgpKTtcbiAgfVxuXG4gIHJlZ2lzdGVyRmFjdG9yeShmYWN0b3J5OiBXb3Jrc3BhY2VNb2RlbEZhY3RvcnkpIHtcbiAgICB0aGlzLmZhY3Rvcmllc1tmYWN0b3J5LnR5cGVdID0gZmFjdG9yeTtcbiAgICBmYWN0b3J5LnNldEVuZ2luZSh0aGlzKTtcbiAgfVxuXG4gIGdldEZhY3Rvcnk8VCBleHRlbmRzIFdvcmtzcGFjZU1vZGVsRmFjdG9yeT4obW9kZWw6IFdvcmtzcGFjZU1vZGVsIHwgc3RyaW5nKTogVCB7XG4gICAgaWYgKHR5cGVvZiBtb2RlbCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIG1vZGVsID0gbW9kZWwudHlwZTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmZhY3Rvcmllc1ttb2RlbF0pIHtcbiAgICAgIHRocm93IG5ldyBXb3Jrc3BhY2VFbmdpbmVFcnJvcignQ2Fubm90IGZpbmQgV29ya3NwYWNlIGZhY3RvcnkgZm9yIG1vZGVsIHdpdGggdHlwZTogWycgKyBtb2RlbCArICddJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZhY3Rvcmllc1ttb2RlbF0gYXMgVDtcbiAgfVxuXG4gIHNldERyYWdnaW5nTm9kZShpZDogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuZHJhZ2dpbmdJRCAhPT0gaWQpIHtcbiAgICAgIHRoaXMuZHJhZ2dpbmdJRCA9IGlkO1xuICAgICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChjYikgPT4gY2IubW9kZWxEcmFnU3RhcnQ/LigpKTtcbiAgICB9IGVsc2UgaWYgKGlkID09PSBudWxsKSB7XG4gICAgICB0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGNiKSA9PiBjYi5tb2RlbERyYWdFbmQ/LigpKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IERpcmVjdGlvbkxheW91dENoaWxkRGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vd2lkZ2V0cy9sYXlvdXRzL0RpcmVjdGlvbmFsQ2hpbGRXaWRnZXQnO1xuaW1wb3J0IHsgUmVzaXplRGl2aXNpb24sIFdvcmtzcGFjZU5vZGVNb2RlbCwgV29ya3NwYWNlTm9kZU1vZGVsU2VyaWFsaXplZCB9IGZyb20gJy4vV29ya3NwYWNlTm9kZU1vZGVsJztcbmltcG9ydCB7IFdvcmtzcGFjZU1vZGVsIH0gZnJvbSAnLi4vLi4vY29yZS1tb2RlbHMvV29ya3NwYWNlTW9kZWwnO1xuaW1wb3J0IHsgV29ya3NwYWNlRW5naW5lIH0gZnJvbSAnLi4vLi4vY29yZS9Xb3Jrc3BhY2VFbmdpbmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV4cGFuZE5vZGVNb2RlbENoaWxkIHtcbiAgb3JpZ2luYWxXaWR0aDogbnVtYmVyO1xuICBvcmlnaW5hbEhlaWdodDogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEV4cGFuZE5vZGVNb2RlbFNlcmlhbGl6ZWQgZXh0ZW5kcyBXb3Jrc3BhY2VOb2RlTW9kZWxTZXJpYWxpemVkIHt9XG5cbi8qKlxuICogVGhpcyBpcyBhIHNtYXJ0ZXIgdmVyc2lvbiBvZiB0aGUgc3RhbmRhcmQgTm9kZSBtb2RlbCB3aGljaCBjYW4gd29yayB3aXRoXG4gKiBwYW5lbHMgdGhhdCBleHBhbmQsIGFuZCB0cmVhdHMgdGhlbSBsaWtlIHN0YW5kYXJkIHBhbmVscywgYWxsb3dpbmcgdGhlbSB0byByZXNpemVcbiAqXG4gKiBUaGUgbWFnaWMgaGFwcGVucyBpbiB0aGUgZ2V0UGFuZWxEaXJlY3RpdmUoKSBtZXRob2QsIHdoaWNoIHRlbGxzIGNoaWxkIHRvIGJlaGF2ZSBzbGlnaHRseSBkaWZmZXJlbnRseS5cbiAqIFRoaXMgbWVhbnMgZm9yIGV4YW1wbGUsIHdlIGNhbiBjYXVzZSB0aGUgbGFzdCBwYW5lbCBpbiBhIHNldCB0byBleHBhbmQsIGV2ZW4gaWYgbm9uZSBvZiB0aGUgY2hpbGRyZW4gYWN0dWFsbHlcbiAqIHdhbnQgdG8gZXhwYW5kIChleHBhbmRIb3Jpem9udGFsL1ZlcnRpY2FsID09IGZhbHNlKVxuICovXG5leHBvcnQgY2xhc3MgRXhwYW5kTm9kZU1vZGVsPFxuICBTIGV4dGVuZHMgRXhwYW5kTm9kZU1vZGVsU2VyaWFsaXplZCA9IEV4cGFuZE5vZGVNb2RlbFNlcmlhbGl6ZWRcbj4gZXh0ZW5kcyBXb3Jrc3BhY2VOb2RlTW9kZWw8Uz4ge1xuICBkaW1lbnNpb25zOiBNYXA8V29ya3NwYWNlTW9kZWwsIEV4cGFuZE5vZGVNb2RlbENoaWxkPjtcbiAgcmVuZGVyZWQ6IFNldDxXb3Jrc3BhY2VNb2RlbD47XG4gIHF1ZXVlZEZvckluaXRpYWxTaXplQ2hlY2s6IFNldDxXb3Jrc3BhY2VNb2RlbD47XG4gIHByaXZhdGUgYWxsb3dTaXplUmVjb21wdXRhdGlvbjogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLnJlbmRlcmVkID0gbmV3IFNldCgpO1xuICAgIHRoaXMucXVldWVkRm9ySW5pdGlhbFNpemVDaGVjayA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLmFsbG93U2l6ZVJlY29tcHV0YXRpb24gPSB0cnVlO1xuICB9XG5cbiAgcmVjb21wdXRlSW5pdGlhbFNpemVzKCkge1xuICAgIHRoaXMucmVuZGVyZWQuY2xlYXIoKTtcbiAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKG1vZGVsKSA9PiB7XG4gICAgICBpZiAodGhpcy5xdWV1ZWRGb3JJbml0aWFsU2l6ZUNoZWNrLmhhcyhtb2RlbCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5xdWV1ZWRGb3JJbml0aWFsU2l6ZUNoZWNrLmFkZChtb2RlbCk7XG4gICAgICBjb25zdCBsMSA9IG1vZGVsLnJfZGltZW5zaW9ucy5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgICAgdXBkYXRlZDogKCkgPT4ge1xuICAgICAgICAgIGwxKCk7XG4gICAgICAgICAgdGhpcy5xdWV1ZWRGb3JJbml0aWFsU2l6ZUNoZWNrLmRlbGV0ZShtb2RlbCk7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlZC5hZGQobW9kZWwpO1xuICAgICAgICAgIGlmICh0aGlzLnF1ZXVlZEZvckluaXRpYWxTaXplQ2hlY2suc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5yZWNvbXB1dGVTaXplcygpO1xuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlTGF5b3V0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB0aGlzLmludmFsaWRhdGVMYXlvdXQoKTtcbiAgfVxuXG4gIGZyb21BcnJheShwYXlsb2FkOiBTLCBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZSkge1xuICAgIC8vIHdlIGRpc2FibGUgcmVjb21wdXRhdGlvbiBzaW5jZSB0aGUgcGFuZWxzIHNob3VsZCBoYXZlIHRoZWlyIGNvcnJlY3Qgc2l6ZXNcbiAgICB0aGlzLmFsbG93U2l6ZVJlY29tcHV0YXRpb24gPSBmYWxzZTtcbiAgICBzdXBlci5mcm9tQXJyYXkocGF5bG9hZCwgZW5naW5lKTtcbiAgICB0aGlzLmFsbG93U2l6ZVJlY29tcHV0YXRpb24gPSB0cnVlO1xuICB9XG5cbiAgYWRkTW9kZWwobW9kZWw6IFdvcmtzcGFjZU1vZGVsLCBwb3NpdGlvbjogbnVtYmVyID0gbnVsbCk6IHRoaXMge1xuICAgIHN1cGVyLmFkZE1vZGVsKG1vZGVsLCBwb3NpdGlvbik7XG4gICAgLy8gbW9kZWwgd2FudCB0byBleHBhbmQsIHN0b3JlIHRoZWlyIG9yaWdpbmFsIHNpemVzIHNvIHdlIGNhbiByZXZlcnQgd2hlbiB3ZSBhZGQgdGhlbSBzb21ld2hlcmUgZWxzZVxuICAgIGlmICgodGhpcy52ZXJ0aWNhbCAmJiBtb2RlbC5leHBhbmRWZXJ0aWNhbCkgfHwgKCF0aGlzLnZlcnRpY2FsICYmIG1vZGVsLmV4cGFuZEhvcml6b250YWwpKSB7XG4gICAgICB0aGlzLmRpbWVuc2lvbnMuc2V0KG1vZGVsLCB7XG4gICAgICAgIG9yaWdpbmFsV2lkdGg6IG1vZGVsLnNpemUud2lkdGgsXG4gICAgICAgIG9yaWdpbmFsSGVpZ2h0OiBtb2RlbC5zaXplLmhlaWdodFxuICAgICAgfSk7XG4gICAgICBjb25zdCBsMiA9IG1vZGVsLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgICByZW1vdmVkOiAoKSA9PiB7XG4gICAgICAgICAgbDI/LigpO1xuICAgICAgICAgIG1vZGVsLnNldFNpemUoe1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMuZGltZW5zaW9ucy5nZXQobW9kZWwpLm9yaWdpbmFsV2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuZGltZW5zaW9ucy5nZXQobW9kZWwpLm9yaWdpbmFsSGVpZ2h0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5kaW1lbnNpb25zLmRlbGV0ZShtb2RlbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBtb2RlbCB3YW50cyB0byBzaHJpbmssIHJlc2V0IGl0cyBzaXplIHNvIGl0IHJlbmRlcnMgYXMgc21hbGwgYXMgcG9zc2libGUgKGluaXRpYWxseSlcbiAgICBlbHNlIGlmICgodGhpcy52ZXJ0aWNhbCAmJiAhbW9kZWwuZXhwYW5kVmVydGljYWwpIHx8ICghdGhpcy52ZXJ0aWNhbCAmJiAhbW9kZWwuZXhwYW5kSG9yaXpvbnRhbCkpIHtcbiAgICAgIGlmICh0aGlzLmFsbG93U2l6ZVJlY29tcHV0YXRpb24pIHtcbiAgICAgICAgbW9kZWwuc2V0U2l6ZSh7XG4gICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlY29tcHV0ZUluaXRpYWxTaXplcygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVjb21wdXRlU2l6ZXMoKSB7XG4gICAgY29uc3QgZGltcyA9IEFycmF5LmZyb20odGhpcy5kaW1lbnNpb25zLmtleXMoKSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaW1zLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgZGltc1tpXS5zZXRIZWlnaHQoZGltc1tpXS5yX2RpbWVuc2lvbnMuc2l6ZS5oZWlnaHQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGltc1tpXS5zZXRXaWR0aChkaW1zW2ldLnJfZGltZW5zaW9ucy5zaXplLndpZHRoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRSZXNpemVEaXZpc2lvbnMoKTogUmVzaXplRGl2aXNpb25bXSB7XG4gICAgbGV0IGRpdnM6IFJlc2l6ZURpdmlzaW9uW10gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucl9kaXZpc2lvbnMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBkaXZzLnB1c2goe1xuICAgICAgICBiZWZvcmU6IHRoaXMuY2hpbGRyZW5baSAtIDFdLFxuICAgICAgICBhZnRlcjogdGhpcy5jaGlsZHJlbltpXSxcbiAgICAgICAgZGltZW5zaW9uczogdGhpcy5yX2RpdmlzaW9uc1tpXSxcbiAgICAgICAgdmVydGljYWw6ICF0aGlzLnZlcnRpY2FsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRpdnM7XG4gIH1cblxuICBnZXRQYW5lbERpcmVjdGl2ZShjaGlsZDogV29ya3NwYWNlTW9kZWwpOiBEaXJlY3Rpb25MYXlvdXRDaGlsZERpcmVjdGl2ZSB7XG4gICAgLy9ubyBleHBhbmQgbm9kZXMsIHNvIHRyZWF0IHRoZSBsYXN0IG9uZSBhcyB0aGUgZXhwYW5kIG5vZGVcbiAgICBpZiAodGhpcy5kaW1lbnNpb25zLnNpemUgPT09IDAgJiYgdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKSA9PT0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdXBlci5nZXRQYW5lbERpcmVjdGl2ZShjaGlsZCksXG4gICAgICAgIGV4cGFuZDogdHJ1ZVxuICAgICAgfTtcbiAgICB9XG4gICAgLy8gbWFrZSB0aGUgZmlyc3QgZXhwYW5kIG5vZGVzIG9wZXJhdGUgbGlrZSBhIG5vcm1hbCBub2RlXG4gICAgZWxzZSBpZiAoXG4gICAgICB0aGlzLmRpbWVuc2lvbnMuc2l6ZSA+IDEgJiZcbiAgICAgIEFycmF5LmZyb20odGhpcy5kaW1lbnNpb25zLmtleXMoKSkuaW5kZXhPZihjaGlsZCkgPCB0aGlzLmRpbWVuc2lvbnMuc2l6ZSAtIDEgJiZcbiAgICAgIHRoaXMucmVuZGVyZWQuaGFzKGNoaWxkKVxuICAgICkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3VwZXIuZ2V0UGFuZWxEaXJlY3RpdmUoY2hpbGQpLFxuICAgICAgICBleHBhbmQ6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBzdXBlci5nZXRQYW5lbERpcmVjdGl2ZShjaGlsZCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFdvcmtzcGFjZU1vZGVsIH0gZnJvbSAnLi4vY29yZS1tb2RlbHMvV29ya3NwYWNlTW9kZWwnO1xuaW1wb3J0IHsgV29ya3NwYWNlTW9kZWxGYWN0b3J5LCBXb3Jrc3BhY2VNb2RlbEZhY3RvcnlFdmVudCB9IGZyb20gJy4uL2NvcmUvV29ya3NwYWNlTW9kZWxGYWN0b3J5JztcblxuZXhwb3J0IGludGVyZmFjZSBTdWJDb21wb25lbnRSZW5kZXJlcjxUIGV4dGVuZHMgV29ya3NwYWNlTW9kZWwgPSBXb3Jrc3BhY2VNb2RlbD4ge1xuICBtYXRjaE1vZGVsKG1vZGVsOiBUKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFN1YkNvbXBvbmVudE1vZGVsRmFjdG9yeTxcbiAgVCBleHRlbmRzIFdvcmtzcGFjZU1vZGVsLFxuICBSIGV4dGVuZHMgU3ViQ29tcG9uZW50UmVuZGVyZXIsXG4gIEUgZXh0ZW5kcyBXb3Jrc3BhY2VNb2RlbEZhY3RvcnlFdmVudDxUPiA9IFdvcmtzcGFjZU1vZGVsRmFjdG9yeUV2ZW50PFQ+XG4+IGV4dGVuZHMgV29ya3NwYWNlTW9kZWxGYWN0b3J5PFQsIEU+IHtcbiAgcmVuZGVyZXJzOiBTZXQ8Uj47XG5cbiAgY29uc3RydWN0b3IodHlwZTogc3RyaW5nKSB7XG4gICAgc3VwZXIodHlwZSk7XG4gICAgdGhpcy5yZW5kZXJlcnMgPSBuZXcgU2V0KCk7XG4gIH1cblxuICBhZGRSZW5kZXJlcihyOiBSKSB7XG4gICAgdGhpcy5yZW5kZXJlcnMuYWRkKHIpO1xuICB9XG5cbiAgZ2V0UmVuZGVyZXJGb3JNb2RlbChtb2RlbDogV29ya3NwYWNlTW9kZWwpOiBSIHtcbiAgICBmb3IgKGxldCByIG9mIHRoaXMucmVuZGVyZXJzLnZhbHVlcygpKSB7XG4gICAgICBpZiAoci5tYXRjaE1vZGVsKG1vZGVsKSkge1xuICAgICAgICByZXR1cm4gcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IFdvcmtzcGFjZUVuZ2luZSB9IGZyb20gJy4uLy4uL2NvcmUvV29ya3NwYWNlRW5naW5lJztcbmltcG9ydCB7IFdvcmtzcGFjZU5vZGVGYWN0b3J5LCBXb3Jrc3BhY2VOb2RlUGFuZWxSZW5kZXJlciB9IGZyb20gJy4vV29ya3NwYWNlTm9kZUZhY3RvcnknO1xuaW1wb3J0IHsgV29ya3NwYWNlTm9kZU1vZGVsIH0gZnJvbSAnLi9Xb3Jrc3BhY2VOb2RlTW9kZWwnO1xuaW1wb3J0IHsgRHJhZ2dhYmxlV2lkZ2V0IH0gZnJvbSAnLi4vLi4vd2lkZ2V0cy9wcmltaXRpdmVzL0RyYWdnYWJsZVdpZGdldCc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJy4uLy4uL2NvcmUtbW9kZWxzL1dvcmtzcGFjZU1vZGVsJztcbmltcG9ydCB7IHVzZU1vZGVsRWxlbWVudCB9IGZyb20gJy4uLy4uL3dpZGdldHMvaG9va3MvdXNlTW9kZWxFbGVtZW50JztcbmltcG9ydCB7IERpcmVjdGlvbmFsTGF5b3V0V2lkZ2V0IH0gZnJvbSAnLi4vLi4vd2lkZ2V0cy9sYXlvdXRzL0RpcmVjdGlvbmFsTGF5b3V0V2lkZ2V0JztcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJlc2l6ZURpbWVuc2lvbkNvbnRhaW5lciB9IGZyb20gJy4vUmVzaXplRGltZW5zaW9uQ29udGFpbmVyJztcblxuZXhwb3J0IGludGVyZmFjZSBXb3Jrc3BhY2VOb2RlV2lkZ2V0UHJvcHMge1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbiAgZmFjdG9yeTogV29ya3NwYWNlTm9kZUZhY3Rvcnk7XG4gIG1vZGVsOiBXb3Jrc3BhY2VOb2RlTW9kZWw7XG4gIGdlbmVyYXRlRGl2aWRlcj86IChkaXZpZGVyOiBSZXNpemVEaW1lbnNpb25Db250YWluZXIpID0+IEpTWC5FbGVtZW50O1xuICBjbGFzc05hbWU/OiBhbnk7XG59XG5cbmV4cG9ydCBjb25zdCBXb3Jrc3BhY2VOb2RlV2lkZ2V0OiBSZWFjdC5GQzxXb3Jrc3BhY2VOb2RlV2lkZ2V0UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHJlZiA9IHVzZU1vZGVsRWxlbWVudCh7XG4gICAgZW5naW5lOiBwcm9wcy5lbmdpbmUsXG4gICAgbW9kZWw6IHByb3BzLm1vZGVsXG4gIH0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5tb2RlbC5yX2RpbWVuc2lvbnMucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICB1cGRhdGVkOiAoKSA9PiB7XG4gICAgICAgIGlmIChwcm9wcy5tb2RlbC52ZXJ0aWNhbCkge1xuICAgICAgICAgIHByb3BzLm1vZGVsLnNldE92ZXJDb25zdHJhaW5lZChyZWYuY3VycmVudC5zY3JvbGxIZWlnaHQgPiBwcm9wcy5tb2RlbC5yX2RpbWVuc2lvbnMuc2l6ZS5oZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb3BzLm1vZGVsLnNldE92ZXJDb25zdHJhaW5lZChyZWYuY3VycmVudC5zY3JvbGxXaWR0aCA+IHByb3BzLm1vZGVsLnJfZGltZW5zaW9ucy5zaXplLndpZHRoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG4gIHJldHVybiAoXG4gICAgPFMuRGlyZWN0aW9uYWxMYXlvdXRcbiAgICAgIGZvcndhcmRSZWY9e3JlZn1cbiAgICAgIGRpbWVuc2lvbkNvbnRhaW5lckZvckRpdmlkZXI9eyhpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgIHJldHVybiBwcm9wcy5tb2RlbC5yX2RpdmlzaW9uc1tpbmRleF07XG4gICAgICB9fVxuICAgICAgZ2V0Q2hpbGRTaXplRGlyZWN0aXZlPXsobW9kZWwpID0+IHtcbiAgICAgICAgcmV0dXJuIHByb3BzLm1vZGVsLmdldFBhbmVsRGlyZWN0aXZlKG1vZGVsKTtcbiAgICAgIH19XG4gICAgICBjbGFzc05hbWU9e3Byb3BzLmNsYXNzTmFtZX1cbiAgICAgIGRhdGE9e3Byb3BzLm1vZGVsLmNoaWxkcmVufVxuICAgICAgZ2VuZXJhdGVEaXZpZGVyPXtwcm9wcy5nZW5lcmF0ZURpdmlkZXJ9XG4gICAgICBnZW5lcmF0ZUVsZW1lbnQ9eyhtKSA9PiB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFdvcmtzcGFjZU5vZGVQYW5lbFdpZGdldCBtb2RlbD17bX0gcmVuZGVyZXI9e3Byb3BzLmZhY3RvcnkuZ2V0UmVuZGVyZXJGb3JNb2RlbChtKX0gZW5naW5lPXtwcm9wcy5lbmdpbmV9IC8+XG4gICAgICAgICk7XG4gICAgICB9fVxuICAgICAgdmVydGljYWw9e3Byb3BzLm1vZGVsLnZlcnRpY2FsfVxuICAgICAgZW5naW5lPXtwcm9wcy5lbmdpbmV9XG4gICAgLz5cbiAgKTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29ya3NwYWNlTm9kZVBhbmVsV2lkZ2V0UHJvcHMge1xuICBtb2RlbDogV29ya3NwYWNlTW9kZWw7XG4gIHJlbmRlcmVyOiBXb3Jrc3BhY2VOb2RlUGFuZWxSZW5kZXJlcjtcbiAgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmU7XG59XG5cbmV4cG9ydCBjb25zdCBXb3Jrc3BhY2VOb2RlUGFuZWxXaWRnZXQ6IFJlYWN0LkZDPFdvcmtzcGFjZU5vZGVQYW5lbFdpZGdldFByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBmYWN0b3J5ID0gcHJvcHMuZW5naW5lLmdldEZhY3RvcnkocHJvcHMubW9kZWwpO1xuXG4gIGNvbnN0IHJlZiA9IHVzZU1vZGVsRWxlbWVudCh7XG4gICAgbW9kZWw6IHByb3BzLm1vZGVsLFxuICAgIGVuZ2luZTogcHJvcHMuZW5naW5lXG4gIH0pO1xuICByZXR1cm4gKFxuICAgIDxTLkNvbnRhaW5lciByZWY9e3JlZn0+XG4gICAgICB7cHJvcHMucmVuZGVyZXIgPyAoXG4gICAgICAgIDxEcmFnZ2FibGVXaWRnZXQgbW9kZWw9e3Byb3BzLm1vZGVsfSBlbmdpbmU9e3Byb3BzLmVuZ2luZX0+XG4gICAgICAgICAge3Byb3BzLnJlbmRlcmVyLnJlbmRlclRpdGxlQmFyKHtcbiAgICAgICAgICAgIGVuZ2luZTogcHJvcHMuZW5naW5lLFxuICAgICAgICAgICAgbW9kZWw6IHByb3BzLm1vZGVsXG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvRHJhZ2dhYmxlV2lkZ2V0PlxuICAgICAgKSA6IG51bGx9XG4gICAgICA8Uy5Db250ZW50PlxuICAgICAgICB7ZmFjdG9yeS5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgICAgICAgIG1vZGVsOiBwcm9wcy5tb2RlbCxcbiAgICAgICAgICBlbmdpbmU6IHByb3BzLmVuZ2luZVxuICAgICAgICB9KX1cbiAgICAgIDwvUy5Db250ZW50PlxuICAgIDwvUy5Db250YWluZXI+XG4gICk7XG59O1xubmFtZXNwYWNlIFMge1xuICBleHBvcnQgY29uc3QgRGlyZWN0aW9uYWxMYXlvdXQgPSBzdHlsZWQoRGlyZWN0aW9uYWxMYXlvdXRXaWRnZXQpYFxuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgYDtcblxuICBleHBvcnQgY29uc3QgQ29udGFpbmVyID0gc3R5bGVkLmRpdmBcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IENvbnRlbnQgPSBzdHlsZWQuZGl2YFxuICAgIGZsZXgtZ3JvdzogMTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG1heC1oZWlnaHQ6IDEwMCU7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgYDtcbn1cbiIsImltcG9ydCB7IFdvcmtzcGFjZU5vZGVNb2RlbCB9IGZyb20gJy4vV29ya3NwYWNlTm9kZU1vZGVsJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFdvcmtzcGFjZU1vZGVsRmFjdG9yeUV2ZW50IH0gZnJvbSAnLi4vLi4vY29yZS9Xb3Jrc3BhY2VNb2RlbEZhY3RvcnknO1xuaW1wb3J0IHsgV29ya3NwYWNlTW9kZWwgfSBmcm9tICcuLi8uLi9jb3JlLW1vZGVscy9Xb3Jrc3BhY2VNb2RlbCc7XG5pbXBvcnQgeyBTdWJDb21wb25lbnRNb2RlbEZhY3RvcnksIFN1YkNvbXBvbmVudFJlbmRlcmVyIH0gZnJvbSAnLi4vU3ViQ29tcG9uZW50TW9kZWxGYWN0b3J5JztcbmltcG9ydCB7IFdvcmtzcGFjZU5vZGVXaWRnZXQgfSBmcm9tICcuL1dvcmtzcGFjZU5vZGVXaWRnZXQnO1xuaW1wb3J0IHsgV29ya3NwYWNlRW5naW5lIH0gZnJvbSAnLi4vLi4vY29yZS9Xb3Jrc3BhY2VFbmdpbmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlclRpdGxlQmFyRXZlbnQ8VCBleHRlbmRzIFdvcmtzcGFjZU1vZGVsPiB7XG4gIG1vZGVsOiBUO1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXb3Jrc3BhY2VOb2RlUGFuZWxSZW5kZXJlcjxUIGV4dGVuZHMgV29ya3NwYWNlTW9kZWwgPSBXb3Jrc3BhY2VNb2RlbD4gZXh0ZW5kcyBTdWJDb21wb25lbnRSZW5kZXJlcjxUPiB7XG4gIHJlbmRlclRpdGxlQmFyKG1vZGVsOiBSZW5kZXJUaXRsZUJhckV2ZW50PFQ+KTogSlNYLkVsZW1lbnQ7XG59XG5cbmV4cG9ydCBjbGFzcyBXb3Jrc3BhY2VOb2RlRmFjdG9yeTxcbiAgVCBleHRlbmRzIFdvcmtzcGFjZU5vZGVNb2RlbCA9IFdvcmtzcGFjZU5vZGVNb2RlbCxcbiAgUiBleHRlbmRzIFdvcmtzcGFjZU5vZGVQYW5lbFJlbmRlcmVyID0gV29ya3NwYWNlTm9kZVBhbmVsUmVuZGVyZXJcbj4gZXh0ZW5kcyBTdWJDb21wb25lbnRNb2RlbEZhY3Rvcnk8VCwgUj4ge1xuICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcgPSBXb3Jrc3BhY2VOb2RlTW9kZWwuTkFNRSkge1xuICAgIHN1cGVyKHR5cGUpO1xuICB9XG5cbiAgZ2VuZXJhdGVDb250ZW50KGV2ZW50OiBXb3Jrc3BhY2VNb2RlbEZhY3RvcnlFdmVudDxUPik6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gPFdvcmtzcGFjZU5vZGVXaWRnZXQgbW9kZWw9e2V2ZW50Lm1vZGVsfSBlbmdpbmU9e2V2ZW50LmVuZ2luZX0gZmFjdG9yeT17dGhpc30gLz47XG4gIH1cblxuICBwcm90ZWN0ZWQgX2dlbmVyYXRlTW9kZWwoKTogVCB7XG4gICAgcmV0dXJuIG5ldyBXb3Jrc3BhY2VOb2RlTW9kZWwoKSBhcyBUO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VUcmF5RmFjdG9yeSwgV29ya3NwYWNlVHJheU1vZGVsLCBXb3Jrc3BhY2VUcmF5TW9kZSB9IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1tb2RlbC10cmF5JztcbmltcG9ydCB7IFdvcmtzcGFjZU1vZGVsRmFjdG9yeUV2ZW50IH0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWNvcmUnO1xuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBUcmF5ID0gc3R5bGVkLmRpdmBcbiAgICBoZWlnaHQ6IDE1cHg7XG4gICAgYmFja2dyb3VuZDogbWVkaXVtcHVycGxlO1xuICBgO1xufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdFRyYXlGYWN0b3J5IGV4dGVuZHMgV29ya3NwYWNlVHJheUZhY3Rvcnkge1xuICBnZW5lcmF0ZVRyYXlIZWFkZXIoZXZlbnQ6IFdvcmtzcGFjZU1vZGVsRmFjdG9yeUV2ZW50PFdvcmtzcGFjZVRyYXlNb2RlbD4pOiBKU1guRWxlbWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTLlRyYXlcbiAgICAgICAgb25Eb3VibGVDbGljaz17KCkgPT4ge1xuICAgICAgICAgIGV2ZW50Lm1vZGVsLnNldE1vZGUoXG4gICAgICAgICAgICBldmVudC5tb2RlbC5tb2RlID09PSBXb3Jrc3BhY2VUcmF5TW9kZS5OT1JNQUwgPyBXb3Jrc3BhY2VUcmF5TW9kZS5DT0xMQVBTRUQgOiBXb3Jrc3BhY2VUcmF5TW9kZS5OT1JNQUxcbiAgICAgICAgICApO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBJY29uTmFtZSB9IGZyb20gJ0Bmb3J0YXdlc29tZS9mcmVlLXNvbGlkLXN2Zy1pY29ucyc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VFbmdpbmUsIFdvcmtzcGFjZU1vZGVsIH0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWNvcmUnO1xuXG5leHBvcnQgY2xhc3MgRGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWwgZXh0ZW5kcyBXb3Jrc3BhY2VNb2RlbCB7XG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIGljb246IEljb25OYW1lO1xuXG4gIGNvbnN0cnVjdG9yKGRpc3BsYXlOYW1lOiBzdHJpbmcsIGljb246IEljb25OYW1lID0gJ2N1YmUnKSB7XG4gICAgc3VwZXIoJ2RlZmF1bHQnKTtcbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gICAgdGhpcy5pY29uID0gaWNvbjtcbiAgICB0aGlzLnNldEV4cGFuZChmYWxzZSwgdHJ1ZSk7XG4gIH1cblxuICB0b0FycmF5KCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b0FycmF5KCksXG4gICAgICBkaXNwbGF5TmFtZTogdGhpcy5kaXNwbGF5TmFtZSxcbiAgICAgIGljb246IHRoaXMuaWNvblxuICAgIH07XG4gIH1cblxuICBmcm9tQXJyYXkocGF5bG9hZDogYW55LCBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZSkge1xuICAgIHN1cGVyLmZyb21BcnJheShwYXlsb2FkLCBlbmdpbmUpO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBwYXlsb2FkWydkaXNwbGF5TmFtZSddO1xuICAgIHRoaXMuaWNvbiA9IHBheWxvYWRbJ2ljb24nXTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWwgfSBmcm9tICcuLi9wYW5lbC9EZWZhdWx0V29ya3NwYWNlUGFuZWxNb2RlbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdFBhbmVsQ29udGVudFdpZGdldFByb3BzIHtcbiAgbW9kZWw6IERlZmF1bHRXb3Jrc3BhY2VQYW5lbE1vZGVsO1xufVxuXG5leHBvcnQgY29uc3QgTWV0YTogUmVhY3QuRkM8eyBsYWJlbDogc3RyaW5nOyB2YWx1ZTogc3RyaW5nIH0+ID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFMuTWV0YT5cbiAgICAgIDxTLk1ldGFLZXk+e3Byb3BzLmxhYmVsfTwvUy5NZXRhS2V5PlxuICAgICAgPFMuTWV0YVZhbHVlPntwcm9wcy52YWx1ZX08L1MuTWV0YVZhbHVlPlxuICAgIDwvUy5NZXRhPlxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IERlZmF1bHRQYW5lbENvbnRlbnRXaWRnZXQ6IFJlYWN0LkZDPERlZmF1bHRQYW5lbENvbnRlbnRXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlZi5jdXJyZW50LnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgY29uc3QgcmVzID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZWYuY3VycmVudC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgIH0sIDEwMDApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQocmVzKTtcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIChcbiAgICA8Uy5Db250YWluZXI+XG4gICAgICA8TWV0YSBsYWJlbD1cIlRpdGxlXCIgdmFsdWU9e3Byb3BzLm1vZGVsLmRpc3BsYXlOYW1lfSAvPlxuICAgICAgPE1ldGEgbGFiZWw9XCJJRFwiIHZhbHVlPXtwcm9wcy5tb2RlbC5pZC5zdWJzdHJpbmcoMCwgNyl9IC8+XG4gICAgICA8TWV0YSBsYWJlbD1cIkV4cGFuZCBob3Jpem9udGFsXCIgdmFsdWU9e3Byb3BzLm1vZGVsLmV4cGFuZEhvcml6b250YWwgPyAndHJ1ZScgOiAnZmFsc2UnfSAvPlxuICAgICAgPE1ldGEgbGFiZWw9XCJFeHBhbmQgdmVydGljYWxcIiB2YWx1ZT17cHJvcHMubW9kZWwuZXhwYW5kVmVydGljYWwgPyAndHJ1ZScgOiAnZmFsc2UnfSAvPlxuICAgICAgPFMuUmVuZGVyaW5nIHJlZj17cmVmfT5yZW5kZXJpbmc8L1MuUmVuZGVyaW5nPlxuICAgIDwvUy5Db250YWluZXI+XG4gICk7XG59O1xubmFtZXNwYWNlIFMge1xuICBleHBvcnQgY29uc3QgQ29udGFpbmVyID0gc3R5bGVkLmRpdmBcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQpO1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBmbGV4LWdyb3c6IDE7XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IE1ldGEgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDExcHg7XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IFJlbmRlcmluZyA9IHN0eWxlZC5kaXZgXG4gICAgYmFja2dyb3VuZDogcmdiKDcyLCA0MSwgNDEpO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgZm9udC1zaXplOiAxMXB4O1xuICAgIHBhZGRpbmc6IDJweCA1cHg7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBgO1xuXG4gIGV4cG9ydCBjb25zdCBNZXRhS2V5ID0gc3R5bGVkLmRpdmBgO1xuXG4gIGV4cG9ydCBjb25zdCBNZXRhVmFsdWUgPSBzdHlsZWQuZGl2YFxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIHBhZGRpbmctbGVmdDogNXB4O1xuICBgO1xufVxuIiwiaW1wb3J0IHsgRGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWwgfSBmcm9tICcuL0RlZmF1bHRXb3Jrc3BhY2VQYW5lbE1vZGVsJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERlZmF1bHRQYW5lbENvbnRlbnRXaWRnZXQgfSBmcm9tICcuLi93aWRnZXRzL0RlZmF1bHRQYW5lbENvbnRlbnRXaWRnZXQnO1xuaW1wb3J0IHsgV29ya3NwYWNlTW9kZWxGYWN0b3J5LCBXb3Jrc3BhY2VNb2RlbEZhY3RvcnlFdmVudCB9IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcblxuZXhwb3J0IGNsYXNzIERlZmF1bHRXb3Jrc3BhY2VQYW5lbEZhY3RvcnkgZXh0ZW5kcyBXb3Jrc3BhY2VNb2RlbEZhY3Rvcnk8RGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWw+IHtcbiAgc3RhdGljIFRZUEUgPSAnZGVmYXVsdCc7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoRGVmYXVsdFdvcmtzcGFjZVBhbmVsRmFjdG9yeS5UWVBFKTtcbiAgfVxuXG4gIGdlbmVyYXRlQ29udGVudChldmVudDogV29ya3NwYWNlTW9kZWxGYWN0b3J5RXZlbnQ8RGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWw+KTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8RGVmYXVsdFBhbmVsQ29udGVudFdpZGdldCBtb2RlbD17ZXZlbnQubW9kZWx9IC8+O1xuICB9XG5cbiAgcHJvdGVjdGVkIF9nZW5lcmF0ZU1vZGVsKCk6IERlZmF1bHRXb3Jrc3BhY2VQYW5lbE1vZGVsIHtcbiAgICByZXR1cm4gbmV3IERlZmF1bHRXb3Jrc3BhY2VQYW5lbE1vZGVsKCdUZXN0Jyk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IFdvcmtzcGFjZUVuZ2luZSB9IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCB7IEZsb2F0aW5nV2luZG93TW9kZWwgfSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtbW9kZWwtZmxvYXRpbmctd2luZG93JztcblxuZXhwb3J0IGludGVyZmFjZSBEZWZhdWx0RmxvYXRpbmdXaW5kb3dXaWRnZXRQcm9wcyB7XG4gIG1vZGVsOiBGbG9hdGluZ1dpbmRvd01vZGVsO1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbiAgdGl0bGViYXI6IEpTWC5FbGVtZW50O1xuICBjb250ZW50OiBKU1guRWxlbWVudDtcbn1cblxuZXhwb3J0IGNvbnN0IERlZmF1bHRGbG9hdGluZ1dpbmRvd1dpZGdldDogUmVhY3QuRkM8RGVmYXVsdEZsb2F0aW5nV2luZG93V2lkZ2V0UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPFMuQ29udGFpbmVyPlxuICAgICAge3Byb3BzLnRpdGxlYmFyfVxuICAgICAge3Byb3BzLmNvbnRlbnR9XG4gICAgPC9TLkNvbnRhaW5lcj5cbiAgKTtcbn07XG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuICAgIGJveC1zaGFkb3c6IDAgMCAyMHB4IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgIGJvcmRlcjogc29saWQgMXB4IHJnYigxMCwgMTAsIDEwKTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBgO1xufVxuIiwiaW1wb3J0IHtcbiAgRmxvYXRpbmdXaW5kb3dGYWN0b3J5LFxuICBGbG9hdGluZ1dpbmRvd01vZGVsLFxuICBGbG9hdGluZ1dpbmRvd1JlbmRlcmVyRXZlbnRcbn0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLW1vZGVsLWZsb2F0aW5nLXdpbmRvdyc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERlZmF1bHRGbG9hdGluZ1dpbmRvd1dpZGdldCB9IGZyb20gJy4uL3dpZGdldHMvRGVmYXVsdEZsb2F0aW5nV2luZG93V2lkZ2V0JztcblxuZXhwb3J0IGNsYXNzIERlZmF1bHRXaW5kb3dNb2RlbCBleHRlbmRzIEZsb2F0aW5nV2luZG93TW9kZWwge1xuICBjb25zdHJ1Y3RvcihjaGlsZD86IFdvcmtzcGFjZU1vZGVsKSB7XG4gICAgc3VwZXIoRGVmYXVsdFdpbmRvd01vZGVsRmFjdG9yeS5UWVBFLCBjaGlsZCk7XG4gICAgdGhpcy5zZXRTaXplKHtcbiAgICAgIHdpZHRoOiAyMDAsXG4gICAgICBoZWlnaHQ6IDIwMFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0V2luZG93TW9kZWxGYWN0b3J5IGV4dGVuZHMgRmxvYXRpbmdXaW5kb3dGYWN0b3J5PERlZmF1bHRXaW5kb3dNb2RlbD4ge1xuICBzdGF0aWMgVFlQRSA9ICdmbG9hdGluZy13aW5kb3cnO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKERlZmF1bHRXaW5kb3dNb2RlbEZhY3RvcnkuVFlQRSk7XG4gIH1cblxuICBnZW5lcmF0ZUNvbnRlbnQoZXZlbnQ6IEZsb2F0aW5nV2luZG93UmVuZGVyZXJFdmVudDxEZWZhdWx0V2luZG93TW9kZWw+KTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8RGVmYXVsdEZsb2F0aW5nV2luZG93V2lkZ2V0IHsuLi5ldmVudH0gLz47XG4gIH1cblxuICBwcm90ZWN0ZWQgX2dlbmVyYXRlTW9kZWwoKTogRmxvYXRpbmdXaW5kb3dNb2RlbCB7XG4gICAgcmV0dXJuIG5ldyBEZWZhdWx0V2luZG93TW9kZWwoKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsgRm9udEF3ZXNvbWVJY29uIH0gZnJvbSAnQGZvcnRhd2Vzb21lL3JlYWN0LWZvbnRhd2Vzb21lJztcblxuZXhwb3J0IGludGVyZmFjZSBEZWZhdWx0UGFuZWxUaXRsZVdpZGdldFByb3BzIHtcbiAgdGl0bGU6IHN0cmluZztcbiAgY2xvc2U6ICgpID0+IGFueTtcbn1cblxubmFtZXNwYWNlIFMge1xuICBleHBvcnQgY29uc3QgQ29udGFpbmVyID0gc3R5bGVkLmRpdmBcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG4gICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBtaW4td2lkdGg6IDEwMHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcblxuICAgICY6aG92ZXIge1xuICAgICAgYmFja2dyb3VuZDogYmxhY2s7XG4gICAgfVxuICBgO1xuXG4gIGV4cG9ydCBjb25zdCBUaXRsZSA9IHN0eWxlZC5kaXZgXG4gICAgZmxleC1ncm93OiAxO1xuICBgO1xuXG4gIGV4cG9ydCBjb25zdCBDbG9zZSA9IHN0eWxlZC5kaXZgXG4gICAgb3BhY2l0eTogMC41O1xuICAgIGZsZXgtZ3JvdzogMDtcbiAgICBmbGV4LXNocmluazogMDtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gIGA7XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0UGFuZWxUaXRsZVdpZGdldCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxEZWZhdWx0UGFuZWxUaXRsZVdpZGdldFByb3BzPiB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFMuQ29udGFpbmVyPlxuICAgICAgICA8Uy5UaXRsZT57dGhpcy5wcm9wcy50aXRsZX08L1MuVGl0bGU+XG4gICAgICAgIDxTLkNsb3NlIG9uQ2xpY2s9e3RoaXMucHJvcHMuY2xvc2V9PlxuICAgICAgICAgIDxGb250QXdlc29tZUljb24gaWNvbj1cInRpbWVzXCIgLz5cbiAgICAgICAgPC9TLkNsb3NlPlxuICAgICAgPC9TLkNvbnRhaW5lcj5cbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdFBhbmVsVGFiV2lkZ2V0UHJvcHMge1xuICBuYW1lOiBzdHJpbmc7XG4gIHNlbGVjdGVkOiBib29sZWFuO1xufVxuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2PHsgc2VsZWN0ZWQ6IGJvb2xlYW4gfT5gXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgcGFkZGluZzogNXB4IDEwcHg7XG4gICAgZm9udC1zaXplOiAxM3B4O1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBtaW4td2lkdGg6IDEwMHB4O1xuICAgIG1hcmdpbi1yaWdodDogMnB4O1xuICAgIG1hcmdpbi10b3A6IDJweDtcbiAgICB0cmFuc2Zvcm06IHBlcnNwZWN0aXZlKDRweCkgcm90YXRlWCgxZGVnKTtcbiAgICB0cmFuc2Zvcm0tb3JpZ2luOiBib3R0b20gbGVmdDtcbiAgICBiYWNrZ3JvdW5kOiAkeyhwKSA9PiAocC5zZWxlY3RlZCA/ICdyZ2IoMCwxOTIsMjU1KSAhaW1wb3J0YW50JyA6ICdyZ2JhKDAsMCwwLCAwLjUpJyl9O1xuXG4gICAgJjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kOiBibGFjaztcbiAgICB9XG4gIGA7XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0UGFuZWxUYWJXaWRnZXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8RGVmYXVsdFBhbmVsVGFiV2lkZ2V0UHJvcHM+IHtcbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8Uy5Db250YWluZXIgc2VsZWN0ZWQ9e3RoaXMucHJvcHMuc2VsZWN0ZWR9Pnt0aGlzLnByb3BzLm5hbWV9PC9TLkNvbnRhaW5lcj47XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IEljb25OYW1lIH0gZnJvbSAnQGZvcnRhd2Vzb21lL2ZyZWUtc29saWQtc3ZnLWljb25zJztcbmltcG9ydCB7IEZvbnRBd2Vzb21lSWNvbiB9IGZyb20gJ0Bmb3J0YXdlc29tZS9yZWFjdC1mb250YXdlc29tZSc7XG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdFBhbmVsTWljcm9CdXR0b25XaWRnZXRQcm9wcyB7XG4gIGljb246IEljb25OYW1lO1xuICBzZWxlY3RlZDogYm9vbGVhbjtcbiAgc21hbGxlcjogYm9vbGVhbjtcbn1cblxubmFtZXNwYWNlIFMge1xuICBleHBvcnQgY29uc3QgSWNvbiA9IHN0eWxlZChGb250QXdlc29tZUljb24sIHsgc2hvdWxkRm9yd2FyZFByb3A6IChwKSA9PiBwICE9PSAnJHNtYWxsZXInIH0pPHsgJHNtYWxsZXI6IGJvb2xlYW4gfT5gXG4gICAgZm9udC1zaXplOiAkeyhwKSA9PiAocC4kc21hbGxlciA/IDE0IDogMjApfXB4O1xuICBgO1xuXG4gIGNvbnN0IHNlbGVjdGVkID0gY3NzYFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigwLCAxOTIsIDI1NSkgIWltcG9ydGFudDtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQocmdiYShibGFjaywgMCksIHJnYmEoYmxhY2ssIDAuMikpICFpbXBvcnRhbnQ7XG4gIGA7XG5cbiAgY29uc3QgU01BTExfU0laRSA9IDMwO1xuXG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2PHsgc2VsZWN0ZWQ6IGJvb2xlYW47ICRzbWFsbGVyOiBib29sZWFuIH0+YFxuICAgIG1pbi1oZWlnaHQ6ICR7KHApID0+IChwLiRzbWFsbGVyID8gU01BTExfU0laRSA6IDQ1KX1weDtcbiAgICAkeyhwKSA9PiAocC4kc21hbGxlciA/IGB3aWR0aDogJHtTTUFMTF9TSVpFfXB4YCA6ICcnKX07XG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAkeyhwKSA9PiBwLnNlbGVjdGVkICYmIHNlbGVjdGVkfTtcbiAgICBtYXJnaW4tYm90dG9tOiAxcHg7XG4gIGA7XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0UGFuZWxNaWNyb0J1dHRvbldpZGdldCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxEZWZhdWx0UGFuZWxNaWNyb0J1dHRvbldpZGdldFByb3BzPiB7XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFMuQ29udGFpbmVyICRzbWFsbGVyPXt0aGlzLnByb3BzLnNtYWxsZXJ9IHNlbGVjdGVkPXt0aGlzLnByb3BzLnNlbGVjdGVkfT5cbiAgICAgICAgPFMuSWNvbiAkc21hbGxlcj17dGhpcy5wcm9wcy5zbWFsbGVyfSBpY29uPXt0aGlzLnByb3BzLmljb259IC8+XG4gICAgICA8L1MuQ29udGFpbmVyPlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRhYlJlbmRlcmVyLCBUYWJSZW5kZXJlckV2ZW50IH0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLW1vZGVsLXRhYnMnO1xuaW1wb3J0IHsgUmVuZGVyVGl0bGVCYXJFdmVudCwgV29ya3NwYWNlTm9kZVBhbmVsUmVuZGVyZXIgfSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtY29yZSc7XG5pbXBvcnQgeyBEZWZhdWx0UGFuZWxUaXRsZVdpZGdldCB9IGZyb20gJy4vd2lkZ2V0cy9EZWZhdWx0UGFuZWxUaXRsZVdpZGdldCc7XG5pbXBvcnQgeyBEZWZhdWx0V29ya3NwYWNlUGFuZWxNb2RlbCB9IGZyb20gJy4vcGFuZWwvRGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWwnO1xuaW1wb3J0IHsgRGVmYXVsdFBhbmVsVGFiV2lkZ2V0IH0gZnJvbSAnLi93aWRnZXRzL0RlZmF1bHRQYW5lbFRhYldpZGdldCc7XG5pbXBvcnQgeyBEZWZhdWx0V29ya3NwYWNlUGFuZWxGYWN0b3J5IH0gZnJvbSAnLi9wYW5lbC9EZWZhdWx0V29ya3NwYWNlUGFuZWxGYWN0b3J5JztcbmltcG9ydCB7XG4gIFRyYXlNb2RlbFBhbmVsUmVuZGVyZXIsXG4gIFRyYXlNb2RlbFBhbmVsUmVuZGVyZXJFdmVudCxcbiAgV29ya3NwYWNlVHJheU1vZGVcbn0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLW1vZGVsLXRyYXknO1xuaW1wb3J0IHsgRGVmYXVsdFBhbmVsTWljcm9CdXR0b25XaWRnZXQgfSBmcm9tICcuL3dpZGdldHMvRGVmYXVsdFBhbmVsTWljcm9CdXR0b25XaWRnZXQnO1xuaW1wb3J0IHtcbiAgRmxvYXRpbmdXaW5kb3dSZW5kZXJlcixcbiAgRmxvYXRpbmdXaW5kb3dTdWJSZW5kZXJlckV2ZW50XG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1tb2RlbC1mbG9hdGluZy13aW5kb3cnO1xuXG5leHBvcnQgY2xhc3MgRGVmYXVsdFN1YkNvbXBvbmVudFJlbmRlcmVyXG4gIGltcGxlbWVudHNcbiAgICBUYWJSZW5kZXJlcjxEZWZhdWx0V29ya3NwYWNlUGFuZWxNb2RlbD4sXG4gICAgV29ya3NwYWNlTm9kZVBhbmVsUmVuZGVyZXI8RGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWw+LFxuICAgIFRyYXlNb2RlbFBhbmVsUmVuZGVyZXI8RGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWw+LFxuICAgIEZsb2F0aW5nV2luZG93UmVuZGVyZXI8RGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWw+XG57XG4gIHJlbmRlckljb24oZXZlbnQ6IFRyYXlNb2RlbFBhbmVsUmVuZGVyZXJFdmVudDxEZWZhdWx0V29ya3NwYWNlUGFuZWxNb2RlbD4pOiBKU1guRWxlbWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxEZWZhdWx0UGFuZWxNaWNyb0J1dHRvbldpZGdldFxuICAgICAgICBzbWFsbGVyPXtldmVudC5wYXJlbnQubW9kZSA9PT0gV29ya3NwYWNlVHJheU1vZGUuTk9STUFMfVxuICAgICAgICBzZWxlY3RlZD17ZXZlbnQuc2VsZWN0ZWR9XG4gICAgICAgIGljb249e2V2ZW50Lm1vZGVsLmljb259XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICByZW5kZXJUaXRsZUJhcihldmVudDogUmVuZGVyVGl0bGVCYXJFdmVudDxEZWZhdWx0V29ya3NwYWNlUGFuZWxNb2RlbD4pOiBKU1guRWxlbWVudCB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxEZWZhdWx0UGFuZWxUaXRsZVdpZGdldFxuICAgICAgICB0aXRsZT17ZXZlbnQubW9kZWwuZGlzcGxheU5hbWV9XG4gICAgICAgIGNsb3NlPXsoKSA9PiB7XG4gICAgICAgICAgZXZlbnQubW9kZWwuZGVsZXRlKCk7XG4gICAgICAgICAgZXZlbnQuZW5naW5lLm5vcm1hbGl6ZSgpO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyVGFiKGV2ZW50OiBUYWJSZW5kZXJlckV2ZW50PERlZmF1bHRXb3Jrc3BhY2VQYW5lbE1vZGVsPik6IEpTWC5FbGVtZW50IHtcbiAgICByZXR1cm4gPERlZmF1bHRQYW5lbFRhYldpZGdldCBuYW1lPXtldmVudC5tb2RlbC5kaXNwbGF5TmFtZX0gc2VsZWN0ZWQ9e2V2ZW50LnNlbGVjdGVkfSAvPjtcbiAgfVxuXG4gIG1hdGNoTW9kZWwobW9kZWw6IERlZmF1bHRXb3Jrc3BhY2VQYW5lbE1vZGVsKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIG1vZGVsLnR5cGUgPT09IERlZmF1bHRXb3Jrc3BhY2VQYW5lbEZhY3RvcnkuVFlQRTtcbiAgfVxuXG4gIHJlbmRlcldpbmRvd1RpdGxlKGV2ZW50OiBGbG9hdGluZ1dpbmRvd1N1YlJlbmRlcmVyRXZlbnQ8RGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWw+KTogYW55IHtcbiAgICByZXR1cm4gKFxuICAgICAgPERlZmF1bHRQYW5lbFRpdGxlV2lkZ2V0XG4gICAgICAgIHRpdGxlPXtldmVudC5tb2RlbC5kaXNwbGF5TmFtZX1cbiAgICAgICAgY2xvc2U9eygpID0+IHtcbiAgICAgICAgICBldmVudC5tb2RlbC5wYXJlbnQuZGVsZXRlKCk7XG4gICAgICAgICAgZXZlbnQuZW5naW5lLm5vcm1hbGl6ZSgpO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZsb2F0aW5nV2luZG93TW9kZWwgfSBmcm9tICcuLi8uLi9jb3JlL0Zsb2F0aW5nV2luZG93TW9kZWwnO1xuaW1wb3J0IHtcbiAgQWxpZ25tZW50LFxuICBEaW1lbnNpb25UcmFja2luZ1dpZGdldCxcbiAgSVBvc2l0aW9uLFxuICB1c2VGb3JjZVVwZGF0ZSxcbiAgdXNlTW9kZWxFbGVtZW50LFxuICB1c2VNb3VzZURyYWdEaXN0YW5jZSxcbiAgV29ya3NwYWNlRW5naW5lXG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7IEZsb2F0aW5nV2luZG93TGF5ZXIgfSBmcm9tICcuL0Zsb2F0aW5nV2luZG93TGF5ZXInO1xuaW1wb3J0IHsgRmxvYXRpbmdXaW5kb3dGYWN0b3J5IH0gZnJvbSAnLi4vLi4vY29yZS9GbG9hdGluZ1dpbmRvd0ZhY3RvcnknO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsb2F0aW5nV2luZG93TGF5ZXJXaWRnZXRQcm9wcyB7XG4gIHdpbmRvdzogRmxvYXRpbmdXaW5kb3dNb2RlbDtcbiAgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmU7XG4gIGFuaW1hdGU6IGJvb2xlYW47XG4gIGxheWVyOiBGbG9hdGluZ1dpbmRvd0xheWVyO1xufVxuXG5leHBvcnQgY29uc3QgRmxvYXRpbmdXaW5kb3dMYXllcldpZGdldDogUmVhY3QuRkM8RmxvYXRpbmdXaW5kb3dMYXllcldpZGdldFByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBmYWN0b3J5ID0gcHJvcHMuZW5naW5lLmdldEZhY3RvcnkocHJvcHMud2luZG93LmNoaWxkKTtcblxuICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlKCk7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4oKTtcbiAgY29uc3QgaW5pdGlhbFBvcyA9IHVzZVJlZjxQaWNrPElQb3NpdGlvbiwgQWxpZ25tZW50LkxFRlQgfCBBbGlnbm1lbnQuVE9QPj4oe1xuICAgIGxlZnQ6IHByb3BzLndpbmRvdy5wb3NpdGlvbi5sZWZ0LFxuICAgIHRvcDogcHJvcHMud2luZG93LnBvc2l0aW9uLnRvcFxuICB9KTtcblxuICB1c2VNb3VzZURyYWdEaXN0YW5jZSh7XG4gICAgZm9yd2FyZFJlZjogcmVmLFxuICAgIHN0YXJ0TW92ZTogKCkgPT4ge1xuICAgICAgaWYgKCFwcm9wcy53aW5kb3cuZHJhZ2dhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcHJvcHMubGF5ZXIuc2V0QW5pbWF0ZShmYWxzZSk7XG4gICAgICBpbml0aWFsUG9zLmN1cnJlbnQgPSB7XG4gICAgICAgIHRvcDogcHJvcHMud2luZG93LnBvc2l0aW9uLnRvcCxcbiAgICAgICAgbGVmdDogcHJvcHMud2luZG93LnBvc2l0aW9uLmxlZnRcbiAgICAgIH07XG4gICAgfSxcbiAgICBtb3ZlZDogKHsgZGlzdGFuY2VYLCBkaXN0YW5jZVkgfSkgPT4ge1xuICAgICAgaWYgKCFwcm9wcy53aW5kb3cuZHJhZ2dhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHByb3BzLndpbmRvdy5wb3NpdGlvbi51cGRhdGUoe1xuICAgICAgICBsZWZ0OiBpbml0aWFsUG9zLmN1cnJlbnQubGVmdCArIGRpc3RhbmNlWCxcbiAgICAgICAgdG9wOiBpbml0aWFsUG9zLmN1cnJlbnQudG9wICsgZGlzdGFuY2VZXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGVuZE1vdmU6ICgpID0+IHtcbiAgICAgIGlmICghcHJvcHMud2luZG93LmRyYWdnYWJsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcm9wcy5sYXllci5zZXRBbmltYXRlKHRydWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gcHJvcHMud2luZG93LnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgZHJhZ2dhYmxlVXBkYXRlZDogKCkgPT4ge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIGNoaWxkVXBkYXRlZDogKCkgPT4ge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbcHJvcHMud2luZG93XSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gcHJvcHMud2luZG93LnBvc2l0aW9uLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgdXBkYXRlZDogKCkgPT4ge1xuICAgICAgICBpZiAocHJvcHMuYW5pbWF0ZSkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcHJvcHMud2luZG93LnJfZGltZW5zaW9ucy5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgbW9kZWxSZWYgPSB1c2VNb2RlbEVsZW1lbnQoe1xuICAgIG1vZGVsOiBwcm9wcy53aW5kb3csXG4gICAgZW5naW5lOiBwcm9wcy5lbmdpbmVcbiAgfSk7XG5cbiAgY29uc3Qgd2luZG93RmFjdG9yeSA9IHByb3BzLmVuZ2luZS5nZXRGYWN0b3J5PEZsb2F0aW5nV2luZG93RmFjdG9yeT4ocHJvcHMud2luZG93KTtcblxuICByZXR1cm4gKFxuICAgIDxEaW1lbnNpb25UcmFja2luZ1dpZGdldFxuICAgICAgZm9yd2FyZFJlZj17bW9kZWxSZWZ9XG4gICAgICBhbmltYXRlRHVyYXRpb249e3Byb3BzLmFuaW1hdGUgPyAzMDAgOiAwfVxuICAgICAgZGltZW5zaW9uPXtwcm9wcy53aW5kb3cuZGltZW5zaW9ufVxuICAgID5cbiAgICAgIHt3aW5kb3dGYWN0b3J5LmdlbmVyYXRlQ29udGVudCh7XG4gICAgICAgIGNvbnRlbnQ6IGZhY3RvcnkuZ2VuZXJhdGVDb250ZW50KHtcbiAgICAgICAgICBlbmdpbmU6IHByb3BzLmVuZ2luZSxcbiAgICAgICAgICBtb2RlbDogcHJvcHMud2luZG93LmNoaWxkXG4gICAgICAgIH0pLFxuICAgICAgICB0aXRsZWJhcjogKFxuICAgICAgICAgIDxTLlRpdGxlIHJlZj17cmVmfT5cbiAgICAgICAgICAgIHt3aW5kb3dGYWN0b3J5XG4gICAgICAgICAgICAgIC5nZXRSZW5kZXJlckZvck1vZGVsKHByb3BzLndpbmRvdy5jaGlsZClcbiAgICAgICAgICAgICAgLnJlbmRlcldpbmRvd1RpdGxlKHsgbW9kZWw6IHByb3BzLndpbmRvdy5jaGlsZCwgZW5naW5lOiBwcm9wcy5lbmdpbmUgfSl9XG4gICAgICAgICAgPC9TLlRpdGxlPlxuICAgICAgICApLFxuICAgICAgICBlbmdpbmU6IHByb3BzLmVuZ2luZSxcbiAgICAgICAgbW9kZWw6IHByb3BzLndpbmRvd1xuICAgICAgfSl9XG4gICAgPC9EaW1lbnNpb25UcmFja2luZ1dpZGdldD5cbiAgKTtcbn07XG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuICAgIGJveC1zaGFkb3c6IDAgMCAyMHB4IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgIGJvcmRlcjogc29saWQgMXB4IHJnYigxMCwgMTAsIDEwKTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBgO1xuXG4gIGV4cG9ydCBjb25zdCBUaXRsZSA9IHN0eWxlZC5kaXZgXG4gICAgY3Vyc29yOiBtb3ZlO1xuICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIGZsZXgtc2hyaW5rOiAwO1xuICBgO1xufVxuIiwiaW1wb3J0IHsgTGF5ZXIsIFJlbmRlckxheWVyRXZlbnQgfSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtY29yZSc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGbG9hdGluZ1dpbmRvd0xheWVyV2lkZ2V0IH0gZnJvbSAnLi9GbG9hdGluZ1dpbmRvd0xheWVyV2lkZ2V0JztcbmltcG9ydCB7IEZsb2F0aW5nV2luZG93TW9kZWwgfSBmcm9tICcuLi8uLi9jb3JlL0Zsb2F0aW5nV2luZG93TW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgRmxvYXRpbmdXaW5kb3dMYXllciBleHRlbmRzIExheWVyIHtcbiAgcHJpdmF0ZSBhbmltYXRlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBtb2RlbDogRmxvYXRpbmdXaW5kb3dNb2RlbCkge1xuICAgIHN1cGVyKHtcbiAgICAgIG1vdXNlRXZlbnRzOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMuYW5pbWF0ZSA9IHRydWU7XG4gIH1cblxuICBzZXRBbmltYXRlKGFuaW1hdGU6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmFuaW1hdGUgPSBhbmltYXRlO1xuICAgIHRoaXMucmVwYWludCgpO1xuICB9XG5cbiAgcmVuZGVyTGF5ZXIoZXZlbnQ6IFJlbmRlckxheWVyRXZlbnQpOiBKU1guRWxlbWVudCB7XG4gICAgcmV0dXJuIDxGbG9hdGluZ1dpbmRvd0xheWVyV2lkZ2V0IGxheWVyPXt0aGlzfSBhbmltYXRlPXt0aGlzLmFuaW1hdGV9IHdpbmRvdz17dGhpcy5tb2RlbH0gZW5naW5lPXtldmVudC5lbmdpbmV9IC8+O1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBDb3JuZXIsIHVzZU1vdXNlRHJhZ0Rpc3RhbmNlIH0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWNvcmUnO1xuaW1wb3J0IHsgRmxvYXRpbmdXaW5kb3dNb2RlbCB9IGZyb20gJy4uLy4uL2NvcmUvRmxvYXRpbmdXaW5kb3dNb2RlbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxvYXRpbmdXaW5kb3dSZXNpemVDb3JuZXJXaWRnZXRQcm9wcyB7XG4gIGNvcm5lcjogQ29ybmVyO1xuICB3aW5kb3c6IEZsb2F0aW5nV2luZG93TW9kZWw7XG4gIGRlYnVnPzogYm9vbGVhbjtcbiAgdG9nZ2xlQW5pbWF0aW9uOiAoYW5pbWF0ZTogYm9vbGVhbikgPT4gYW55O1xufVxuXG5leHBvcnQgY29uc3QgRmxvYXRpbmdXaW5kb3dSZXNpemVDb3JuZXJXaWRnZXQ6IFJlYWN0LkZDPEZsb2F0aW5nV2luZG93UmVzaXplQ29ybmVyV2lkZ2V0UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZigpO1xuICAvLyBob3Jpem9udGFsXG4gIGNvbnN0IHZhbDEgPSB1c2VSZWY8bnVtYmVyPigwKTtcbiAgLy8gdmVydGljYWxcbiAgY29uc3QgdmFsMiA9IHVzZVJlZjxudW1iZXI+KDApO1xuICAvLyB3aWR0aFxuICBjb25zdCB3aWR0aCA9IHVzZVJlZjxudW1iZXI+KDApO1xuICAvLyBoZWlnaHRcbiAgY29uc3QgaGVpZ2h0ID0gdXNlUmVmPG51bWJlcj4oMCk7XG4gIHVzZU1vdXNlRHJhZ0Rpc3RhbmNlKHtcbiAgICBmb3J3YXJkUmVmOiByZWYsXG4gICAgc3RhcnRNb3ZlOiAoKSA9PiB7XG4gICAgICBwcm9wcy50b2dnbGVBbmltYXRpb24oZmFsc2UpO1xuICAgICAgd2lkdGguY3VycmVudCA9IHByb3BzLndpbmRvdy5zaXplLndpZHRoO1xuICAgICAgaGVpZ2h0LmN1cnJlbnQgPSBwcm9wcy53aW5kb3cuc2l6ZS5oZWlnaHQ7XG4gICAgICBpZiAocHJvcHMuY29ybmVyID09PSBDb3JuZXIuVE9QX0xFRlQpIHtcbiAgICAgICAgdmFsMS5jdXJyZW50ID0gcHJvcHMud2luZG93LnBvc2l0aW9uLmxlZnQ7XG4gICAgICAgIHZhbDIuY3VycmVudCA9IHByb3BzLndpbmRvdy5wb3NpdGlvbi50b3A7XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLmNvcm5lciA9PT0gQ29ybmVyLkJPVFRPTV9MRUZUKSB7XG4gICAgICAgIHZhbDEuY3VycmVudCA9IHByb3BzLndpbmRvdy5wb3NpdGlvbi5sZWZ0O1xuICAgICAgfSBlbHNlIGlmIChwcm9wcy5jb3JuZXIgPT09IENvcm5lci5UT1BfUklHSFQpIHtcbiAgICAgICAgdmFsMi5jdXJyZW50ID0gcHJvcHMud2luZG93LnBvc2l0aW9uLnRvcDtcbiAgICAgIH1cbiAgICB9LFxuICAgIG1vdmVkOiAoeyBkaXN0YW5jZVgsIGRpc3RhbmNlWSB9KSA9PiB7XG4gICAgICBpZiAocHJvcHMuY29ybmVyID09PSBDb3JuZXIuVE9QX0xFRlQpIHtcbiAgICAgICAgcHJvcHMud2luZG93LmRpbWVuc2lvbi51cGRhdGUoe1xuICAgICAgICAgIGxlZnQ6IHZhbDEuY3VycmVudCArIGRpc3RhbmNlWCxcbiAgICAgICAgICB0b3A6IHZhbDIuY3VycmVudCArIGRpc3RhbmNlWSxcbiAgICAgICAgICB3aWR0aDogd2lkdGguY3VycmVudCArIC0xICogZGlzdGFuY2VYLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LmN1cnJlbnQgKyAtMSAqIGRpc3RhbmNlWVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcHMuY29ybmVyID09PSBDb3JuZXIuQk9UVE9NX0xFRlQpIHtcbiAgICAgICAgcHJvcHMud2luZG93LmRpbWVuc2lvbi51cGRhdGUoe1xuICAgICAgICAgIGxlZnQ6IHZhbDEuY3VycmVudCArIGRpc3RhbmNlWCxcbiAgICAgICAgICB3aWR0aDogd2lkdGguY3VycmVudCArIC0xICogZGlzdGFuY2VYLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LmN1cnJlbnQgKyBkaXN0YW5jZVlcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb3BzLmNvcm5lciA9PT0gQ29ybmVyLkJPVFRPTV9SSUdIVCkge1xuICAgICAgICBwcm9wcy53aW5kb3cuZGltZW5zaW9uLnVwZGF0ZSh7XG4gICAgICAgICAgd2lkdGg6IHdpZHRoLmN1cnJlbnQgKyBkaXN0YW5jZVgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHQuY3VycmVudCArIGRpc3RhbmNlWVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3BzLndpbmRvdy5kaW1lbnNpb24udXBkYXRlKHtcbiAgICAgICAgICB0b3A6IHZhbDIuY3VycmVudCArIGRpc3RhbmNlWSxcbiAgICAgICAgICB3aWR0aDogd2lkdGguY3VycmVudCArIGRpc3RhbmNlWCxcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodC5jdXJyZW50ICsgLTEgKiBkaXN0YW5jZVlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBlbmRNb3ZlOiAoKSA9PiB7XG4gICAgICBwcm9wcy50b2dnbGVBbmltYXRpb24odHJ1ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIDxTLkNvcm5lclJlc2l6ZSBkZWJ1Zz17cHJvcHMuZGVidWd9IHJlZj17cmVmfSBjb3JuZXI9e3Byb3BzLmNvcm5lcn0+PC9TLkNvcm5lclJlc2l6ZT47XG59O1xuXG5uYW1lc3BhY2UgUyB7XG4gIGNvbnN0IENPUk5FUiA9IDE1O1xuXG4gIGNvbnN0IENPUk5FUl9DU1MgPSB7XG4gICAgW0Nvcm5lci5UT1BfTEVGVF06IFsndG9wJywgJ2xlZnQnXSxcbiAgICBbQ29ybmVyLlRPUF9SSUdIVF06IFsndG9wJywgJ3JpZ2h0J10sXG4gICAgW0Nvcm5lci5CT1RUT01fUklHSFRdOiBbJ2JvdHRvbScsICdyaWdodCddLFxuICAgIFtDb3JuZXIuQk9UVE9NX0xFRlRdOiBbJ2JvdHRvbScsICdsZWZ0J11cbiAgfTtcblxuICBleHBvcnQgY29uc3QgQ29ybmVyUmVzaXplID0gc3R5bGVkLmRpdjx7IGNvcm5lcjogQ29ybmVyOyBkZWJ1ZzogYm9vbGVhbiB9PmBcbiAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgIGN1cnNvcjogJHsocCkgPT4gcC5jb3JuZXJ9LXJlc2l6ZTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6ICR7Q09STkVSfXB4O1xuICAgIGhlaWdodDogJHtDT1JORVJ9cHg7XG4gICAgJHsocCkgPT4gQ09STkVSX0NTU1twLmNvcm5lcl0ubWFwKChjKSA9PiBgJHtjfTotJHtDT1JORVIgLyAyfXB4YCkuam9pbignOycpfTtcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICBiYWNrZ3JvdW5kOiAkeyhwKSA9PiAocC5kZWJ1ZyA/ICdyZWQnIDogJ3RyYW5zcGFyZW50Jyl9O1xuICBgO1xufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsgQWxpZ25tZW50LCB1c2VNb3VzZURyYWdEaXN0YW5jZSB9IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCB7IEZsb2F0aW5nV2luZG93TW9kZWwgfSBmcm9tICcuLi8uLi9jb3JlL0Zsb2F0aW5nV2luZG93TW9kZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsb2F0aW5nV2luZG93UmVzaXplRWRnZVdpZGdldFByb3BzIHtcbiAgYWxpZ25tZW50OiBBbGlnbm1lbnQ7XG4gIHdpbmRvdzogRmxvYXRpbmdXaW5kb3dNb2RlbDtcbiAgZGVidWc/OiBib29sZWFuO1xuICB0b2dnbGVBbmltYXRpb246IChhbmltYXRlOiBib29sZWFuKSA9PiBhbnk7XG59XG5cbmV4cG9ydCBjb25zdCBGbG9hdGluZ1dpbmRvd1Jlc2l6ZUVkZ2VXaWRnZXQ6IFJlYWN0LkZDPEZsb2F0aW5nV2luZG93UmVzaXplRWRnZVdpZGdldFByb3BzPiA9IChwcm9wcykgPT4ge1xuICBjb25zdCByZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgbGVmdCA9IHVzZVJlZjxudW1iZXI+KDApO1xuICBjb25zdCB0b3AgPSB1c2VSZWY8bnVtYmVyPigwKTtcbiAgY29uc3Qgd2lkdGggPSB1c2VSZWY8bnVtYmVyPigwKTtcbiAgY29uc3QgaGVpZ2h0ID0gdXNlUmVmPG51bWJlcj4oMCk7XG4gIHVzZU1vdXNlRHJhZ0Rpc3RhbmNlKHtcbiAgICBmb3J3YXJkUmVmOiByZWYsXG4gICAgc3RhcnRNb3ZlOiAoKSA9PiB7XG4gICAgICBwcm9wcy50b2dnbGVBbmltYXRpb24oZmFsc2UpO1xuICAgICAgd2lkdGguY3VycmVudCA9IHByb3BzLndpbmRvdy5zaXplLndpZHRoO1xuICAgICAgaGVpZ2h0LmN1cnJlbnQgPSBwcm9wcy53aW5kb3cuc2l6ZS5oZWlnaHQ7XG4gICAgICBsZWZ0LmN1cnJlbnQgPSBwcm9wcy53aW5kb3cucG9zaXRpb24ubGVmdDtcbiAgICAgIHRvcC5jdXJyZW50ID0gcHJvcHMud2luZG93LnBvc2l0aW9uLnRvcDtcbiAgICB9LFxuICAgIG1vdmVkOiAoeyBkaXN0YW5jZVgsIGRpc3RhbmNlWSB9KSA9PiB7XG4gICAgICBpZiAocHJvcHMuYWxpZ25tZW50ID09PSBBbGlnbm1lbnQuVE9QKSB7XG4gICAgICAgIHByb3BzLndpbmRvdy5kaW1lbnNpb24udXBkYXRlKHtcbiAgICAgICAgICB0b3A6IHRvcC5jdXJyZW50ICsgZGlzdGFuY2VZLFxuICAgICAgICAgIGhlaWdodDogaGVpZ2h0LmN1cnJlbnQgKyAtMSAqIGRpc3RhbmNlWVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocHJvcHMuYWxpZ25tZW50ID09PSBBbGlnbm1lbnQuQk9UVE9NKSB7XG4gICAgICAgIHByb3BzLndpbmRvdy5kaW1lbnNpb24udXBkYXRlKHtcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodC5jdXJyZW50ICsgZGlzdGFuY2VZXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChwcm9wcy5hbGlnbm1lbnQgPT09IEFsaWdubWVudC5MRUZUKSB7XG4gICAgICAgIHByb3BzLndpbmRvdy5kaW1lbnNpb24udXBkYXRlKHtcbiAgICAgICAgICBsZWZ0OiBsZWZ0LmN1cnJlbnQgKyBkaXN0YW5jZVgsXG4gICAgICAgICAgd2lkdGg6IHdpZHRoLmN1cnJlbnQgKyAtMSAqIGRpc3RhbmNlWFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3BzLndpbmRvdy5kaW1lbnNpb24udXBkYXRlKHtcbiAgICAgICAgICB3aWR0aDogd2lkdGguY3VycmVudCArIGRpc3RhbmNlWFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGVuZE1vdmU6ICgpID0+IHtcbiAgICAgIHByb3BzLnRvZ2dsZUFuaW1hdGlvbih0cnVlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gKFxuICAgIDxTLkNvbnRhaW5lclxuICAgICAgcmVmPXtyZWZ9XG4gICAgICBkZWJ1Zz17cHJvcHMuZGVidWd9XG4gICAgICBhbGlnbm1lbnQ9e3Byb3BzLmFsaWdubWVudH1cbiAgICAgIHZlcnRpY2FsPXtwcm9wcy5hbGlnbm1lbnQgPT09IEFsaWdubWVudC5MRUZUIHx8IHByb3BzLmFsaWdubWVudCA9PT0gQWxpZ25tZW50LlJJR0hUfVxuICAgID48L1MuQ29udGFpbmVyPlxuICApO1xufTtcblxubmFtZXNwYWNlIFMge1xuICBjb25zdCBJTlNFVFMgPSAyO1xuXG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2PHsgdmVydGljYWw6IGJvb2xlYW47IGFsaWdubWVudDogQWxpZ25tZW50OyBkZWJ1ZzogYm9vbGVhbiB9PmBcbiAgICBwb2ludGVyLWV2ZW50czogYWxsO1xuICAgIGN1cnNvcjogJHsocCkgPT4gKHAudmVydGljYWwgPyAnY29sLXJlc2l6ZScgOiAncm93LXJlc2l6ZScpfTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgJHsocCkgPT4gKHAudmVydGljYWwgPyBgaGVpZ2h0OiAxMDAlOyB3aWR0aDogJHtJTlNFVFMgKiAzfXB4YCA6IGB3aWR0aDogMTAwJTsgaGVpZ2h0OiAke0lOU0VUUyAqIDN9cHhgKX07XG4gICAgJHsocCkgPT4gcC5hbGlnbm1lbnR9OiAtJHtJTlNFVFN9cHg7XG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgYmFja2dyb3VuZDogJHsocCkgPT4gKHAuZGVidWcgPyAnY3lhbicgOiAndHJhbnNwYXJlbnQnKX07XG4gIGA7XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCc7XG5pbXBvcnQgeyBBbGlnbm1lbnQsIENvcm5lciwgRGltZW5zaW9uVHJhY2tpbmdXaWRnZXQgfSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtY29yZSc7XG5pbXBvcnQgeyBGbG9hdGluZ1dpbmRvd01vZGVsIH0gZnJvbSAnLi4vLi4vY29yZS9GbG9hdGluZ1dpbmRvd01vZGVsJztcbmltcG9ydCB7IEZsb2F0aW5nV2luZG93UmVzaXplQ29ybmVyV2lkZ2V0IH0gZnJvbSAnLi9GbG9hdGluZ1dpbmRvd1Jlc2l6ZUNvcm5lcldpZGdldCc7XG5pbXBvcnQgeyBGbG9hdGluZ1dpbmRvd1Jlc2l6ZUVkZ2VXaWRnZXQgfSBmcm9tICcuL0Zsb2F0aW5nV2luZG93UmVzaXplRWRnZVdpZGdldCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmxvYXRpbmdXaW5kb3dSZXNpemVMYXllcldpZGdldFByb3BzIHtcbiAgd2luZG93OiBGbG9hdGluZ1dpbmRvd01vZGVsO1xuICBkZWJ1Zz86IGJvb2xlYW47XG4gIHRvZ2dsZUFuaW1hdGlvbjogKGFuaW1hdGU6IGJvb2xlYW4pID0+IGFueTtcbn1cblxuZXhwb3J0IGNvbnN0IEZsb2F0aW5nV2luZG93UmVzaXplTGF5ZXJXaWRnZXQ6IFJlYWN0LkZDPEZsb2F0aW5nV2luZG93UmVzaXplTGF5ZXJXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIChcbiAgICA8RGltZW5zaW9uVHJhY2tpbmdXaWRnZXQgZGltZW5zaW9uPXtwcm9wcy53aW5kb3cuZGltZW5zaW9ufT5cbiAgICAgIDxTLlJlbGF0aXZlPlxuICAgICAgICA8RmxvYXRpbmdXaW5kb3dSZXNpemVFZGdlV2lkZ2V0IHsuLi5wcm9wc30gYWxpZ25tZW50PXtBbGlnbm1lbnQuTEVGVH0gLz5cbiAgICAgICAgPEZsb2F0aW5nV2luZG93UmVzaXplRWRnZVdpZGdldCB7Li4ucHJvcHN9IGFsaWdubWVudD17QWxpZ25tZW50LlRPUH0gLz5cbiAgICAgICAgPEZsb2F0aW5nV2luZG93UmVzaXplRWRnZVdpZGdldCB7Li4ucHJvcHN9IGFsaWdubWVudD17QWxpZ25tZW50LkJPVFRPTX0gLz5cbiAgICAgICAgPEZsb2F0aW5nV2luZG93UmVzaXplRWRnZVdpZGdldCB7Li4ucHJvcHN9IGFsaWdubWVudD17QWxpZ25tZW50LlJJR0hUfSAvPlxuICAgICAgICA8RmxvYXRpbmdXaW5kb3dSZXNpemVDb3JuZXJXaWRnZXQgey4uLnByb3BzfSBjb3JuZXI9e0Nvcm5lci5UT1BfTEVGVH0gLz5cbiAgICAgICAgPEZsb2F0aW5nV2luZG93UmVzaXplQ29ybmVyV2lkZ2V0IHsuLi5wcm9wc30gY29ybmVyPXtDb3JuZXIuVE9QX1JJR0hUfSAvPlxuICAgICAgICA8RmxvYXRpbmdXaW5kb3dSZXNpemVDb3JuZXJXaWRnZXQgey4uLnByb3BzfSBjb3JuZXI9e0Nvcm5lci5CT1RUT01fUklHSFR9IC8+XG4gICAgICAgIDxGbG9hdGluZ1dpbmRvd1Jlc2l6ZUNvcm5lcldpZGdldCB7Li4ucHJvcHN9IGNvcm5lcj17Q29ybmVyLkJPVFRPTV9MRUZUfSAvPlxuICAgICAgPC9TLlJlbGF0aXZlPlxuICAgIDwvRGltZW5zaW9uVHJhY2tpbmdXaWRnZXQ+XG4gICk7XG59O1xuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBSZWxhdGl2ZSA9IHN0eWxlZC5kaXZgXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB3aWR0aDogMTAwJTtcbiAgYDtcbn1cbiIsImltcG9ydCB7IExheWVyLCBSZW5kZXJMYXllckV2ZW50IH0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWNvcmUnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRmxvYXRpbmdXaW5kb3dNb2RlbCB9IGZyb20gJy4uLy4uL2NvcmUvRmxvYXRpbmdXaW5kb3dNb2RlbCc7XG5pbXBvcnQgeyBGbG9hdGluZ1dpbmRvd1Jlc2l6ZUxheWVyV2lkZ2V0IH0gZnJvbSAnLi9GbG9hdGluZ1dpbmRvd1Jlc2l6ZUxheWVyV2lkZ2V0JztcbmltcG9ydCB7IFJvb3RXb3Jrc3BhY2VNb2RlbCB9IGZyb20gJy4uLy4uL2NvcmUvUm9vdFdvcmtzcGFjZU1vZGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBGbG9hdGluZ1dpbmRvd1Jlc2l6ZUxheWVyT3B0aW9ucyB7XG4gIG1vZGVsOiBGbG9hdGluZ1dpbmRvd01vZGVsO1xuICB0b2dnbGVBbmltYXRpb246IChhbmltYXRlOiBib29sZWFuKSA9PiBhbnk7XG4gIHJvb3Q6IFJvb3RXb3Jrc3BhY2VNb2RlbDtcbn1cblxuZXhwb3J0IGNsYXNzIEZsb2F0aW5nV2luZG93UmVzaXplTGF5ZXIgZXh0ZW5kcyBMYXllciB7XG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBvcHRpb25zMjogRmxvYXRpbmdXaW5kb3dSZXNpemVMYXllck9wdGlvbnMpIHtcbiAgICBzdXBlcih7XG4gICAgICBtb3VzZUV2ZW50czogZmFsc2VcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlckxheWVyKGV2ZW50OiBSZW5kZXJMYXllckV2ZW50KTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiAoXG4gICAgICA8RmxvYXRpbmdXaW5kb3dSZXNpemVMYXllcldpZGdldFxuICAgICAgICBkZWJ1Zz17dGhpcy5vcHRpb25zMi5yb290LmRlYnVnfVxuICAgICAgICB3aW5kb3c9e3RoaXMub3B0aW9uczIubW9kZWx9XG4gICAgICAgIHRvZ2dsZUFuaW1hdGlvbj17dGhpcy5vcHRpb25zMi50b2dnbGVBbmltYXRpb259XG4gICAgICAvPlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEV4cGFuZE5vZGVNb2RlbCwgRXhwYW5kTm9kZU1vZGVsU2VyaWFsaXplZCwgV29ya3NwYWNlRW5naW5lIH0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWNvcmUnO1xuaW1wb3J0IHsgRmxvYXRpbmdXaW5kb3dNb2RlbCwgU2VyaWFsaXplZEZsb2F0aW5nV2luZG93TW9kZWwgfSBmcm9tICcuL0Zsb2F0aW5nV2luZG93TW9kZWwnO1xuaW1wb3J0IHsgRmxvYXRpbmdXaW5kb3dMYXllciB9IGZyb20gJy4uL2xheWVyL3dpbmRvdy9GbG9hdGluZ1dpbmRvd0xheWVyJztcbmltcG9ydCB7IEZsb2F0aW5nV2luZG93UmVzaXplTGF5ZXIgfSBmcm9tICcuLi9sYXllci9yZXNpemUvRmxvYXRpbmdXaW5kb3dSZXNpemVMYXllcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXplZFJvb3RXb3Jrc3BhY2VNb2RlbCBleHRlbmRzIEV4cGFuZE5vZGVNb2RlbFNlcmlhbGl6ZWQge1xuICBmbG9hdGluZ1dpbmRvd3M6IFNlcmlhbGl6ZWRGbG9hdGluZ1dpbmRvd01vZGVsW107XG59XG5cbmV4cG9ydCBjbGFzcyBSb290V29ya3NwYWNlTW9kZWwgZXh0ZW5kcyBFeHBhbmROb2RlTW9kZWw8U2VyaWFsaXplZFJvb3RXb3Jrc3BhY2VNb2RlbD4ge1xuICBmbG9hdGluZ1dpbmRvd3M6IFNldDxGbG9hdGluZ1dpbmRvd01vZGVsPjtcbiAgbGF5ZXJMaXN0ZW5lcjogKCkgPT4gYW55O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZSxcbiAgICBwdWJsaWMgZGVidWc6IGJvb2xlYW4gPSBmYWxzZVxuICApIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZmxvYXRpbmdXaW5kb3dzID0gbmV3IFNldDxGbG9hdGluZ1dpbmRvd01vZGVsPigpO1xuXG4gICAgdGhpcy5sYXllckxpc3RlbmVyID0gdGhpcy5lbmdpbmUubGF5ZXJNYW5hZ2VyLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgbGF5ZXJBZGRlZDogKCkgPT4ge1xuICAgICAgICAvLyBrZWVwIGZsb2F0aW5nIHdpbmRvd3Mgb24tdG9wXG4gICAgICAgIHRoaXMuZmxvYXRpbmdXaW5kb3dzLmZvckVhY2goKHcpID0+IHtcbiAgICAgICAgICB0aGlzLmVuZ2luZS5sYXllck1hbmFnZXIubGF5ZXJzXG4gICAgICAgICAgICAuZmlsdGVyKChsKSA9PiBsIGluc3RhbmNlb2YgRmxvYXRpbmdXaW5kb3dMYXllcilcbiAgICAgICAgICAgIC5mb3JFYWNoKChsKSA9PiB7XG4gICAgICAgICAgICAgIGwubW92ZVRvVG9wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYW5kIGtlZXAgdGhlIHJlc2l6ZXIgb250b3Agb2YgdGhhdCBhcyB3ZWxsXG4gICAgICAgIHRoaXMuZmxvYXRpbmdXaW5kb3dzLmZvckVhY2goKHcpID0+IHtcbiAgICAgICAgICB0aGlzLmVuZ2luZS5sYXllck1hbmFnZXIubGF5ZXJzXG4gICAgICAgICAgICAuZmlsdGVyKChsKSA9PiBsIGluc3RhbmNlb2YgRmxvYXRpbmdXaW5kb3dSZXNpemVMYXllcilcbiAgICAgICAgICAgIC5mb3JFYWNoKChsKSA9PiB7XG4gICAgICAgICAgICAgIGwubW92ZVRvVG9wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB0b0FycmF5KCk6IFNlcmlhbGl6ZWRSb290V29ya3NwYWNlTW9kZWwge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b0FycmF5KCksXG4gICAgICBmbG9hdGluZ1dpbmRvd3M6IEFycmF5LmZyb20odGhpcy5mbG9hdGluZ1dpbmRvd3MudmFsdWVzKCkpXG4gICAgICAgIC5maWx0ZXIoKHcpID0+IHcuc2VyaWFsaXplVG9Sb290KVxuICAgICAgICAubWFwKChjKSA9PiBjLnRvQXJyYXkoKSlcbiAgICB9O1xuICB9XG5cbiAgZnJvbUFycmF5KHBheWxvYWQ6IFNlcmlhbGl6ZWRSb290V29ya3NwYWNlTW9kZWwsIGVuZ2luZTogV29ya3NwYWNlRW5naW5lKSB7XG4gICAgc3VwZXIuZnJvbUFycmF5KHBheWxvYWQsIGVuZ2luZSk7XG4gICAgcGF5bG9hZC5mbG9hdGluZ1dpbmRvd3M/LmZvckVhY2goKHdpbmRvdykgPT4ge1xuICAgICAgY29uc3QgbW9kZWwgPSBlbmdpbmUuZ2V0RmFjdG9yeSh3aW5kb3cudHlwZSkuZ2VuZXJhdGVNb2RlbCgpO1xuICAgICAgbW9kZWwuZnJvbUFycmF5KHdpbmRvdywgZW5naW5lKTtcbiAgICAgIHRoaXMuYWRkTW9kZWwobW9kZWwpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0RGVidWcoZGVidWc6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmRlYnVnID0gZGVidWc7XG4gICAgdGhpcy5lbmdpbmUuZmlyZVJlcGFpbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGZsYXR0ZW4oKSB7XG4gICAgcmV0dXJuIHN1cGVyLmZsYXR0ZW4oKS5jb25jYXQoQXJyYXkuZnJvbSh0aGlzLmZsb2F0aW5nV2luZG93cy52YWx1ZXMoKSkuZmxhdE1hcCgodikgPT4gW3YsIHYuY2hpbGRdKSk7XG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMubGF5ZXJMaXN0ZW5lcigpO1xuICB9XG5cbiAgYWRkRmxvYXRpbmdXaW5kb3cod2luZG93OiBGbG9hdGluZ1dpbmRvd01vZGVsKSB7XG4gICAgaWYgKHRoaXMuZmxvYXRpbmdXaW5kb3dzLmhhcyh3aW5kb3cpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZmxvYXRpbmdXaW5kb3dzLmFkZCh3aW5kb3cpO1xuICAgIGNvbnN0IGxheWVyID0gbmV3IEZsb2F0aW5nV2luZG93TGF5ZXIod2luZG93KTtcbiAgICBjb25zdCByZXNpemUgPSBuZXcgRmxvYXRpbmdXaW5kb3dSZXNpemVMYXllcih7XG4gICAgICBtb2RlbDogd2luZG93LFxuICAgICAgdG9nZ2xlQW5pbWF0aW9uOiAoYW5pbWF0ZSkgPT4ge1xuICAgICAgICBsYXllci5zZXRBbmltYXRlKGFuaW1hdGUpO1xuICAgICAgfSxcbiAgICAgIHJvb3Q6IHRoaXNcbiAgICB9KTtcbiAgICB0aGlzLmVuZ2luZS5sYXllck1hbmFnZXIuYWRkTGF5ZXIobGF5ZXIpO1xuICAgIHRoaXMuZW5naW5lLmxheWVyTWFuYWdlci5hZGRMYXllcihyZXNpemUpO1xuICAgIHdpbmRvdy5zZXRQYXJlbnQodGhpcyk7XG4gICAgd2luZG93LnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgcmVtb3ZlZDogKCkgPT4ge1xuICAgICAgICBsYXllci5yZW1vdmUoKTtcbiAgICAgICAgcmVzaXplLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmZsb2F0aW5nV2luZG93cy5kZWxldGUod2luZG93KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgRGltZW5zaW9uQ29udGFpbmVyLFxuICBJRGltZW5zaW9uLFxuICBQb3NpdGlvbixcbiAgU2VyaWFsaXplZE1vZGVsLFxuICBXb3Jrc3BhY2VFbmdpbmVJbnRlcmZhY2UsXG4gIFdvcmtzcGFjZU1vZGVsLFxuICBXb3Jrc3BhY2VNb2RlbExpc3RlbmVyXG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcblxuZXhwb3J0IGludGVyZmFjZSBGbG9hdGluZ1dpbmRvd01vZGVsTGlzdGVuZXIgZXh0ZW5kcyBXb3Jrc3BhY2VNb2RlbExpc3RlbmVyIHtcbiAgY2hpbGRVcGRhdGVkOiAoKSA9PiBhbnk7XG4gIGRyYWdnYWJsZVVwZGF0ZWQ6ICgpID0+IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZXJpYWxpemVkRmxvYXRpbmdXaW5kb3dNb2RlbCBleHRlbmRzIFNlcmlhbGl6ZWRNb2RlbCB7XG4gIGRpbWVuc2lvbnM6IElEaW1lbnNpb247XG4gIG1vZGVsOiBTZXJpYWxpemVkTW9kZWw7XG59XG5cbmV4cG9ydCBjbGFzcyBGbG9hdGluZ1dpbmRvd01vZGVsIGV4dGVuZHMgV29ya3NwYWNlTW9kZWw8U2VyaWFsaXplZEZsb2F0aW5nV2luZG93TW9kZWwsIEZsb2F0aW5nV2luZG93TW9kZWxMaXN0ZW5lcj4ge1xuICBwb3NpdGlvbjogUG9zaXRpb247XG4gIGRpbWVuc2lvbjogRGltZW5zaW9uQ29udGFpbmVyO1xuICBzZXJpYWxpemVUb1Jvb3Q6IGJvb2xlYW47XG4gIGNoaWxkOiBXb3Jrc3BhY2VNb2RlbDtcbiAgZHJhZ2dhYmxlOiBib29sZWFuO1xuXG4gIHN0YXRpYyBUWVBFID0gJ2Zsb2F0aW5nLXdpbmRvdyc7XG4gIHByaXZhdGUgcGFyZW50TGlzdGVuZXI6ICgpID0+IGFueTtcblxuICBjb25zdHJ1Y3Rvcih0eXBlOiBzdHJpbmcsIGNoaWxkOiBXb3Jrc3BhY2VNb2RlbCkge1xuICAgIHN1cGVyKHR5cGUpO1xuICAgIGlmIChjaGlsZCkge1xuICAgICAgdGhpcy5zZXRDaGlsZChjaGlsZCk7XG4gICAgfVxuICAgIHRoaXMuZHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICB0aGlzLnNlcmlhbGl6ZVRvUm9vdCA9IHRydWU7XG4gICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBQb3NpdGlvbigpO1xuICAgIHRoaXMuZGltZW5zaW9uID0gbmV3IERpbWVuc2lvbkNvbnRhaW5lcih7XG4gICAgICBwb3NpdGlvbjogdGhpcy5wb3NpdGlvbixcbiAgICAgIHNpemU6IHRoaXMuc2l6ZVxuICAgIH0pO1xuICAgIHRoaXMucG9zaXRpb24ucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICB1cGRhdGVkOiAoKSA9PiB7XG4gICAgICAgIHRoaXMucl9kaW1lbnNpb25zLmludmFsaWRhdGUoKTtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVQb3NpdGlvbigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc2V0RHJhZ2dhYmxlKGRyYWdFbmFibGU6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5kcmFnZ2FibGUgPT09IGRyYWdFbmFibGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kcmFnZ2FibGUgPSBkcmFnRW5hYmxlO1xuICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLmRyYWdnYWJsZVVwZGF0ZWQ/LigpKTtcbiAgfVxuXG4gIGZyb21BcnJheShwYXlsb2FkOiBTZXJpYWxpemVkRmxvYXRpbmdXaW5kb3dNb2RlbCwgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmVJbnRlcmZhY2UpIHtcbiAgICBzdXBlci5mcm9tQXJyYXkocGF5bG9hZCwgZW5naW5lKTtcbiAgICB0aGlzLmRpbWVuc2lvbi51cGRhdGUocGF5bG9hZC5kaW1lbnNpb25zKTtcbiAgICBjb25zdCBtb2RlbCA9IGVuZ2luZS5nZXRGYWN0b3J5KHBheWxvYWQubW9kZWwudHlwZSkuZ2VuZXJhdGVNb2RlbCgpO1xuICAgIG1vZGVsLmZyb21BcnJheShwYXlsb2FkLm1vZGVsLCBlbmdpbmUpO1xuICAgIHRoaXMuc2V0Q2hpbGQobW9kZWwpO1xuICB9XG5cbiAgdG9BcnJheSgpOiBTZXJpYWxpemVkRmxvYXRpbmdXaW5kb3dNb2RlbCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLnRvQXJyYXkoKSxcbiAgICAgIGRpbWVuc2lvbnM6IHRoaXMuZGltZW5zaW9uLmRpbWVuc2lvbnMsXG4gICAgICBtb2RlbDogdGhpcy5jaGlsZC50b0FycmF5KClcbiAgICB9O1xuICB9XG5cbiAgc2V0UGFyZW50KHBhcmVudDogV29ya3NwYWNlTW9kZWwpIHtcbiAgICBzdXBlci5zZXRQYXJlbnQocGFyZW50KTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICB0aGlzLnBhcmVudExpc3RlbmVyID0gcGFyZW50LnJfZGltZW5zaW9ucy5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgICAgdXBkYXRlZDogKCkgPT4ge1xuICAgICAgICAgIHRoaXMubm9ybWFsaXplUG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGFyZW50TGlzdGVuZXI/LigpO1xuICAgIH1cbiAgfVxuXG4gIHNldENoaWxkKGNoaWxkOiBXb3Jrc3BhY2VNb2RlbCkge1xuICAgIHRoaXMuY2hpbGQgPSBjaGlsZDtcbiAgICBjaGlsZC5zZXRQYXJlbnQodGhpcyk7XG4gICAgdGhpcy5pbnZhbGlkYXRlTGF5b3V0KCk7XG4gICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChjYikgPT4gY2IuY2hpbGRVcGRhdGVkPy4oKSk7XG4gIH1cblxuICBub3JtYWxpemVQb3NpdGlvbigpIHtcbiAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gY2FudCBkbyBhbnl0aGluZyBhYm91dCB0aGlzXG4gICAgaWYgKHRoaXMuc2l6ZS5oZWlnaHQgPiB0aGlzLnBhcmVudC5yX2RpbWVuc2lvbnMuc2l6ZS5oZWlnaHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gY2FudCBkbyBhbnl0aGluZyBhYm91dCB0aGlzXG4gICAgaWYgKHRoaXMuc2l6ZS53aWR0aCA+IHRoaXMucGFyZW50LnJfZGltZW5zaW9ucy5zaXplLndpZHRoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucG9zaXRpb24ubGVmdCA8IHRoaXMucGFyZW50LnJfZGltZW5zaW9ucy5wb3NpdGlvbi5sZWZ0KSB7XG4gICAgICB0aGlzLnBvc2l0aW9uLnVwZGF0ZSh7XG4gICAgICAgIGxlZnQ6IDBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5wb3NpdGlvbi50b3AgPCB0aGlzLnBhcmVudC5yX2RpbWVuc2lvbnMucG9zaXRpb24udG9wKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uLnVwZGF0ZSh7XG4gICAgICAgIHRvcDogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHRoaXMucG9zaXRpb24ubGVmdCArIHRoaXMuc2l6ZS53aWR0aCA+XG4gICAgICB0aGlzLnBhcmVudC5yX2RpbWVuc2lvbnMucG9zaXRpb24ubGVmdCArIHRoaXMucGFyZW50LnJfZGltZW5zaW9ucy5zaXplLndpZHRoXG4gICAgKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uLnVwZGF0ZSh7XG4gICAgICAgIGxlZnQ6IHRoaXMucGFyZW50LnJfZGltZW5zaW9ucy5wb3NpdGlvbi5sZWZ0ICsgdGhpcy5wYXJlbnQucl9kaW1lbnNpb25zLnNpemUud2lkdGggLSB0aGlzLnNpemUud2lkdGhcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLnBvc2l0aW9uLnRvcCArIHRoaXMuc2l6ZS5oZWlnaHQgPlxuICAgICAgdGhpcy5wYXJlbnQucl9kaW1lbnNpb25zLnBvc2l0aW9uLnRvcCArIHRoaXMucGFyZW50LnJfZGltZW5zaW9ucy5zaXplLmhlaWdodFxuICAgICkge1xuICAgICAgdGhpcy5wb3NpdGlvbi51cGRhdGUoe1xuICAgICAgICB0b3A6IHRoaXMucGFyZW50LnJfZGltZW5zaW9ucy5wb3NpdGlvbi50b3AgKyB0aGlzLnBhcmVudC5yX2RpbWVuc2lvbnMuc2l6ZS5oZWlnaHQgLSB0aGlzLnNpemUuaGVpZ2h0XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIFN1YkNvbXBvbmVudE1vZGVsRmFjdG9yeSxcbiAgU3ViQ29tcG9uZW50UmVuZGVyZXIsXG4gIFdvcmtzcGFjZUVuZ2luZSxcbiAgV29ya3NwYWNlTW9kZWwsXG4gIFdvcmtzcGFjZU1vZGVsRmFjdG9yeUV2ZW50XG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCB7IEZsb2F0aW5nV2luZG93TW9kZWwgfSBmcm9tICcuL0Zsb2F0aW5nV2luZG93TW9kZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEZsb2F0aW5nV2luZG93UmVuZGVyZXJFdmVudDxUIGV4dGVuZHMgRmxvYXRpbmdXaW5kb3dNb2RlbCA9IEZsb2F0aW5nV2luZG93TW9kZWw+XG4gIGV4dGVuZHMgV29ya3NwYWNlTW9kZWxGYWN0b3J5RXZlbnQ8VD4ge1xuICB0aXRsZWJhcjogSlNYLkVsZW1lbnQ7XG4gIGNvbnRlbnQ6IEpTWC5FbGVtZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZsb2F0aW5nV2luZG93U3ViUmVuZGVyZXJFdmVudDxUIGV4dGVuZHMgV29ya3NwYWNlTW9kZWw+IHtcbiAgbW9kZWw6IFQ7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZsb2F0aW5nV2luZG93UmVuZGVyZXI8VCBleHRlbmRzIFdvcmtzcGFjZU1vZGVsID0gV29ya3NwYWNlTW9kZWw+IGV4dGVuZHMgU3ViQ29tcG9uZW50UmVuZGVyZXI8VD4ge1xuICByZW5kZXJXaW5kb3dUaXRsZTogKGV2ZW50OiBGbG9hdGluZ1dpbmRvd1N1YlJlbmRlcmVyRXZlbnQ8VD4pID0+IGFueTtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEZsb2F0aW5nV2luZG93RmFjdG9yeTxcbiAgVCBleHRlbmRzIEZsb2F0aW5nV2luZG93TW9kZWwgPSBGbG9hdGluZ1dpbmRvd01vZGVsXG4+IGV4dGVuZHMgU3ViQ29tcG9uZW50TW9kZWxGYWN0b3J5PEZsb2F0aW5nV2luZG93TW9kZWwsIEZsb2F0aW5nV2luZG93UmVuZGVyZXIsIEZsb2F0aW5nV2luZG93UmVuZGVyZXJFdmVudDxUPj4ge1xuICBzdGF0aWMgVFlQRSA9ICdmbG9hdGluZy13aW5kb3cnO1xuXG4gIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZykge1xuICAgIHN1cGVyKHR5cGUpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBEcmFnZ2FibGVXaWRnZXQsIHVzZUZvcmNlVXBkYXRlLCBXb3Jrc3BhY2VFbmdpbmUsIFdvcmtzcGFjZU1vZGVsIH0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWNvcmUnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgV29ya3NwYWNlVGFiRmFjdG9yeSB9IGZyb20gJy4vV29ya3NwYWNlVGFiRmFjdG9yeSc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VUYWJNb2RlbCB9IGZyb20gJy4vV29ya3NwYWNlVGFiTW9kZWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRhYkJ1dHRvbldpZGdldFByb3BzIHtcbiAgbW9kZWw6IFdvcmtzcGFjZU1vZGVsO1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbiAgZmFjdG9yeTogV29ya3NwYWNlVGFiRmFjdG9yeTtcbn1cblxuZXhwb3J0IGNvbnN0IFRhYkJ1dHRvbldpZGdldDogUmVhY3QuRkM8VGFiQnV0dG9uV2lkZ2V0UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gKHByb3BzLm1vZGVsLnBhcmVudCBhcyBXb3Jrc3BhY2VUYWJNb2RlbCkucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICBzZWxlY3Rpb25DaGFuZ2VkOiAoKSA9PiB7XG4gICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgY29uc3QgcGFyZW50ID0gcHJvcHMubW9kZWwucGFyZW50IGFzIFdvcmtzcGFjZVRhYk1vZGVsO1xuICByZXR1cm4gKFxuICAgIDxEcmFnZ2FibGVXaWRnZXRcbiAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgKHByb3BzLm1vZGVsLnBhcmVudCBhcyBXb3Jrc3BhY2VUYWJNb2RlbCkuc2V0U2VsZWN0ZWQocHJvcHMubW9kZWwpO1xuICAgICAgfX1cbiAgICAgIGVuZ2luZT17cHJvcHMuZW5naW5lfVxuICAgICAgbW9kZWw9e3Byb3BzLm1vZGVsfVxuICAgID5cbiAgICAgIHtwcm9wcy5mYWN0b3J5LnJlbmRlclRhYkZvck1vZGVsKHByb3BzLm1vZGVsLCBwcm9wcy5tb2RlbC5pZCA9PT0gcGFyZW50LmdldFNlbGVjdGVkKCkuaWQsIHByb3BzLmVuZ2luZSl9XG4gICAgPC9EcmFnZ2FibGVXaWRnZXQ+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHtcbiAgRHJhZ2dhYmxlV2lkZ2V0LFxuICBTbWFydE9yZGVyaW5nV2lkZ2V0LFxuICB1c2VGb3JjZVVwZGF0ZSxcbiAgdXNlTW9kZWxFbGVtZW50LFxuICBXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWwsXG4gIFdvcmtzcGFjZUVuZ2luZSxcbiAgV29ya3NwYWNlTW9kZWxcbn0gZnJvbSAnQHByb2plY3RzdG9ybS9yZWFjdC13b3Jrc3BhY2VzLWNvcmUnO1xuaW1wb3J0IHsgV29ya3NwYWNlVGFiTW9kZWwgfSBmcm9tICcuL1dvcmtzcGFjZVRhYk1vZGVsJztcbmltcG9ydCB7IFRhYkJ1dHRvbldpZGdldCB9IGZyb20gJy4vVGFiQnV0dG9uV2lkZ2V0JztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFdvcmtzcGFjZVRhYkZhY3RvcnkgfSBmcm9tICcuL1dvcmtzcGFjZVRhYkZhY3RvcnknO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRhYkdyb3VwV2lkZ2V0UHJvcHMge1xuICBtb2RlbDogV29ya3NwYWNlVGFiTW9kZWw7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xuICBmYWN0b3J5OiBXb3Jrc3BhY2VUYWJGYWN0b3J5O1xufVxuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgZmxleC1ncm93OiAxO1xuICAgIGhlaWdodDogMTAwJTtcbiAgYDtcblxuICBleHBvcnQgY29uc3QgRHJhZ2dhYmxlID0gc3R5bGVkKERyYWdnYWJsZVdpZGdldClgXG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG4gICAgZmxleC1ncm93OiAwO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYDtcblxuICBleHBvcnQgY29uc3QgQ29udGVudCA9IHN0eWxlZC5kaXZgXG4gICAgZmxleC1ncm93OiAxO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICBgO1xuXG4gIGV4cG9ydCBjb25zdCBUYWJHcm91cCA9IHN0eWxlZChTbWFydE9yZGVyaW5nV2lkZ2V0KWBcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTtcbiAgICB0b3A6IDA7XG4gICAgbGVmdDogMDtcblxuICAgICY6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7IC8qIFNhZmFyaSBhbmQgQ2hyb21lICovXG4gICAgfVxuICBgO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYkNvbnRlbnRQcm9wcyB7XG4gIG1vZGVsOiBXb3Jrc3BhY2VNb2RlbDtcbiAgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmU7XG59XG5cbmV4cG9ydCBjb25zdCBUYWJDb250ZW50OiBSZWFjdC5GQzxUYWJDb250ZW50UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGxldCBzZWxlY3RlZEZhY3RvcnkgPSBwcm9wcy5lbmdpbmUuZ2V0RmFjdG9yeShwcm9wcy5tb2RlbCk7XG4gIGNvbnN0IHJlZiA9IHVzZU1vZGVsRWxlbWVudCh7XG4gICAgbW9kZWw6IHByb3BzLm1vZGVsLFxuICAgIGVuZ2luZTogcHJvcHMuZW5naW5lXG4gIH0pO1xuICByZXR1cm4gKFxuICAgIDxTLkNvbnRlbnQgcmVmPXtyZWZ9PlxuICAgICAge3NlbGVjdGVkRmFjdG9yeS5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgICAgICBtb2RlbDogcHJvcHMubW9kZWwsXG4gICAgICAgIGVuZ2luZTogcHJvcHMuZW5naW5lXG4gICAgICB9KX1cbiAgICA8L1MuQ29udGVudD5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBUYWJHcm91cFdpZGdldDogUmVhY3QuRkM8VGFiR3JvdXBXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSgpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5tb2RlbC5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIHNlbGVjdGlvbkNoYW5nZWQ6ICgpID0+IHtcbiAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgW10pO1xuICBjb25zdCByZWYgPSB1c2VNb2RlbEVsZW1lbnQoe1xuICAgIG1vZGVsOiBwcm9wcy5tb2RlbCxcbiAgICBlbmdpbmU6IHByb3BzLmVuZ2luZVxuICB9KTtcblxuICBsZXQgc2VsZWN0ZWQgPSBwcm9wcy5tb2RlbC5nZXRTZWxlY3RlZCgpO1xuICByZXR1cm4gKFxuICAgIDxTLkNvbnRhaW5lciByZWY9e3JlZn0+XG4gICAgICA8Uy5EcmFnZ2FibGUgZW5naW5lPXtwcm9wcy5lbmdpbmV9IG1vZGVsPXtwcm9wcy5tb2RlbH0+XG4gICAgICAgIHtwcm9wcy5mYWN0b3J5LmdlbmVyYXRlVGFic0NvbnRhaW5lcih7XG4gICAgICAgICAgZW5naW5lOiBwcm9wcy5lbmdpbmUsXG4gICAgICAgICAgbW9kZWw6IHByb3BzLm1vZGVsLFxuICAgICAgICAgIGNvbnRlbnQ6IChcbiAgICAgICAgICAgIDxTLlRhYkdyb3VwXG4gICAgICAgICAgICAgIGRyb3BwZWQ9eyh7IG1vZGVsLCBpbmRleCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgbW9kZWxcbiAgICAgICAgICAgICAgICAgIC5mbGF0dGVuKClcbiAgICAgICAgICAgICAgICAgIC5yZXZlcnNlKClcbiAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKG0pID0+ICEobSBpbnN0YW5jZW9mIFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbCkpXG4gICAgICAgICAgICAgICAgICAuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm9wcy5tb2RlbC5hZGRNb2RlbChtLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwcm9wcy5lbmdpbmUubm9ybWFsaXplKCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGVuZ2luZT17cHJvcHMuZW5naW5lfVxuICAgICAgICAgICAgICB2ZXJ0aWNhbD17ZmFsc2V9XG4gICAgICAgICAgICAgIGNoaWxkcmVuPXtfLm1hcChwcm9wcy5tb2RlbC5jaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxUYWJCdXR0b25XaWRnZXQgZmFjdG9yeT17cHJvcHMuZmFjdG9yeX0gbW9kZWw9e2NoaWxkfSBlbmdpbmU9e3Byb3BzLmVuZ2luZX0ga2V5PXtjaGlsZC5pZH0gLz47XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApXG4gICAgICAgIH0pfVxuICAgICAgPC9TLkRyYWdnYWJsZT5cbiAgICAgIDxUYWJDb250ZW50IGtleT17c2VsZWN0ZWQuaWR9IG1vZGVsPXtzZWxlY3RlZH0gZW5naW5lPXtwcm9wcy5lbmdpbmV9IC8+XG4gICAgPC9TLkNvbnRhaW5lcj5cbiAgKTtcbn07XG4iLCJpbXBvcnQge1xuICBTZXJpYWxpemVkQ29sbGVjdGlvbk1vZGVsLFxuICBXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWwsXG4gIFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbExpc3RlbmVyLFxuICBXb3Jrc3BhY2VNb2RlbCxcbiAgV29ya3NwYWNlRW5naW5lXG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGludGVyZmFjZSBXb3Jrc3BhY2VUYWJNb2RlbExpc3RlbmVyIGV4dGVuZHMgV29ya3NwYWNlQ29sbGVjdGlvbk1vZGVsTGlzdGVuZXIge1xuICBzZWxlY3Rpb25DaGFuZ2VkOiAoKSA9PiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV29ya3NwYWNlVGFiTW9kZWxTZXJpYWxpemVkIGV4dGVuZHMgU2VyaWFsaXplZENvbGxlY3Rpb25Nb2RlbCB7XG4gIHNlbGVjdGVkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBXb3Jrc3BhY2VUYWJNb2RlbCBleHRlbmRzIFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbDxcbiAgV29ya3NwYWNlVGFiTW9kZWxTZXJpYWxpemVkLFxuICBXb3Jrc3BhY2VUYWJNb2RlbExpc3RlbmVyXG4+IHtcbiAgcHJvdGVjdGVkIHNlbGVjdGVkOiBzdHJpbmc7XG4gIHByaXZhdGUgY2hpbGRMaXN0ZW5lcjogKCkgPT4gYW55O1xuXG4gIHN0YXRpYyBOQU1FID0gJ3RhYnMnO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFdvcmtzcGFjZVRhYk1vZGVsLk5BTUUpO1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBudWxsO1xuICAgIHRoaXMuY2hpbGRMaXN0ZW5lciA9IG51bGw7XG4gIH1cblxuICBmcm9tQXJyYXkocGF5bG9hZDogV29ya3NwYWNlVGFiTW9kZWxTZXJpYWxpemVkLCBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZSkge1xuICAgIHN1cGVyLmZyb21BcnJheShwYXlsb2FkLCBlbmdpbmUpO1xuICAgIGlmIChwYXlsb2FkLnNlbGVjdGVkICYmIHRoaXMuY2hpbGRyZW4uZmluZCgoYykgPT4gYy5pZCA9PT0gcGF5bG9hZC5zZWxlY3RlZCkpIHtcbiAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5jaGlsZHJlbi5maW5kKChjKSA9PiBjLmlkID09PSBwYXlsb2FkLnNlbGVjdGVkKTtcbiAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRTZWxlY3RlZChmb3VuZCk7XG4gICAgfVxuICB9XG5cbiAgdG9BcnJheSgpOiBXb3Jrc3BhY2VUYWJNb2RlbFNlcmlhbGl6ZWQge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b0FycmF5KCksXG4gICAgICBzZWxlY3RlZDogdGhpcy5zZWxlY3RlZFxuICAgIH07XG4gIH1cblxuICBhZGRNb2RlbChtb2RlbDogV29ya3NwYWNlTW9kZWwsIHBvc2l0aW9uOiBudW1iZXIgPSBudWxsKTogdGhpcyB7XG4gICAgc3VwZXIuYWRkTW9kZWwobW9kZWwsIHBvc2l0aW9uKTtcbiAgICB0aGlzLnNldFNlbGVjdGVkKG1vZGVsKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJlbW92ZU1vZGVsKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCk6IHRoaXMge1xuICAgIHN1cGVyLnJlbW92ZU1vZGVsKG1vZGVsKTtcbiAgICBpZiAodGhpcy5zZWxlY3RlZCA9PT0gbW9kZWwuaWQgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnNldFNlbGVjdGVkKHRoaXMuY2hpbGRyZW5bMF0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldFNlbGVjdGVkKCk6IFdvcmtzcGFjZU1vZGVsIHtcbiAgICByZXR1cm4gXy5maW5kKHRoaXMuY2hpbGRyZW4sIHsgaWQ6IHRoaXMuc2VsZWN0ZWQgfSk7XG4gIH1cblxuICBzZXRTZWxlY3RlZChtb2RlbDogV29ya3NwYWNlTW9kZWwpOiB0aGlzIHtcbiAgICB0aGlzLmNoaWxkTGlzdGVuZXI/LigpO1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBtb2RlbC5pZDtcblxuICAgIGlmIChtb2RlbCkge1xuICAgICAgdGhpcy5jaGlsZExpc3RlbmVyID0gdGhpcy5taW5pbXVtU2l6ZS50cmFja1NpemUobW9kZWwubWluaW11bVNpemUpO1xuICAgIH1cblxuICAgIHRoaXMuaXRlcmF0ZUxpc3RlbmVycygoY2IpID0+IGNiLnNlbGVjdGlvbkNoYW5nZWQ/LigpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuIiwiaW1wb3J0IHsgVGFiR3JvdXBXaWRnZXQgfSBmcm9tICcuL1RhYkdyb3VwV2lkZ2V0JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIFN1YkNvbXBvbmVudE1vZGVsRmFjdG9yeSxcbiAgU3ViQ29tcG9uZW50UmVuZGVyZXIsXG4gIFdvcmtzcGFjZU1vZGVsLFxuICBXb3Jrc3BhY2VNb2RlbEZhY3RvcnlFdmVudFxufSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtY29yZSc7XG5pbXBvcnQgeyBXb3Jrc3BhY2VUYWJNb2RlbCB9IGZyb20gJy4vV29ya3NwYWNlVGFiTW9kZWwnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsgV29ya3NwYWNlRW5naW5lIH0gZnJvbSAnLi4vLi4vY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFiUmVuZGVyZXJFdmVudDxUIGV4dGVuZHMgV29ya3NwYWNlTW9kZWw+IHtcbiAgbW9kZWw6IFQ7XG4gIHNlbGVjdGVkOiBib29sZWFuO1xuICBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUYWJSZW5kZXJlcjxUIGV4dGVuZHMgV29ya3NwYWNlTW9kZWwgPSBXb3Jrc3BhY2VNb2RlbD4gZXh0ZW5kcyBTdWJDb21wb25lbnRSZW5kZXJlcjxUPiB7XG4gIHJlbmRlclRhYihldmVudDogVGFiUmVuZGVyZXJFdmVudDxUPik6IEpTWC5FbGVtZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdlbmVyYXRlVGFic0NvbnRhaW5lckV2ZW50PFQgZXh0ZW5kcyBXb3Jrc3BhY2VUYWJNb2RlbCA9IFdvcmtzcGFjZVRhYk1vZGVsPiB7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xuICBtb2RlbDogVDtcbiAgY29udGVudDogSlNYLkVsZW1lbnQ7XG59XG5cbmV4cG9ydCBjbGFzcyBXb3Jrc3BhY2VUYWJGYWN0b3J5PFQgZXh0ZW5kcyBXb3Jrc3BhY2VUYWJNb2RlbCA9IFdvcmtzcGFjZVRhYk1vZGVsPiBleHRlbmRzIFN1YkNvbXBvbmVudE1vZGVsRmFjdG9yeTxcbiAgVCxcbiAgVGFiUmVuZGVyZXJcbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihXb3Jrc3BhY2VUYWJNb2RlbC5OQU1FKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBfZ2VuZXJhdGVNb2RlbCgpOiBUIHtcbiAgICByZXR1cm4gbmV3IFdvcmtzcGFjZVRhYk1vZGVsKCkgYXMgVDtcbiAgfVxuXG4gIHJlbmRlclRhYkZvck1vZGVsKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCwgc2VsZWN0ZWQ6IGJvb2xlYW4sIGVuZ2luZTogV29ya3NwYWNlRW5naW5lKSB7XG4gICAgY29uc3QgciA9IHRoaXMuZ2V0UmVuZGVyZXJGb3JNb2RlbChtb2RlbCk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByLnJlbmRlclRhYih7XG4gICAgICAgIG1vZGVsOiBtb2RlbCxcbiAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgICAgICBlbmdpbmU6IGVuZ2luZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiA8c3Bhbj57bW9kZWwudHlwZX08L3NwYW4+O1xuICB9XG5cbiAgZ2VuZXJhdGVUYWJzQ29udGFpbmVyKGV2ZW50OiBHZW5lcmF0ZVRhYnNDb250YWluZXJFdmVudCkge1xuICAgIHJldHVybiA8Uy5UYWJIZWFkZXI+e2V2ZW50LmNvbnRlbnR9PC9TLlRhYkhlYWRlcj47XG4gIH1cblxuICBnZW5lcmF0ZUNvbnRlbnQoZXZlbnQ6IFdvcmtzcGFjZU1vZGVsRmFjdG9yeUV2ZW50PFQ+KTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiA8VGFiR3JvdXBXaWRnZXQgZmFjdG9yeT17dGhpc30ga2V5PXtldmVudC5tb2RlbC5pZH0gbW9kZWw9e2V2ZW50Lm1vZGVsfSBlbmdpbmU9e2V2ZW50LmVuZ2luZX0gLz47XG4gIH1cbn1cblxubmFtZXNwYWNlIFMge1xuICBleHBvcnQgY29uc3QgVGFiSGVhZGVyID0gc3R5bGVkLmRpdmBcbiAgICBtaW4taGVpZ2h0OiAzMHB4O1xuICBgO1xufVxuIiwiaW1wb3J0IHtcbiAgQWxpZ25tZW50LFxuICBXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWwsXG4gIFdvcmtzcGFjZUVuZ2luZSxcbiAgV29ya3NwYWNlTW9kZWwsXG4gIFdvcmtzcGFjZU5vZGVNb2RlbExpc3RlbmVyLFxuICBXb3Jrc3BhY2VOb2RlTW9kZWxTZXJpYWxpemVkXG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCB7XG4gIEZsb2F0aW5nV2luZG93RmFjdG9yeSxcbiAgRmxvYXRpbmdXaW5kb3dNb2RlbCxcbiAgUm9vdFdvcmtzcGFjZU1vZGVsXG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1tb2RlbC1mbG9hdGluZy13aW5kb3cnO1xuXG5leHBvcnQgZW51bSBXb3Jrc3BhY2VUcmF5TW9kZSB7XG4gIENPTExBUFNFRCA9ICdtaWNybycsXG4gIE5PUk1BTCA9ICdleHBhbmQnXG59XG5cbmV4cG9ydCBlbnVtIFRyYXlJY29uUG9zaXRpb24ge1xuICBMRUZUID0gJ2xlZnQnLFxuICBSSUdIVCA9ICdyaWdodCdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXb3Jrc3BhY2VUcmF5TW9kZWxPcHRpb25zIHtcbiAgaWNvbldpZHRoOiBudW1iZXI7XG4gIGZhY3Rvcnk6IEZsb2F0aW5nV2luZG93RmFjdG9yeTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXb3Jrc3BhY2VUcmF5TW9kZWxMaXN0ZW5lciBleHRlbmRzIFdvcmtzcGFjZU5vZGVNb2RlbExpc3RlbmVyIHtcbiAgc2VsZWN0aW9uQ2hhbmdlZDogKCkgPT4gYW55O1xuICBpY29uUG9zaXRpb25DaGFuZ2VkOiAoKSA9PiBhbnk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VyaWFsaXplZFdvcmtzcGFjZVRyYXlNb2RlbCBleHRlbmRzIFdvcmtzcGFjZU5vZGVNb2RlbFNlcmlhbGl6ZWQge1xuICBzZWxlY3RlZDogc3RyaW5nO1xuICBpY29uUG9zaXRpb246IFRyYXlJY29uUG9zaXRpb247XG4gIG1vZGU6IFdvcmtzcGFjZVRyYXlNb2RlO1xuICBzaXplRXhwYW5kZWQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFdvcmtzcGFjZVRyYXlNb2RlbCBleHRlbmRzIFdvcmtzcGFjZUNvbGxlY3Rpb25Nb2RlbDxcbiAgU2VyaWFsaXplZFdvcmtzcGFjZVRyYXlNb2RlbCxcbiAgV29ya3NwYWNlVHJheU1vZGVsTGlzdGVuZXJcbj4ge1xuICBtb2RlOiBXb3Jrc3BhY2VUcmF5TW9kZTtcbiAgaWNvbkJhclBvc2l0aW9uOiBUcmF5SWNvblBvc2l0aW9uO1xuICBzZWxlY3RlZE1vZGVsOiBXb3Jrc3BhY2VNb2RlbDtcbiAgZmxvYXRpbmdXaW5kb3c6IEZsb2F0aW5nV2luZG93TW9kZWw7XG5cbiAgcHJpdmF0ZSBzaXplRXhwYW5kZWQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBjaGlsZExpc3RlbmVyOiAoKSA9PiBhbnk7XG5cbiAgc3RhdGljIE5BTUUgPSAnc3J3LXRyYXknO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBvcHRpb25zOiBXb3Jrc3BhY2VUcmF5TW9kZWxPcHRpb25zKSB7XG4gICAgc3VwZXIoV29ya3NwYWNlVHJheU1vZGVsLk5BTUUpO1xuICAgIHRoaXMuc2V0RXhwYW5kKGZhbHNlLCB0cnVlKTtcbiAgICB0aGlzLnNlbGVjdGVkTW9kZWwgPSBudWxsO1xuICAgIHRoaXMuaWNvbkJhclBvc2l0aW9uID0gVHJheUljb25Qb3NpdGlvbi5MRUZUO1xuICAgIHRoaXMuZmxvYXRpbmdXaW5kb3cgPSBvcHRpb25zLmZhY3RvcnkuZ2VuZXJhdGVNb2RlbCgpO1xuICAgIHRoaXMuZmxvYXRpbmdXaW5kb3cuc2V0UGFyZW50KHRoaXMpO1xuXG4gICAgLy8gdGhlIHRyYXkgbW9kZWwgd2lsbCBoYW5kbGUgdGhpc1xuICAgIHRoaXMuZmxvYXRpbmdXaW5kb3cuc2VyaWFsaXplVG9Sb290ID0gZmFsc2U7XG4gICAgdGhpcy5mbG9hdGluZ1dpbmRvdy5yZWdpc3Rlckxpc3RlbmVyKHtcbiAgICAgIHJlbW92ZWQ6ICgpID0+IHtcbiAgICAgICAgLy8gaWYgdGhlIGZsb2F0aW5nIHdpbmRvdyBpcyByZW1vdmVkLCB1cGRhdGUgdGhlIHNlbGVjdGVkIGl0ZW0gYmFjayB0byBudWxsXG4gICAgICAgIC8vIHRoaXMgY2FuIGhhcHBlbiBpZiBhIGNsb3NlIGJ1dHRvbiBvbiB0aGUgd2luZG93IGRlbGV0ZXMgdGhlIHdpbmRvd1xcXG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRNb2RlbChudWxsKTtcbiAgICAgIH0sXG4gICAgICBjaGlsZFVwZGF0ZWQ6ICgpID0+IHtcbiAgICAgICAgdGhpcy5mbG9hdGluZ1dpbmRvdy5taW5pbXVtU2l6ZS51cGRhdGUoe1xuICAgICAgICAgIHdpZHRoOiAxMDAsXG4gICAgICAgICAgaGVpZ2h0OiAxMDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlV2luZG93UG9zaXRpb24odGhpcy5mbG9hdGluZ1dpbmRvdy5jaGlsZCk7XG4gICAgICAgIHRoaXMuY2hpbGRMaXN0ZW5lcj8uKCk7XG4gICAgICAgIHRoaXMuY2hpbGRMaXN0ZW5lciA9IHRoaXMuZmxvYXRpbmdXaW5kb3cuY2hpbGQucl9kaW1lbnNpb25zLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgICAgIHVwZGF0ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlV2luZG93UG9zaXRpb24odGhpcy5mbG9hdGluZ1dpbmRvdy5jaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNldE1vZGUoV29ya3NwYWNlVHJheU1vZGUuTk9STUFMKTtcbiAgICB0aGlzLnNpemUucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgICB1cGRhdGVkOiAoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IFdvcmtzcGFjZVRyYXlNb2RlLk5PUk1BTCAmJiB0aGlzLnJfdmlzaWJsZSkge1xuICAgICAgICAgIHRoaXMuc2V0RXhwYW5kZWRTaXplKHRoaXMuc2l6ZS53aWR0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHNldEV4cGFuZGVkU2l6ZShzaXplOiBudW1iZXIpIHtcbiAgICBpZiAoc2l6ZSA+IHRoaXMub3B0aW9ucy5pY29uV2lkdGggJiYgc2l6ZSAhPT0gdGhpcy5zaXplRXhwYW5kZWQpIHtcbiAgICAgIHRoaXMuc2l6ZUV4cGFuZGVkID0gc2l6ZTtcbiAgICAgIHRoaXMuc2l6ZS51cGRhdGUoe1xuICAgICAgICB3aWR0aDogdGhpcy5zaXplRXhwYW5kZWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHNldEljb25Qb3NpdGlvbihwb3NpdGlvbjogVHJheUljb25Qb3NpdGlvbikge1xuICAgIGlmICh0aGlzLmljb25CYXJQb3NpdGlvbiA9PT0gcG9zaXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pY29uQmFyUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLml0ZXJhdGVMaXN0ZW5lcnMoKGNiKSA9PiBjYi5pY29uUG9zaXRpb25DaGFuZ2VkPy4oKSk7XG4gIH1cblxuICBnZXRTZWxlY3RlZE1vZGVsKCkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdGVkTW9kZWw7XG4gIH1cblxuICBzZXRTZWxlY3RlZE1vZGVsKGNoaWxkOiBXb3Jrc3BhY2VNb2RlbCkge1xuICAgIGlmICh0aGlzLnNlbGVjdGVkTW9kZWwgPT09IGNoaWxkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc2VsZWN0ZWRNb2RlbCA9IGNoaWxkO1xuICAgIGlmICh0aGlzLm1vZGUgPT09IFdvcmtzcGFjZVRyYXlNb2RlLkNPTExBUFNFRCkge1xuICAgICAgdGhpcy5zZXRGbG9hdGluZ01vZGVsKGNoaWxkKTtcbiAgICB9XG4gICAgdGhpcy5pdGVyYXRlTGlzdGVuZXJzKChjYikgPT4gY2Iuc2VsZWN0aW9uQ2hhbmdlZD8uKCkpO1xuICB9XG5cbiAgdXBkYXRlV2luZG93UG9zaXRpb24oY2hpbGQ6IFdvcmtzcGFjZU1vZGVsKSB7XG4gICAgY29uc3Qgcm9vdCA9IHRoaXMuZ2V0Um9vdE1vZGVsKCk7XG4gICAgY29uc3QgZGltcyA9IHRoaXMucl9kaW1lbnNpb25zLmdldFJlbGF0aXZlVG9Qb3NpdGlvbihyb290LnJfZGltZW5zaW9ucy5wb3NpdGlvbik7XG4gICAgLy8gbGVmdCBhbGlnbmVkXG4gICAgaWYgKGRpbXNbQWxpZ25tZW50LkxFRlRdIDwgcm9vdC5yX2RpbWVuc2lvbnMuc2l6ZS53aWR0aCAvIDIpIHtcbiAgICAgIHRoaXMuZmxvYXRpbmdXaW5kb3cucG9zaXRpb24udXBkYXRlKHtcbiAgICAgICAgbGVmdDogY2hpbGQucl9kaW1lbnNpb25zLnBvc2l0aW9uLmxlZnQgKyBjaGlsZC5yX2RpbWVuc2lvbnMuc2l6ZS53aWR0aCxcbiAgICAgICAgdG9wOiBjaGlsZC5yX2RpbWVuc2lvbnMucG9zaXRpb24udG9wXG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gcmlnaHQgYWxpZ25lZFxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5mbG9hdGluZ1dpbmRvdy5wb3NpdGlvbi51cGRhdGUoe1xuICAgICAgICBsZWZ0OiAtdGhpcy5mbG9hdGluZ1dpbmRvdy5zaXplLndpZHRoICsgY2hpbGQucl9kaW1lbnNpb25zLnBvc2l0aW9uLmxlZnQsXG4gICAgICAgIHRvcDogY2hpbGQucl9kaW1lbnNpb25zLnBvc2l0aW9uLnRvcFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGV4cGFuZEhvcml6b250YWwoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMubW9kZSA9PT0gV29ya3NwYWNlVHJheU1vZGUuQ09MTEFQU0VEKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5leHBhbmRIb3Jpem9udGFsO1xuICB9XG5cbiAgZGVsZXRlKCkge1xuICAgIHN1cGVyLmRlbGV0ZSgpO1xuICAgIHRoaXMuY2hpbGRMaXN0ZW5lcj8uKCk7XG4gIH1cblxuICB0b0FycmF5KCk6IFNlcmlhbGl6ZWRXb3Jrc3BhY2VUcmF5TW9kZWwge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b0FycmF5KCksXG4gICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICBzZWxlY3RlZDogdGhpcy5zZWxlY3RlZE1vZGVsPy5pZCxcbiAgICAgIGljb25Qb3NpdGlvbjogdGhpcy5pY29uQmFyUG9zaXRpb24sXG4gICAgICBzaXplRXhwYW5kZWQ6IHRoaXMuc2l6ZUV4cGFuZGVkXG4gICAgfTtcbiAgfVxuXG4gIGZyb21BcnJheShwYXlsb2FkOiBTZXJpYWxpemVkV29ya3NwYWNlVHJheU1vZGVsLCBlbmdpbmU6IFdvcmtzcGFjZUVuZ2luZSkge1xuICAgIHN1cGVyLmZyb21BcnJheShwYXlsb2FkLCBlbmdpbmUpO1xuICAgIHRoaXMuc2V0SWNvblBvc2l0aW9uKHBheWxvYWRbJ2ljb25Qb3NpdGlvbiddIHx8IFRyYXlJY29uUG9zaXRpb24uTEVGVCk7XG4gICAgdGhpcy5zaXplRXhwYW5kZWQgPSBwYXlsb2FkLnNpemVFeHBhbmRlZDtcbiAgICBpZiAocGF5bG9hZC5zZWxlY3RlZCkge1xuICAgICAgdGhpcy5zZXRTZWxlY3RlZE1vZGVsKHRoaXMuY2hpbGRyZW4uZmluZCgobSkgPT4gbS5pZCA9PT0gcGF5bG9hZC5zZWxlY3RlZCkgfHwgbnVsbCk7XG4gICAgfVxuICAgIHRoaXMuc2V0TW9kZShwYXlsb2FkWydtb2RlJ10gfHwgV29ya3NwYWNlVHJheU1vZGUuTk9STUFMKTtcbiAgfVxuXG4gIGFkZE1vZGVsKG1vZGVsOiBXb3Jrc3BhY2VNb2RlbCwgcG9zaXRpb246IG51bWJlciA9IG51bGwpOiB0aGlzIHtcbiAgICBzdXBlci5hZGRNb2RlbChtb2RlbCwgcG9zaXRpb24pO1xuICAgIHRoaXMubm9ybWFsaXplU2VsZWN0ZWRNb2RlbCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmVtb3ZlTW9kZWwobW9kZWw6IFdvcmtzcGFjZU1vZGVsKTogdGhpcyB7XG4gICAgc3VwZXIucmVtb3ZlTW9kZWwobW9kZWwpO1xuICAgIGlmICh0aGlzLnNlbGVjdGVkTW9kZWwgJiYgdGhpcy5zZWxlY3RlZE1vZGVsID09PSBtb2RlbCkge1xuICAgICAgdGhpcy5zZWxlY3RlZE1vZGVsID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5ub3JtYWxpemVTZWxlY3RlZE1vZGVsKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBub3JtYWxpemVTZWxlY3RlZE1vZGVsKCkge1xuICAgIGlmICh0aGlzLm1vZGUgPT09IFdvcmtzcGFjZVRyYXlNb2RlLk5PUk1BTCAmJiB0aGlzLnNlbGVjdGVkTW9kZWwgPT0gbnVsbCAmJiB0aGlzLmNoaWxkcmVuWzBdKSB7XG4gICAgICB0aGlzLnNldFNlbGVjdGVkTW9kZWwodGhpcy5jaGlsZHJlblswXSk7XG5cbiAgICAgIC8vIHNldCB0aGUgZGVmYXVsdCBleHBhbmQgc2l6ZVxuICAgICAgaWYgKCF0aGlzLnNpemVFeHBhbmRlZCkge1xuICAgICAgICB0aGlzLnNldEV4cGFuZGVkU2l6ZSh0aGlzLmNoaWxkcmVuWzBdLnNpemUud2lkdGggfHwgdGhpcy5jaGlsZHJlblswXS5taW5pbXVtU2l6ZS53aWR0aCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc2V0TW9kZShtb2RlOiBXb3Jrc3BhY2VUcmF5TW9kZSk6IHRoaXMge1xuICAgIHRoaXMubW9kZSA9IG1vZGU7XG5cbiAgICAvL2xvY2sgaW4gYWxsIHRoZSBzaXplcyB3aGVuIGNvbGxhcHNlZFxuICAgIGlmICh0aGlzLm1vZGUgPT09IFdvcmtzcGFjZVRyYXlNb2RlLkNPTExBUFNFRCkge1xuICAgICAgdGhpcy5zZXRTZWxlY3RlZE1vZGVsKG51bGwpO1xuICAgICAgdGhpcy5zaXplLnVwZGF0ZSh7XG4gICAgICAgIHdpZHRoOiB0aGlzLm9wdGlvbnMuaWNvbldpZHRoXG4gICAgICB9KTtcbiAgICAgIHRoaXMubWF4aW11bVNpemUudXBkYXRlKHtcbiAgICAgICAgd2lkdGg6IHRoaXMub3B0aW9ucy5pY29uV2lkdGhcbiAgICAgIH0pO1xuICAgICAgdGhpcy5taW5pbXVtU2l6ZS51cGRhdGUoe1xuICAgICAgICB3aWR0aDogdGhpcy5vcHRpb25zLmljb25XaWR0aFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHRoZSBvcmRlciBvZiB0aGVzZSB0d28gY2FsbHMgYXJlIGltcG9ydGFudFxuICAgICAgdGhpcy5zZXRGbG9hdGluZ01vZGVsKG51bGwpO1xuICAgICAgdGhpcy5ub3JtYWxpemVTZWxlY3RlZE1vZGVsKCk7XG5cbiAgICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgYW4gZXhwYW5kZWQgc2l6ZSB5ZXQsIGxldHMgd2FpdCBmb3IgdGhlIG1vZGVsIHRvIHJlbmRlciBmaXJzdCAoYXN5bmNyb25vdXNseSlcbiAgICAgIGlmICghdGhpcy5zaXplRXhwYW5kZWQgJiYgdGhpcy5zZWxlY3RlZE1vZGVsKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRNb2RlbC53YWl0Rm9ySW5pdGlhbFJlbmRlcmVkU2l6ZSgpLnRoZW4oKGRpbXMpID0+IHtcbiAgICAgICAgICB0aGlzLnNldEV4cGFuZGVkU2l6ZShkaW1zLndpZHRoICsgdGhpcy5vcHRpb25zLmljb25XaWR0aCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1heGltdW1TaXplLnVwZGF0ZSh7XG4gICAgICAgIHdpZHRoOiAwXG4gICAgICB9KTtcbiAgICAgIHRoaXMubWluaW11bVNpemUudXBkYXRlKHtcbiAgICAgICAgd2lkdGg6IDBcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zaXplLnVwZGF0ZSh7XG4gICAgICAgIHdpZHRoOiB0aGlzLnNpemVFeHBhbmRlZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuaW52YWxpZGF0ZUxheW91dCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9nZXRSb290TW9kZWwoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Um9vdE1vZGVsKCkgYXMgUm9vdFdvcmtzcGFjZU1vZGVsO1xuICB9XG5cbiAgc2V0RmxvYXRpbmdNb2RlbChtb2RlbDogV29ya3NwYWNlTW9kZWwgfCBudWxsKTogdGhpcyB7XG4gICAgaWYgKG1vZGVsID09PSBudWxsKSB7XG4gICAgICB0aGlzLmZsb2F0aW5nV2luZG93LmRlbGV0ZSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRoaXMuZmxvYXRpbmdXaW5kb3cuc2V0Q2hpbGQobW9kZWwpO1xuXG4gICAgLy8gYWRkIHRoZSB3aW5kb3dcbiAgICBjb25zdCByb290ID0gdGhpcy5fZ2V0Um9vdE1vZGVsKCk7XG4gICAgaWYgKHJvb3Q/LmFkZEZsb2F0aW5nV2luZG93KSB7XG4gICAgICByb290LmFkZEZsb2F0aW5nV2luZG93KHRoaXMuZmxvYXRpbmdXaW5kb3cpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnO1xuaW1wb3J0IHsgV29ya3NwYWNlVHJheU1vZGUsIFdvcmtzcGFjZVRyYXlNb2RlbCB9IGZyb20gJy4vV29ya3NwYWNlVHJheU1vZGVsJztcbmltcG9ydCB7XG4gIERyYWdnYWJsZVdpZGdldCxcbiAgU21hcnRPcmRlcmluZ1dpZGdldCxcbiAgdXNlUmVzaXplT2JzZXJ2ZXIsXG4gIHVzZVNjcm9sbE9ic2VydmVyLFxuICBXb3Jrc3BhY2VFbmdpbmUsXG4gIFdvcmtzcGFjZU1vZGVsXG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCB7IFdvcmtzcGFjZVRyYXlGYWN0b3J5IH0gZnJvbSAnLi9Xb3Jrc3BhY2VUcmF5RmFjdG9yeSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWljcm9MYXlvdXRXaWRnZXRQcm9wcyB7XG4gIG5vZGU6IFdvcmtzcGFjZVRyYXlNb2RlbDtcbiAgZW5naW5lOiBXb3Jrc3BhY2VFbmdpbmU7XG4gIGZhY3Rvcnk6IFdvcmtzcGFjZVRyYXlGYWN0b3J5O1xuICBjbGFzc05hbWU/OiBhbnk7XG59XG5cbm5hbWVzcGFjZSBTIHtcbiAgZXhwb3J0IGNvbnN0IE1pY3JvTGF5b3V0ID0gc3R5bGVkLmRpdmBcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IHN0cmV0Y2g7XG4gICAgZmxleC1ncm93OiAxO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IFNjcm9sbGFibGUgPSBzdHlsZWQoU21hcnRPcmRlcmluZ1dpZGdldClgXG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIG92ZXJmbG93LXk6IHNjcm9sbDtcbiAgICBhbGlnbi1pdGVtczogc3RyZXRjaDtcblxuICAgIDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgICAgd2lkdGg6IDA7XG4gICAgfVxuICBgO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1pY3JvV3JhcHBlclByb3BzIHtcbiAgbW9kZWw6IFdvcmtzcGFjZU1vZGVsO1xuICBub2RlOiBXb3Jrc3BhY2VUcmF5TW9kZWw7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xuICBmYWN0b3J5OiBXb3Jrc3BhY2VUcmF5RmFjdG9yeTtcbiAgc2Nyb2xsUmVmOiBSZWFjdC5SZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+O1xufVxuXG5leHBvcnQgY29uc3QgTWljcm9XcmFwcGVyOiBSZWFjdC5GQzxNaWNyb1dyYXBwZXJQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuICBpZiAocHJvcHMubm9kZS5tb2RlID09PSBXb3Jrc3BhY2VUcmF5TW9kZS5DT0xMQVBTRUQpIHtcbiAgICB1c2VSZXNpemVPYnNlcnZlcih7XG4gICAgICBmb3J3YXJkUmVmOiByZWYsXG4gICAgICBkaW1lbnNpb246IHByb3BzLm1vZGVsLnJfZGltZW5zaW9ucyxcbiAgICAgIGVuZ2luZTogcHJvcHMuZW5naW5lXG4gICAgfSk7XG4gICAgdXNlU2Nyb2xsT2JzZXJ2ZXIoe1xuICAgICAgZm9yd2FyZFJlZjogcHJvcHMuc2Nyb2xsUmVmLFxuICAgICAgZGltZW5zaW9uOiBwcm9wcy5tb2RlbC5yX2RpbWVuc2lvbnNcbiAgICB9KTtcbiAgfVxuICBsZXQgc2VsZWN0ZWQgPSBwcm9wcy5ub2RlLnNlbGVjdGVkTW9kZWwgJiYgcHJvcHMubm9kZS5zZWxlY3RlZE1vZGVsLmlkID09PSBwcm9wcy5tb2RlbC5pZDtcbiAgY29uc3QgcmVuZGVyZXIgPSBwcm9wcy5mYWN0b3J5LmdldFJlbmRlcmVyRm9yTW9kZWwocHJvcHMubW9kZWwpO1xuICByZXR1cm4gKFxuICAgIDxEcmFnZ2FibGVXaWRnZXQgbW9kZWw9e3Byb3BzLm1vZGVsfSBlbmdpbmU9e3Byb3BzLmVuZ2luZX0+XG4gICAgICA8ZGl2XG4gICAgICAgIHJlZj17cmVmfVxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgaWYgKHByb3BzLm5vZGUuc2VsZWN0ZWRNb2RlbCA9PT0gcHJvcHMubW9kZWwgJiYgcHJvcHMubm9kZS5tb2RlID09PSBXb3Jrc3BhY2VUcmF5TW9kZS5DT0xMQVBTRUQpIHtcbiAgICAgICAgICAgIHByb3BzLm5vZGUuc2V0U2VsZWN0ZWRNb2RlbChudWxsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvcHMubm9kZS5zZXRTZWxlY3RlZE1vZGVsKHByb3BzLm1vZGVsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIHtyZW5kZXJlcj8ucmVuZGVySWNvbih7XG4gICAgICAgICAgbW9kZWw6IHByb3BzLm1vZGVsLFxuICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCxcbiAgICAgICAgICBwYXJlbnQ6IHByb3BzLm5vZGVcbiAgICAgICAgfSkgfHwgPHNwYW4+Pzwvc3Bhbj59XG4gICAgICA8L2Rpdj5cbiAgICA8L0RyYWdnYWJsZVdpZGdldD5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBNaWNyb0xheW91dFdpZGdldDogUmVhY3QuRkM8TWljcm9MYXlvdXRXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgcmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PigpO1xuXG4gIHJldHVybiAoXG4gICAgPFMuTWljcm9MYXlvdXQgY2xhc3NOYW1lPXtwcm9wcy5jbGFzc05hbWV9PlxuICAgICAgPFMuU2Nyb2xsYWJsZVxuICAgICAgICBmb3J3YXJkUmVmPXtyZWZ9XG4gICAgICAgIHZlcnRpY2FsPXt0cnVlfVxuICAgICAgICBlbmdpbmU9e3Byb3BzLmVuZ2luZX1cbiAgICAgICAgZHJvcHBlZD17KHsgbW9kZWwsIGluZGV4IH0pID0+IHtcbiAgICAgICAgICBwcm9wcy5ub2RlLmFkZE1vZGVsKG1vZGVsLCBpbmRleCk7XG4gICAgICAgICAgcHJvcHMuZW5naW5lLm5vcm1hbGl6ZSgpO1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7Xy5tYXAocHJvcHMubm9kZS5nZXRGbGF0dGVuZWQoKSwgKGNoaWxkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIDxNaWNyb1dyYXBwZXIgc2Nyb2xsUmVmPXtyZWZ9IHsuLi5wcm9wc30gbW9kZWw9e2NoaWxkfSBrZXk9e2NoaWxkLmlkfSAvPjtcbiAgICAgICAgfSl9XG4gICAgICA8L1MuU2Nyb2xsYWJsZT5cbiAgICA8L1MuTWljcm9MYXlvdXQ+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVHJheUljb25Qb3NpdGlvbiwgV29ya3NwYWNlVHJheU1vZGUsIFdvcmtzcGFjZVRyYXlNb2RlbCB9IGZyb20gJy4vV29ya3NwYWNlVHJheU1vZGVsJztcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJztcbmltcG9ydCB7XG4gIERyYWdnYWJsZVdpZGdldCxcbiAgdXNlRm9yY2VVcGRhdGUsXG4gIHVzZU1vZGVsRWxlbWVudCxcbiAgV29ya3NwYWNlRW5naW5lLFxuICBXb3Jrc3BhY2VNb2RlbFxufSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtY29yZSc7XG5pbXBvcnQgeyBNaWNyb0xheW91dFdpZGdldCB9IGZyb20gJy4vTWljcm9MYXlvdXRXaWRnZXQnO1xuaW1wb3J0IHsgV29ya3NwYWNlVHJheUZhY3RvcnkgfSBmcm9tICcuL1dvcmtzcGFjZVRyYXlGYWN0b3J5JztcblxuZXhwb3J0IGludGVyZmFjZSBUcmF5V2lkZ2V0UHJvcHMge1xuICBub2RlOiBXb3Jrc3BhY2VUcmF5TW9kZWw7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xuICBoZWFkZXI6IEpTWC5FbGVtZW50O1xuICBjbGFzc05hbWU/OiBhbnk7XG4gIGZhY3Rvcnk6IFdvcmtzcGFjZVRyYXlGYWN0b3J5O1xufVxuXG5uYW1lc3BhY2UgUyB7XG4gIGV4cG9ydCBjb25zdCBDb250YWluZXIgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIG1pbi1oZWlnaHQ6IDA7XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IE1pY3JvTGF5b3V0ID0gc3R5bGVkKE1pY3JvTGF5b3V0V2lkZ2V0KWBcbiAgICBmbGV4LWdyb3c6IDE7XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IE1pY3JvTGF5b3V0U2hyaW5rID0gc3R5bGVkKE1pY3JvTGF5b3V0V2lkZ2V0KWBcbiAgICBmbGV4LWdyb3c6IDA7XG4gICAgZmxleC1zaHJpbms6IDA7XG4gIGA7XG5cbiAgZXhwb3J0IGNvbnN0IENvbnRlbnQgPSBzdHlsZWQuZGl2YFxuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1ncm93OiAxO1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgbWluLWhlaWdodDogMDtcbiAgYDtcblxuICBleHBvcnQgY29uc3QgUGFuZWxDb250ZW50ID0gc3R5bGVkLmRpdmBcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZ3JvdzogMTtcbiAgICBtaW4td2lkdGg6IDA7XG4gIGA7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFuZWxDb250ZW50UHJvcHMge1xuICBtb2RlbDogV29ya3NwYWNlTW9kZWw7XG4gIGVuZ2luZTogV29ya3NwYWNlRW5naW5lO1xufVxuXG5leHBvcnQgY29uc3QgUGFuZWxDb250ZW50OiBSZWFjdC5GQzxQYW5lbENvbnRlbnRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgcmVmID0gdXNlTW9kZWxFbGVtZW50KHtcbiAgICBtb2RlbDogcHJvcHMubW9kZWwsXG4gICAgZW5naW5lOiBwcm9wcy5lbmdpbmVcbiAgfSk7XG4gIHJldHVybiAoXG4gICAgPFMuUGFuZWxDb250ZW50IHJlZj17cmVmfT5cbiAgICAgIHtwcm9wcy5lbmdpbmUuZ2V0RmFjdG9yeShwcm9wcy5tb2RlbCkuZ2VuZXJhdGVDb250ZW50KHtcbiAgICAgICAgbW9kZWw6IHByb3BzLm1vZGVsLFxuICAgICAgICBlbmdpbmU6IHByb3BzLmVuZ2luZVxuICAgICAgfSl9XG4gICAgPC9TLlBhbmVsQ29udGVudD5cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBUcmF5Q29udGVudEV4cGFuZGVkOiBSZWFjdC5GQzxUcmF5V2lkZ2V0UHJvcHM+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgbGV0IGNvbnQgPSBbXG4gICAgPFMuTWljcm9MYXlvdXRTaHJpbmsga2V5PVwiYVwiIG5vZGU9e3Byb3BzLm5vZGV9IGVuZ2luZT17cHJvcHMuZW5naW5lfSBmYWN0b3J5PXtwcm9wcy5mYWN0b3J5fSAvPixcbiAgICA8UGFuZWxDb250ZW50IGtleT1cImJcIiBlbmdpbmU9e3Byb3BzLmVuZ2luZX0gbW9kZWw9e3Byb3BzLm5vZGUuZ2V0U2VsZWN0ZWRNb2RlbCgpfSAvPlxuICBdO1xuICBpZiAocHJvcHMubm9kZS5pY29uQmFyUG9zaXRpb24gPT09IFRyYXlJY29uUG9zaXRpb24uUklHSFQpIHtcbiAgICBjb250LnJldmVyc2UoKTtcbiAgfVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5ub2RlLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgaWNvblBvc2l0aW9uQ2hhbmdlZDogKCkgPT4ge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG4gIHJldHVybiA8Uy5Db250ZW50Pntjb250fTwvUy5Db250ZW50Pjtcbn07XG5cbmV4cG9ydCBjb25zdCBUcmF5Q29udGVudFNocmluazogUmVhY3QuRkM8VHJheVdpZGdldFByb3BzPiA9IChwcm9wcykgPT4ge1xuICByZXR1cm4gPFMuTWljcm9MYXlvdXQgbm9kZT17cHJvcHMubm9kZX0gZW5naW5lPXtwcm9wcy5lbmdpbmV9IGZhY3Rvcnk9e3Byb3BzLmZhY3Rvcnl9IC8+O1xufTtcblxuZXhwb3J0IGNvbnN0IFRyYXlXaWRnZXQ6IFJlYWN0LkZDPFRyYXlXaWRnZXRQcm9wcz4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSgpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiBwcm9wcy5ub2RlLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgc2VsZWN0aW9uQ2hhbmdlZDogKCkgPT4ge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbXSk7XG4gIHJldHVybiAoXG4gICAgPFMuQ29udGFpbmVyIGNsYXNzTmFtZT17cHJvcHMuY2xhc3NOYW1lfT5cbiAgICAgIHtcbiAgICAgICAgPERyYWdnYWJsZVdpZGdldCBtb2RlbD17cHJvcHMubm9kZX0gZW5naW5lPXtwcm9wcy5lbmdpbmV9PlxuICAgICAgICAgIHtwcm9wcy5oZWFkZXJ9XG4gICAgICAgIDwvRHJhZ2dhYmxlV2lkZ2V0PlxuICAgICAgfVxuICAgICAge3Byb3BzLm5vZGUubW9kZSA9PT0gV29ya3NwYWNlVHJheU1vZGUuTk9STUFMID8gKFxuICAgICAgICA8VHJheUNvbnRlbnRFeHBhbmRlZCB7Li4ucHJvcHN9IC8+XG4gICAgICApIDogKFxuICAgICAgICA8VHJheUNvbnRlbnRTaHJpbmsgey4uLnByb3BzfSAvPlxuICAgICAgKX1cbiAgICA8L1MuQ29udGFpbmVyPlxuICApO1xufTtcbiIsImltcG9ydCB7IFdvcmtzcGFjZVRyYXlNb2RlbCB9IGZyb20gJy4vV29ya3NwYWNlVHJheU1vZGVsJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFRyYXlXaWRnZXQgfSBmcm9tICcuL1RyYXlXaWRnZXQnO1xuaW1wb3J0IHtcbiAgU3ViQ29tcG9uZW50TW9kZWxGYWN0b3J5LFxuICBXb3Jrc3BhY2VNb2RlbCxcbiAgV29ya3NwYWNlTW9kZWxGYWN0b3J5RXZlbnQsXG4gIFdvcmtzcGFjZU5vZGVQYW5lbFJlbmRlcmVyXG59IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcbmltcG9ydCB7IEZsb2F0aW5nV2luZG93RmFjdG9yeSB9IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1tb2RlbC1mbG9hdGluZy13aW5kb3cnO1xuaW1wb3J0IHsgc2V0dXBJY29uUG9zaXRpb25CZWhhdmlvciB9IGZyb20gJy4vYmVoYXZpb3JzL2ljb25Qb3NpdGlvbkJlaGF2aW9yJztcbmltcG9ydCB7IHNldHVwVHJheVdpbmRvd0RyYWdMb2NrQmVoYXZpb3IgfSBmcm9tICcuL2JlaGF2aW9ycy90cmF5V2luZG93RHJhZ0xvY2tCZWhhdmlvcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJheU1vZGVsUGFuZWxSZW5kZXJlckV2ZW50PFQgZXh0ZW5kcyBXb3Jrc3BhY2VNb2RlbD4ge1xuICBtb2RlbDogVDtcbiAgcGFyZW50OiBXb3Jrc3BhY2VUcmF5TW9kZWw7XG4gIHNlbGVjdGVkOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyYXlNb2RlbFBhbmVsUmVuZGVyZXI8VCBleHRlbmRzIFdvcmtzcGFjZU1vZGVsID0gV29ya3NwYWNlTW9kZWw+IGV4dGVuZHMgV29ya3NwYWNlTm9kZVBhbmVsUmVuZGVyZXIge1xuICByZW5kZXJJY29uKGV2ZW50OiBUcmF5TW9kZWxQYW5lbFJlbmRlcmVyRXZlbnQ8VD4pOiBKU1guRWxlbWVudDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXb3Jrc3BhY2VUcmF5RmFjdG9yeU9wdGlvbnMge1xuICB3aW5kb3dGYWN0b3J5OiBGbG9hdGluZ1dpbmRvd0ZhY3Rvcnk7XG4gIC8qKlxuICAgKiBXaGVuIGVuYWJsZWQsIHRoZSBpY29ucyB3aWxsIHJlbmRlciBvbiB0aGUgbGVmdCBvciByaWdodCBkZXBlbmRpbmcgb24gd2hlcmUgdGhlIHRyYXkgaXMgcmVuZGVyZWQgcmVsYXRpdmUgdG9cbiAgICogdGhlIHJvb3Qgd29yayBzcGFjZS4gSWYgaXQgaXMgbGVmdC1pc2gsIHRoZSBpY29ucyBhcmUgcmVuZGVyZWQgb24gdGhlIGxlZnQgYW5kIHZpc2EtdmVyc2FcbiAgICovXG4gIGluc3RhbGxJY29uUG9zaXRpb25MaXN0ZW5lcj86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBJZiBlbmFibGVkLCBsb2NraW5nIHRoZSBlbmdpbmUsIHdpbGwgcHJldmVudCB0aGUgZmxvYXRpbmcgd2luZG93IGFzc29jaWF0ZWQgd2l0aCB0aGlzIHRyYXksIGZyb21cbiAgICogYmVpbmcgbW92ZWQgYnkgdGhlIHVzZXIgZGlyZWN0bHkuIGl0IHdpbGwgc3RpbGwgbW92ZSBpZiB0aGUgdXNlciBzZWxlY3RzIGFuIGljb24gaW4gdGhlIGNvbGxhcHNlZCBtb2RlXG4gICAqL1xuICBpbnN0YWxsRW5naW5lTG9ja0xpc3RlbmVyPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIFdvcmtzcGFjZVRyYXlGYWN0b3J5PFQgZXh0ZW5kcyBXb3Jrc3BhY2VUcmF5TW9kZWwgPSBXb3Jrc3BhY2VUcmF5TW9kZWw+IGV4dGVuZHMgU3ViQ29tcG9uZW50TW9kZWxGYWN0b3J5PFxuICBULFxuICBUcmF5TW9kZWxQYW5lbFJlbmRlcmVyXG4+IHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIG9wdGlvbnM6IFdvcmtzcGFjZVRyYXlGYWN0b3J5T3B0aW9ucykge1xuICAgIHN1cGVyKFdvcmtzcGFjZVRyYXlNb2RlbC5OQU1FKTtcbiAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXIoe1xuICAgICAgbW9kZWxHZW5lcmF0ZWQ6ICh7IG1vZGVsIH0pID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaW5zdGFsbEljb25Qb3NpdGlvbkxpc3RlbmVyKSB7XG4gICAgICAgICAgc2V0dXBJY29uUG9zaXRpb25CZWhhdmlvcihtb2RlbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaW5zdGFsbEVuZ2luZUxvY2tMaXN0ZW5lcikge1xuICAgICAgICAgIHNldHVwVHJheVdpbmRvd0RyYWdMb2NrQmVoYXZpb3IobW9kZWwsIHRoaXMuZW5naW5lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9nZW5lcmF0ZU1vZGVsKCk6IFQge1xuICAgIHJldHVybiBuZXcgV29ya3NwYWNlVHJheU1vZGVsKHtcbiAgICAgIGljb25XaWR0aDogNTAsXG4gICAgICBmYWN0b3J5OiB0aGlzLm9wdGlvbnMud2luZG93RmFjdG9yeVxuICAgIH0pIGFzIFQ7XG4gIH1cblxuICBnZW5lcmF0ZVRyYXlIZWFkZXIoZXZlbnQ6IFdvcmtzcGFjZU1vZGVsRmFjdG9yeUV2ZW50PFQ+KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZW5lcmF0ZUNvbnRlbnQoZXZlbnQ6IFdvcmtzcGFjZU1vZGVsRmFjdG9yeUV2ZW50PFQ+KTogSlNYLkVsZW1lbnQge1xuICAgIHJldHVybiAoXG4gICAgICA8VHJheVdpZGdldCBmYWN0b3J5PXt0aGlzfSBoZWFkZXI9e3RoaXMuZ2VuZXJhdGVUcmF5SGVhZGVyKGV2ZW50KX0gbm9kZT17ZXZlbnQubW9kZWx9IGVuZ2luZT17ZXZlbnQuZW5naW5lfSAvPlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFRyYXlJY29uUG9zaXRpb24sIFdvcmtzcGFjZVRyYXlNb2RlbCB9IGZyb20gJy4uL1dvcmtzcGFjZVRyYXlNb2RlbCc7XG5pbXBvcnQgeyBBbGlnbm1lbnQgfSBmcm9tICdAcHJvamVjdHN0b3JtL3JlYWN0LXdvcmtzcGFjZXMtY29yZSc7XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgcG9zaXRpb24gb2YgdGhlIGljb24gYmFyIHBvc2l0aW9uIGdpdmVuIHRoZSB0cmF5cyBhZmZpbml0eSB0byBhIHNpZGUgb2YgdGhlIHNjcmVlblxuICogQHBhcmFtIG1vZGVsXG4gKi9cbmV4cG9ydCBjb25zdCBzZXR1cEljb25Qb3NpdGlvbkJlaGF2aW9yID0gKG1vZGVsOiBXb3Jrc3BhY2VUcmF5TW9kZWwpID0+IHtcbiAgY29uc3Qgc2V0dXBQb3NpdGlvbmluZyA9ICgpID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSBtb2RlbC5nZXRSb290TW9kZWwoKTtcbiAgICBpZiAocGFyZW50LnJfZGltZW5zaW9ucy5zaXplLndpZHRoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChtb2RlbC5yX2RpbWVuc2lvbnMuaXNBbGlnbmVkKHBhcmVudC5yX2RpbWVuc2lvbnMsIEFsaWdubWVudC5MRUZUKSkge1xuICAgICAgbW9kZWwuc2V0SWNvblBvc2l0aW9uKFRyYXlJY29uUG9zaXRpb24uTEVGVCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1vZGVsLnNldEljb25Qb3NpdGlvbihUcmF5SWNvblBvc2l0aW9uLlJJR0hUKTtcbiAgICB9XG4gIH07XG4gIG1vZGVsLndhaXRGb3JJbml0aWFsUmVuZGVyZWRTaXplKCkudGhlbigoZGltcykgPT4ge1xuICAgIGNvbnN0IHBhcmVudCA9IG1vZGVsLmdldFJvb3RNb2RlbCgpO1xuICAgIHBhcmVudC5yX2RpbWVuc2lvbnMuaW52YWxpZGF0ZSh0cnVlKTtcbiAgICBzZXR1cFBvc2l0aW9uaW5nKCk7XG4gIH0pO1xuICBtb2RlbC5yX2RpbWVuc2lvbnMucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgdXBkYXRlZDogKCkgPT4ge1xuICAgICAgc2V0dXBQb3NpdGlvbmluZygpO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiaW1wb3J0IHsgV29ya3NwYWNlVHJheU1vZGVsIH0gZnJvbSAnLi4vV29ya3NwYWNlVHJheU1vZGVsJztcbmltcG9ydCB7IFdvcmtzcGFjZUVuZ2luZSB9IGZyb20gJ0Bwcm9qZWN0c3Rvcm0vcmVhY3Qtd29ya3NwYWNlcy1jb3JlJztcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBkcmFnZ2FiaWxpdHkgb2YgdHJheSB3aW5kb3dzIGR5bmFtaWNhbGx5IGJhc2VkIG9uIHRoZSBlbmdpbmUgbG9jayBiZWluZyB1cGRhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCBzZXR1cFRyYXlXaW5kb3dEcmFnTG9ja0JlaGF2aW9yID0gKG1vZGVsOiBXb3Jrc3BhY2VUcmF5TW9kZWwsIGVuZ2luZTogV29ya3NwYWNlRW5naW5lKSA9PiB7XG4gIG1vZGVsLmZsb2F0aW5nV2luZG93LnNldERyYWdnYWJsZSghZW5naW5lLmxvY2tlZCk7XG4gIHJldHVybiBlbmdpbmUucmVnaXN0ZXJMaXN0ZW5lcih7XG4gICAgbG9ja1VwZGF0ZWQ6ICgpID0+IHtcbiAgICAgIG1vZGVsLmZsb2F0aW5nV2luZG93LnNldERyYWdnYWJsZSghZW5naW5lLmxvY2tlZCk7XG4gICAgfVxuICB9KTtcbn07XG4iXSwibmFtZXMiOlsiRGVmYXVsdERyb3Bab25lQWxpZ25tZW50VGhlbWUiLCJ0aGlja25lc3MiLCJ0aGlja25lc3NJZGxlIiwibGVuZ3RoSWRsZSIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kRW50ZXJlZCIsIkRyb3Bab25lQWxpZ25tZW50QnV0dG9uV2lkZ2V0IiwicHJvcHMiLCJlbnRlcmVkIiwic2V0RW50ZXJlZCIsInVzZVN0YXRlIiwicmVmIiwidXNlUmVmIiwidGhlbWUiLCJfIiwidXNlTW91c2VEcmFnRXZlbnRzIiwiZm9yd2FyZFJlZiIsIm1vdXNlRW50ZXIiLCJtb3VzZUV4aXQiLCJ1c2VEcm9wcGFibGVNb2RlbCIsImVuZ2luZSIsIm9uRHJvcCIsImhhbmRsZURyb3AiLCJ2ZXJ0aWNhbCIsImFsaWdubWVudCIsIkFsaWdubWVudCIsIkxFRlQiLCJSSUdIVCIsIndpZHRoIiwiaGVpZ2h0IiwiX2pzeCIsIlMiLCJTcGxpdENvbnRhaW5lciIsImhvdmVyIiwiY2hpbGRyZW4iLCJTcGxpdENvbnRhaW5lckljb24iLCJkaXNwbGF5TmFtZSIsInN0eWxlZCIsImRpdiIsInAiLCJfX2RvY2dlbkluZm8iLCJEcm9wWm9uZVRyYW5zZm9ybVdpZGdldCIsIm1vZGVsIiwiem9uZSIsInRyYW5zZm9ybSIsInpvbmVNb2RlbCIsIkNvbnRhaW5lciIsInJlbmRlciIsIkRlZmF1bHREcm9wWm9uZUxheWVyUGFuZWxUaGVtZSIsImJvcmRlciIsImJsdXIiLCJib3JkZXJDb2xvciIsImJvcmRlckNvbG9yRW50ZXJlZCIsImJvcmRlclJhZGl1cyIsIkRyb3Bab25lTGF5ZXJQYW5lbFdpZGdldCIsInNob3ciLCJzZXRTaG93IiwiVXNlTW91c2VEcmFnRXZlbnRzUm9vdFdpZGdldCIsIkRpbWVuc2lvblRyYWNraW5nIiwiZGltZW5zaW9uIiwicl9kaW1lbnNpb25zIiwiX2pzeHMiLCJJbnNpZGUiLCJMYXllciIsInZpc2libGUiLCJkaXJlY3RpdmUiLCJzcGxpdFpvbmVzIiwibWFwIiwiZCIsInNwbGl0QnV0dG9uVGhlbWUiLCJMYXllcjIiLCJCdXR0b25CYXIiLCJ0cmFuc2Zvcm1ab25lcyIsInRyYW5zZm9ybUJ1dHRvblRoZW1lIiwia2V5IiwiZGVidWciLCJEZWJ1ZyIsImlkIiwic3Vic3RyaW5nIiwiRGltZW5zaW9uVHJhY2tpbmdXaWRnZXQiLCJzcGFuIiwiRHJvcFpvbmVMYXllciIsImNvbnN0cnVjdG9yIiwib3B0aW9uczIiLCJzdXBlciIsIm1vdXNlRXZlbnRzIiwicmVuZGVyTGF5ZXIiLCJldmVudCIsIkRyb3Bab25lTGF5ZXJXaWRnZXQiLCJkZWJ1Z01vZGVscyIsInRoaXMiLCJkcmFnZ2luZ01vZGVsIiwibW9kZWxJRCIsImdldERyb3Bab25lRm9yTW9kZWwiLCJkcmFnZ2luZ01vZGVsRmxhdHRlbmVkIiwiX2EiLCJyb290TW9kZWwiLCJmbGF0dGVuIiwiZmluZCIsIm0iLCJfRnJhZ21lbnQiLCJmaWx0ZXIiLCJyX3Zpc2libGUiLCJjaGlsZCIsIkRlZmF1bHREcm9wWm9uZUxheWVyQnV0dG9uVGhlbWUiLCJib3JkZXJTaXplIiwiaWNvbiIsImNvbG9yIiwic2l6ZSIsInRleHQiLCJEcm9wWm9uZUxheWVyQnV0dG9uV2lkZ2V0IiwiSWNvbiIsIlRleHQiLCJGb250QXdlc29tZUljb24iLCJsaWJyYXJ5IiwiYWRkIiwiZmFDb3B5IiwiUmVwbGFjZVpvbmUiLCJwYXJlbnQiLCJyZXBsYWNlTW9kZWwiLCJub3JtYWxpemUiLCJEcm9wem9uZURpdmlkZXJXaWRnZXQiLCJQVUxMX0lOU0VUIiwicHVsbEluc2V0TGVuZ3RoIiwiUFVMTF9PVVRFUiIsIl9iIiwicHVsbEluc2V0V2lkdGgiLCJpbnNldHNWZXJ0aWNhbCIsImluc2V0c0hvcml6b250YWwiLCJpc1BvcnRyYWl0IiwiRGltZW5zaW9uVHJhY2tlciIsImNvbG9yRW50ZXIiLCJfYyIsIl9kIiwiZW50ZXIiLCJEcm9wem9uZURpdmlkZXJzTGF5ZXIiLCJEcm9wem9uZURpdmlkZXJzTGF5ZXJXaWRnZXQiLCJmb3JjZVVwZGF0ZSIsInVzZUZvcmNlVXBkYXRlIiwidXNlRWZmZWN0IiwicmVnaXN0ZXJMaXN0ZW5lciIsImxheW91dEludmFsaWRhdGVkIiwiV29ya3NwYWNlTm9kZU1vZGVsIiwiZmxhdE1hcCIsInJfZGl2aXNpb25zIiwiZGl2aXNpb24iLCJpbmRleCIsImNhbGwiLCJhZGRNb2RlbCIsImlzQWxpZ25lZCIsImRpdmlkZXIiLCJhbGlnbmVkIiwiYmVmb3JlRGlyZWN0aXZlIiwiZ2V0UGFuZWxEaXJlY3RpdmUiLCJiZWZvcmUiLCJhZnRlckRpcmVjdGl2ZSIsImFmdGVyIiwiZXhwYW5kIiwiZ2V0U2libGluZyIsImdldEF2YWlsYWJsZUVsZW1lbnQiLCJpbmRleE9mIiwic2libGluZyIsIm1pbmltdW1TaXplIiwibWF4aW11bVNpemUiLCJldmVyeSIsInYiLCJhcnIiLCJSZXNpemVEaXZpZGVyV2lkZ2V0IiwiY29udGFpbmVyIiwiZGl2aWRlckNvbnRhaW5lciIsImRpbWVuc2lvbnMiLCJzdHJhdGVneSIsImdldFJlc2l6ZVN0cmF0ZWd5Iiwic2l6ZVNuYXBzaG90IiwiTWFwIiwiaXNFeHBhbmQiLCJzZXRTaXplIiwidmFsIiwic2V0V2lkdGgiLCJzZXRIZWlnaHQiLCJzdGFydE1vdmUiLCJjIiwibW92ZWQiLCJkaXN0YW5jZVgiLCJkaXN0YW5jZVkiLCJkaXN0YW5jZSIsIlRPUCIsImdldCIsImdldEFsaWdubWVudEludmVydGVkIiwiaW52YWxpZGF0ZSIsInVzZU1vdXNlRHJhZ0Rpc3RhbmNlIiwiT2JqZWN0IiwiYXNzaWduIiwib25Nb3VzZUVudGVyIiwic2V0SG92ZXIiLCJvbk1vdXNlTGVhdmUiLCJvbk1vdXNlRG93biIsImwiLCJzZXRBY3RpdmUiLCJ3aW5kb3ciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIlJlc2l6ZURpdmlkZXJzTGF5ZXIiLCJSZXNpemVEaXZpZGVyc0xheWVyV2lkZ2V0IiwibGlzdGVuZXJzIiwidmlzaWJpbGl0eUNoYW5nZWQiLCJmb3JFYWNoIiwiZ2V0UmVzaXplRGl2aXNpb25zIiwiZmFQbHVzIiwiZmFMYXllckdyb3VwIiwiQXBwZW5kVG9UYWJHcm91cFpvbmUiLCJmYVRhYmxlTGlzdCIsIkFwcGVuZFRvVHJheVpvbmUiLCJDb252ZXJ0VG9UcmF5Wm9uZSIsInRyYXlGYWN0b3J5IiwidHJheU1vZGVsIiwiZ2VuZXJhdGVNb2RlbCIsImdlblZlcnRpY2FsTm9kZSIsIkV4cGFuZE5vZGVNb2RlbCIsInNldEV4cGFuZCIsInNldFZlcnRpY2FsIiwiRGVmYXVsdFdvcmtzcGFjZVBhbmVsTW9kZWwiLCJEZWJ1Z09wdGlvbnMiLCJTaGFyZWRBcmdzIiwiRGVidWdQYW5lbHMiLCJEZWJ1Z0RpdmlkZXJzIiwiRGVidWdSZXNpemVycyIsIkRlYnVnV2luZG93cyIsInVzZVJvb3RNb2RlbCIsImFyZ3MiLCJzZXREZWJ1ZyIsInVzZUVuZ2luZSIsImRlYnVnTGF5ZXIiLCJEZWJ1Z0xheWVyIiwiZGl2aWRlcnMiLCJyZXNpemVEaXZpZGVycyIsInBhbmVscyIsImUiLCJXb3Jrc3BhY2VFbmdpbmUiLCJjb21tb25SZW5kZXJlciIsIkRlZmF1bHRTdWJDb21wb25lbnRSZW5kZXJlciIsIndpbmRvd0ZhY3RvcnkiLCJEZWZhdWx0V2luZG93TW9kZWxGYWN0b3J5IiwidGFiRmFjdG9yeSIsIldvcmtzcGFjZVRhYkZhY3RvcnkiLCJEZWZhdWx0VHJheUZhY3RvcnkiLCJpbnN0YWxsSWNvblBvc2l0aW9uTGlzdGVuZXIiLCJpbnN0YWxsRW5naW5lTG9ja0xpc3RlbmVyIiwid29ya3NwYWNlTm9kZUZhY3RvcnkiLCJXb3Jrc3BhY2VOb2RlRmFjdG9yeSIsInJlZ2lzdGVyRmFjdG9yeSIsIkRlZmF1bHRXb3Jrc3BhY2VQYW5lbEZhY3RvcnkiLCJhZGRSZW5kZXJlciIsIm9wdGlvbnMiLCJsYXllciIsIm1vZGVsRHJhZ1N0YXJ0IiwiZHJhZ2dpbmdJRCIsImdldFRoZW1lIiwibGF5ZXJNYW5hZ2VyIiwiYWRkTGF5ZXIiLCJtb2RlbERyYWdFbmQiLCJyZW1vdmUiLCJkcmFnZ2luZ0l0ZW1CZWhhdmlvciIsImdldERpcmVjdGl2ZUZvclRyYXlNb2RlbCIsIm5vZGUiLCJXb3Jrc3BhY2VDb2xsZWN0aW9uTW9kZWwiLCJXb3Jrc3BhY2VUcmF5TW9kZWwiLCJnZW5lcmF0ZVBhcmVudE5vZGUiLCJleHBhbmRIb3Jpem9udGFsIiwiQk9UVE9NIiwiZ2V0RGlyZWN0aXZlRm9yV29ya3NwYWNlTm9kZSIsImZhY3RvcnkiLCJ0YWJzIiwiZ2V0RGlyZWN0aXZlRm9yVGFiTW9kZWwiLCJXb3Jrc3BhY2VUYWJNb2RlbCIsImRyYWdnaW5nSXRlbURpdmlkZXJCZWhhdmlvciIsInRyeU1vdW50TGF5ZXIiLCJpc0luc2VydGVkIiwibW9kZWxVcGRhdGVkIiwicmVzaXppbmdCZWhhdmlvciIsInVwZGF0ZU9wdGlvbnMiLCJDb21wSW50ZXJuYWwiLCJSZWFjdCIsIkdsb2JhbCIsInN0eWxlcyIsImNzcyIsIldvcmtzcGFjZVdpZGdldCIsIkJ1dHRvbnMiLCJDb250YWluZXIyIiwiYnRucyIsImJ0bkNhbGxiYWNrIiwiYnRuIiwiQnV0dG9uIiwib25DbGljayIsIm1vdXNlRG93biIsImJ1dHRvbiIsIm1vdXNlTW92ZSIsImV2ZW50MiIsImNsaWVudFgiLCJjbGllbnRZIiwibW91c2VVcCIsImVuZE1vdmUiLCJjdXJyZW50IiwiQmFzZU9ic2VydmVyIiwibGlzdGVuZXIiLCJtZXRhIiwidjQiLCJpdGVyYXRlTGlzdGVuZXJzIiwiY2IiLCJpIiwiU2l6ZSIsIl93aWR0aCIsIl9oZWlnaHQiLCJ1cGRhdGUiLCJ2YWxpZCIsImdldFZvbHVtZSIsInZhbHVlIiwidHJhY2tTaXplIiwidXBkYXRlZCIsIm9sZCIsInByZXYiLCJQb3NpdGlvbiIsIl90b3AiLCJfbGVmdCIsIl9ib3R0b20iLCJfcmlnaHQiLCJ0b3AiLCJsZWZ0IiwiYm90dG9tIiwicmlnaHQiLCJnZXRSZWxhdGl2ZVRvUG9zaXRpb24iLCJyZWN0IiwiZ2V0UmVsYXRpdmVUb01vdXNlUG9zaXRpb24iLCJwb3NpdGlvbiIsIkRpbWVuc2lvbkNvbnRhaW5lciIsImZpcmVVcGRhdGVkIiwiaW1tZWRpYXRlIiwiZGltIiwicmVsIiwiV29ya3NwYWNlTW9kZWxTaXplIiwibWluIiwibWF4IiwiV29ya3NwYWNlTW9kZWwiLCJ0eXBlIiwiX2V4cGFuZEhvcml6b250YWwiLCJfZXhwYW5kVmVydGljYWwiLCJpbnZhbGlkYXRlRGltZW5zaW9ucyIsImV4cGFuZFZlcnRpY2FsIiwid2FpdEZvckluaXRpYWxSZW5kZXJlZFNpemUiLCJQcm9taXNlIiwicmVzb2x2ZSIsImwxIiwibDIiLCJkaW1zIiwiZ2V0QWxsUmVuZGVyRGltZW5zaW9ucyIsImRpbWVuc2lvbnNJbnZhbGlkYXRlZCIsImludmFsaWRhdGVMYXlvdXQiLCJzZXRWaXNpYmxlIiwiZmlyZU5vZGVSZW1vdmVkIiwibGlzdCIsInJlbW92ZWQiLCJnZXRDaGlsZFNpYmxpbmciLCJkZWxldGUiLCJoYXNQYXJlbnRJRCIsInBhcmVudElEIiwic2V0UGFyZW50IiwiZ2V0Um9vdE1vZGVsIiwiaG9yaXpvbnRhbCIsInRvQXJyYXkiLCJmcm9tQXJyYXkiLCJwYXlsb2FkIiwiZ2V0RmFjdG9yeSIsImV4IiwiaXNGaXJzdE1vZGVsIiwiaXNMYXN0TW9kZWwiLCJsZW5ndGgiLCJjb25jYXQiLCJnZXRGbGF0dGVuZWQiLCJwdXNoIiwib2xkTW9kZWwiLCJuZXdNb2RlbCIsImdldE1vZGVsQmVmb3JlIiwiZ2V0TW9kZWxBZnRlciIsInJlbW92ZU1vZGVsIiwiY29uc29sZSIsImxvZyIsInNwbGljZSIsInBvcyIsImNoaWxkUmVtb3ZlZCIsImFkZE1vZGVsQmVmb3JlIiwicmVsYXRpdmVNb2RlbCIsImFkZE1vZGVsQWZ0ZXIiLCJyZWdlbmVyYXRlSURzIiwiQ29ybmVyIiwidXNlQmFzZVJlc2l6ZU9ic2VydmVyIiwidXBkYXRlTG9naWMiLCJ1c2VDYWxsYmFjayIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImRpbU9iamVjdCIsInRyYW5zZm9ybWVyIiwidXBkYXRlRGVib3VuY2VkIiwiaWdub3JlRGVib3VuY2UiLCJyZXNpemVkIiwidXNlV2luZG93UmVzaXplIiwiaW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsInJvb3QiLCJkb2N1bWVudCIsImJvZHkiLCJvYnNlcnZlIiwidW5vYnNlcnZlIiwiZGlzY29ubmVjdCIsInJlc2l6ZU9ic2VydmVyIiwiUmVzaXplT2JzZXJ2ZXIiLCJ1c2VSZXNpemVPYnNlcnZlciIsIndvcmtzcGFjZUNvbnRhaW5lciIsImxheW91dFJlcGFpbnRlZCIsInVzZURpbWVuc2lvbkxheW91dEludmFsaWRhdG9yIiwidXNlTW9kZWxFbGVtZW50IiwiZGVib3VuY2UiLCJzZXRWYWx1ZSIsInVzZVNjcm9sbE9ic2VydmVyIiwiRHJvcFpvbmVEcmFnQ29udGV4dCIsInVzZUNvbnRleHQiLCJkcmFnRW50ZXIiLCJpbmNyZW1lbnQiLCJkcmFnTGVhdmUiLCJkZWNyZW1lbnQiLCJVc2VNb3VzZURyYWdFdmVudHNSb290V2lkZ2V0SW5uZXIiLCJkcmFnQ291bnQiLCJQcm92aWRlciIsInVzZURyYWdnYWJsZSIsImRyYWdTdGFydCIsInN0b3BQcm9wYWdhdGlvbiIsIm9iamVjdCIsImVuY29kZSIsImRhdGFUcmFuc2ZlciIsImRyb3BFZmZlY3QiLCJhbHRLZXkiLCJlZmZlY3RBbGxvd2VkIiwic2V0RGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkcmFnRW5kIiwiX19hd2FpdGVyIiwiZHJhZ2VuZCIsImNvcHkiLCJzdWNjZXNzIiwidXNlRHJhZ092ZXJNb2RlbCIsImRyYWdPdmVyIiwiZm91bmQiLCJ0eXBlcyIsImFjY2VwdGVkVHlwZXMiLCJzb21lIiwic3RhcnRzV2l0aCIsImFjY2VwdCIsInByZXZlbnREZWZhdWx0IiwidXNlRHJhZ092ZXIiLCJXT1JLU1BBQ0VfTU9ERUxfTUlNRSIsInQiLCJXT1JLU1BBQ0VfTU9ERUxfSURfTUlNRSIsIm9uRHJhZ292ZXIiLCJkcm9wIiwicmVzIiwiZGF0YSIsImdldERhdGEiLCJwYXJzZSIsIndhcm4iLCJkcm9wcGVkIiwiaXNDb3B5IiwidXNlRHJvcHBhYmxlIiwib3B0cyIsImRyYWdnaW5nTm9kZSIsImNsYXNzTmFtZSIsImFuaW1hdGUiLCJhbmltYXRlRHVyYXRpb24iLCJEaXZpZGVyV2lkZ2V0IiwiZGltZW5zaW9uQ29udGFpbmVyIiwiYWN0aXZlQ2hhbmdlZCIsImhvdmVyQ2hhbmdlZCIsImhvdmVyQ29sb3IiLCJhY3RpdmVDb2xvciIsImFjdGl2ZSIsIkRyYWdnYWJsZSIsImRyYWdnYWJsZSIsIkRyYWdnYWJsZVdpZGdldCIsInNldERyYWdnaW5nTm9kZSIsInVzZURyYWdnYWJsZU1vZGVsIiwibG9ja1VwZGF0ZWQiLCJsb2NrZWQiLCJvbkRyYWdTdGFydCIsImRyYWdnaW5nRWxlbWVudCIsIm9uRHJhZ0VuZCIsIkRyb3B6b25lTG9naWNXaWRnZXQiLCJzZXRFbnRlciIsIm9uRHJhZ0VudGVyIiwic2V0TGF5ZXJNYW5hZ2VyIiwibWFuYWdlciIsIm1vdmVUb1RvcCIsInJlcGFpbnQiLCJMYXllck1hbmFnZXIiLCJfbGF5ZXJzIiwiU2V0IiwiaW5pdGlhbFpJbmRleCIsInNldEluaXRpYWxaSW5kZXgiLCJFcnJvciIsImxheWVycyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImxheWVyc0NoYW5nZWQiLCJsYXllckFkZGVkIiwiT3JkZXJpbmdMYXllcldpZGdldERpdmlkZXIiLCJ6b25lRW50ZXJlZCIsIk9yZGVyaW5nTGF5ZXJXaWRnZXQiLCJ0cmFja2VycyIsIk9yZGVyaW5nTGF5ZXIiLCJudW1iZXIiLCJlbnRlcmVkWm9uZSIsIk9yZGVyaW5nV2lkZ2V0Wm9uZSIsImFuaW1hdGlvbkVuZCIsIkV4cGFuZFZlcnRpY2FsIiwiRXhwYW5kSG9yaXpvbnRhbCIsIk9yZGVyaW5nV2lkZ2V0IiwiY29udGFpbmVycyIsIlNtYXJ0T3JkZXJpbmdXaWRnZXQiLCJkcmFnZ2luZyIsInNldERyYWdnaW5nIiwiUmVzaXplRGltZW5zaW9uQ29udGFpbmVyIiwiTkFNRSIsInJfb3ZlckNvbnN0cmFpbmVkIiwic2V0T3ZlckNvbnN0cmFpbmVkIiwib3ZlckNvbnN0cmFpbmVkQ2hhbmdlZCIsImRpdnMiLCJyZWNvbXB1dGVEaXZpc2lvbnMiLCJkaXZpc2lvbnNSZWNvbXB1dGVkIiwic2hvdWxkRXhwYW5kIiwic2V0SG9yaXpvbnRhbCIsImRlYnVnT3B0aW9ucyIsIkRlYnVnTGF5ZXJXaWRnZXQiLCJEZWJ1Z1BhbmVsIiwiT3V0bGluZTIiLCJEZWJ1Z0lEIiwiT3V0bGluZSIsIkxheWVyV2lkZ2V0IiwiJHBvaW50ZXJFdmVudHMiLCJMYXllck1hbmFnZXJXaWRnZXQiLCJfY3JlYXRlRWxlbWVudCIsIkNoaWxkQ29udGFpbmVyIiwiRGlyZWN0aW9uQ2hpbGRXaWRnZXQiLCJnZW5lcmF0ZUVsZW1lbnQiLCJEaXJlY3Rpb25hbExheW91dFdpZGdldCIsImZpcnN0RGl2aWRlciIsImRpbWVuc2lvbkNvbnRhaW5lckZvckRpdmlkZXIiLCJnZW5lcmF0ZURpdmlkZXIiLCJnZXRDaGlsZFNpemVEaXJlY3RpdmUiLCJyZWZfY29udGFpbmVyIiwidGltZXJMaXN0ZW5lciIsImZpcmVSZXBhaW50ZWQiLCJzZXRSb290TW9kZWwiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZ2VuZXJhdGVDb250ZW50IiwiV29ya3NwYWNlTW9kZWxGYWN0b3J5Iiwic2V0RW5naW5lIiwiX2dlbmVyYXRlTW9kZWwiLCJtb2RlbEdlbmVyYXRlZCIsIldvcmtzcGFjZUVuZ2luZUVycm9yIiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJpbnZhbGlkYXRlRGltZW5zaW9uc0RlYm91bmNlZCIsImZhY3RvcmllcyIsInJvb3RNb2RlbExpc3RlbmVyIiwic2V0TG9ja2VkIiwic3RhdGljIiwiZmlyZVJlcGFpbnRMaXN0ZW5lcnMiLCJyZXBhaW50aW5nIiwicmVuZGVyZWQiLCJxdWV1ZWRGb3JJbml0aWFsU2l6ZUNoZWNrIiwiYWxsb3dTaXplUmVjb21wdXRhdGlvbiIsInJlY29tcHV0ZUluaXRpYWxTaXplcyIsImNsZWFyIiwiaGFzIiwicmVjb21wdXRlU2l6ZXMiLCJzZXQiLCJvcmlnaW5hbFdpZHRoIiwib3JpZ2luYWxIZWlnaHQiLCJrZXlzIiwiU3ViQ29tcG9uZW50TW9kZWxGYWN0b3J5IiwicmVuZGVyZXJzIiwiciIsImdldFJlbmRlcmVyRm9yTW9kZWwiLCJtYXRjaE1vZGVsIiwiV29ya3NwYWNlTm9kZVdpZGdldCIsInNjcm9sbEhlaWdodCIsInNjcm9sbFdpZHRoIiwiRGlyZWN0aW9uYWxMYXlvdXQiLCJXb3Jrc3BhY2VOb2RlUGFuZWxXaWRnZXQiLCJyZW5kZXJlciIsInJlbmRlclRpdGxlQmFyIiwiQ29udGVudCIsIlRyYXkiLCJXb3Jrc3BhY2VUcmF5RmFjdG9yeSIsImdlbmVyYXRlVHJheUhlYWRlciIsIm9uRG91YmxlQ2xpY2siLCJzZXRNb2RlIiwibW9kZSIsIldvcmtzcGFjZVRyYXlNb2RlIiwiTk9STUFMIiwiQ09MTEFQU0VEIiwiTWV0YSIsIk1ldGFLZXkiLCJsYWJlbCIsIk1ldGFWYWx1ZSIsIkRlZmF1bHRQYW5lbENvbnRlbnRXaWRnZXQiLCJzdHlsZSIsIm9wYWNpdHkiLCJSZW5kZXJpbmciLCJUWVBFIiwiRGVmYXVsdEZsb2F0aW5nV2luZG93V2lkZ2V0IiwidGl0bGViYXIiLCJjb250ZW50IiwiRGVmYXVsdFdpbmRvd01vZGVsIiwiRmxvYXRpbmdXaW5kb3dNb2RlbCIsIkZsb2F0aW5nV2luZG93RmFjdG9yeSIsIlRpdGxlIiwiQ2xvc2UiLCJEZWZhdWx0UGFuZWxUaXRsZVdpZGdldCIsInRpdGxlIiwiY2xvc2UiLCJzZWxlY3RlZCIsIkRlZmF1bHRQYW5lbFRhYldpZGdldCIsIm5hbWUiLCJzaG91bGRGb3J3YXJkUHJvcCIsIiRzbWFsbGVyIiwiRGVmYXVsdFBhbmVsTWljcm9CdXR0b25XaWRnZXQiLCJzbWFsbGVyIiwicmVuZGVySWNvbiIsInJlbmRlclRhYiIsInJlbmRlcldpbmRvd1RpdGxlIiwiZmFDdWJlIiwiZmFUaW1lcyIsIkZsb2F0aW5nV2luZG93TGF5ZXJXaWRnZXQiLCJpbml0aWFsUG9zIiwic2V0QW5pbWF0ZSIsImRyYWdnYWJsZVVwZGF0ZWQiLCJjaGlsZFVwZGF0ZWQiLCJtb2RlbFJlZiIsIkZsb2F0aW5nV2luZG93TGF5ZXIiLCJGbG9hdGluZ1dpbmRvd1Jlc2l6ZUNvcm5lcldpZGdldCIsInZhbDEiLCJ2YWwyIiwidG9nZ2xlQW5pbWF0aW9uIiwiY29ybmVyIiwiVE9QX0xFRlQiLCJCT1RUT01fTEVGVCIsIlRPUF9SSUdIVCIsIkJPVFRPTV9SSUdIVCIsIkNvcm5lclJlc2l6ZSIsIkNPUk5FUl9DU1MiLCJqb2luIiwiRmxvYXRpbmdXaW5kb3dSZXNpemVFZGdlV2lkZ2V0IiwiRmxvYXRpbmdXaW5kb3dSZXNpemVMYXllcldpZGdldCIsIlJlbGF0aXZlIiwiRmxvYXRpbmdXaW5kb3dSZXNpemVMYXllciIsIlJvb3RXb3Jrc3BhY2VNb2RlbCIsImZsb2F0aW5nV2luZG93cyIsImxheWVyTGlzdGVuZXIiLCJ3Iiwic2VyaWFsaXplVG9Sb290IiwiZGlzcG9zZSIsImFkZEZsb2F0aW5nV2luZG93IiwicmVzaXplIiwic2V0Q2hpbGQiLCJub3JtYWxpemVQb3NpdGlvbiIsInNldERyYWdnYWJsZSIsImRyYWdFbmFibGUiLCJwYXJlbnRMaXN0ZW5lciIsIlRhYkJ1dHRvbldpZGdldCIsInNlbGVjdGlvbkNoYW5nZWQiLCJzZXRTZWxlY3RlZCIsInJlbmRlclRhYkZvck1vZGVsIiwiZ2V0U2VsZWN0ZWQiLCJUYWJHcm91cCIsIlRhYkNvbnRlbnQiLCJzZWxlY3RlZEZhY3RvcnkiLCJUYWJHcm91cFdpZGdldCIsImdlbmVyYXRlVGFic0NvbnRhaW5lciIsInJldmVyc2UiLCJjaGlsZExpc3RlbmVyIiwiVGFiSGVhZGVyIiwiVHJheUljb25Qb3NpdGlvbiIsInNlbGVjdGVkTW9kZWwiLCJpY29uQmFyUG9zaXRpb24iLCJmbG9hdGluZ1dpbmRvdyIsInNldFNlbGVjdGVkTW9kZWwiLCJ1cGRhdGVXaW5kb3dQb3NpdGlvbiIsInNldEV4cGFuZGVkU2l6ZSIsImljb25XaWR0aCIsInNpemVFeHBhbmRlZCIsInNldEljb25Qb3NpdGlvbiIsImljb25Qb3NpdGlvbkNoYW5nZWQiLCJnZXRTZWxlY3RlZE1vZGVsIiwic2V0RmxvYXRpbmdNb2RlbCIsImljb25Qb3NpdGlvbiIsIm5vcm1hbGl6ZVNlbGVjdGVkTW9kZWwiLCJ0aGVuIiwiX2dldFJvb3RNb2RlbCIsIk1pY3JvTGF5b3V0IiwiU2Nyb2xsYWJsZSIsIk1pY3JvV3JhcHBlciIsInNjcm9sbFJlZiIsIk1pY3JvTGF5b3V0V2lkZ2V0IiwiTWljcm9MYXlvdXRTaHJpbmsiLCJQYW5lbENvbnRlbnQiLCJUcmF5Q29udGVudEV4cGFuZGVkIiwiY29udCIsIlRyYXlDb250ZW50U2hyaW5rIiwiVHJheVdpZGdldCIsImhlYWRlciIsInNldHVwUG9zaXRpb25pbmciLCJzZXR1cEljb25Qb3NpdGlvbkJlaGF2aW9yIiwic2V0dXBUcmF5V2luZG93RHJhZ0xvY2tCZWhhdmlvciJdLCJzb3VyY2VSb290IjoiIn0=